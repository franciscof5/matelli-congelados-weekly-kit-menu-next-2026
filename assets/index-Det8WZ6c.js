(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function k0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Uh={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function PS(){if(Uv)return Ll;Uv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,a){var c=null;if(a!==void 0&&(c=""+a),r.key!==void 0&&(c=""+r.key),"key"in r){a={};for(var h in r)h!=="key"&&(a[h]=r[h])}else a=r;return r=a.ref,{$$typeof:i,type:n,key:c,ref:r!==void 0?r:null,props:a}}return Ll.Fragment=e,Ll.jsx=t,Ll.jsxs=t,Ll}var Fv;function kS(){return Fv||(Fv=1,Uh.exports=PS()),Uh.exports}var w=kS(),Fh={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function LS(){if(Bv)return Pe;Bv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=E&&O[E]||O["@@iterator"],typeof O=="function"?O:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,z={};function H(O,se,Ce){this.props=O,this.context=se,this.refs=z,this.updater=Ce||M}H.prototype.isReactComponent={},H.prototype.setState=function(O,se){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,se,"setState")},H.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function X(){}X.prototype=H.prototype;function j(O,se,Ce){this.props=O,this.context=se,this.refs=z,this.updater=Ce||M}var ne=j.prototype=new X;ne.constructor=j,L(ne,H.prototype),ne.isPureReactComponent=!0;var oe=Array.isArray,te={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function k(O,se,Ce,Te,fe,Oe){return Ce=Oe.ref,{$$typeof:i,type:O,key:se,ref:Ce!==void 0?Ce:null,props:Oe}}function b(O,se){return k(O.type,se,void 0,void 0,void 0,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function N(O){var se={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Ce){return se[Ce]})}var P=/\/+/g;function B(O,se){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):se.toString(36)}function V(){}function He(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(V,V):(O.status="pending",O.then(function(se){O.status==="pending"&&(O.status="fulfilled",O.value=se)},function(se){O.status==="pending"&&(O.status="rejected",O.reason=se)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ot(O,se,Ce,Te,fe){var Oe=typeof O;(Oe==="undefined"||Oe==="boolean")&&(O=null);var Ve=!1;if(O===null)Ve=!0;else switch(Oe){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(O.$$typeof){case i:case e:Ve=!0;break;case _:return Ve=O._init,ot(Ve(O._payload),se,Ce,Te,fe)}}if(Ve)return fe=fe(O),Ve=Te===""?"."+B(O,0):Te,oe(fe)?(Ce="",Ve!=null&&(Ce=Ve.replace(P,"$&/")+"/"),ot(fe,se,Ce,"",function(gt){return gt})):fe!=null&&(x(fe)&&(fe=b(fe,Ce+(fe.key==null||O&&O.key===fe.key?"":(""+fe.key).replace(P,"$&/")+"/")+Ve)),se.push(fe)),1;Ve=0;var Ut=Te===""?".":Te+":";if(oe(O))for(var $e=0;$e<O.length;$e++)Te=O[$e],Oe=Ut+B(Te,$e),Ve+=ot(Te,se,Ce,Oe,fe);else if($e=S(O),typeof $e=="function")for(O=$e.call(O),$e=0;!(Te=O.next()).done;)Te=Te.value,Oe=Ut+B(Te,$e++),Ve+=ot(Te,se,Ce,Oe,fe);else if(Oe==="object"){if(typeof O.then=="function")return ot(He(O),se,Ce,Te,fe);throw se=String(O),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ue(O,se,Ce){if(O==null)return O;var Te=[],fe=0;return ot(O,Te,"","",function(Oe){return se.call(Ce,Oe,fe++)}),Te}function Ie(O){if(O._status===-1){var se=O._result;se=se(),se.then(function(Ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=Ce)},function(Ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=Ce)}),O._status===-1&&(O._status=0,O._result=se)}if(O._status===1)return O._result.default;throw O._result}var Ee=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function je(){}return Pe.Children={map:ue,forEach:function(O,se,Ce){ue(O,function(){se.apply(this,arguments)},Ce)},count:function(O){var se=0;return ue(O,function(){se++}),se},toArray:function(O){return ue(O,function(se){return se})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Pe.Component=H,Pe.Fragment=t,Pe.Profiler=r,Pe.PureComponent=j,Pe.StrictMode=n,Pe.Suspense=y,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Pe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Pe.cache=function(O){return function(){return O.apply(null,arguments)}},Pe.cloneElement=function(O,se,Ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var Te=L({},O.props),fe=O.key,Oe=void 0;if(se!=null)for(Ve in se.ref!==void 0&&(Oe=void 0),se.key!==void 0&&(fe=""+se.key),se)!le.call(se,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&se.ref===void 0||(Te[Ve]=se[Ve]);var Ve=arguments.length-2;if(Ve===1)Te.children=Ce;else if(1<Ve){for(var Ut=Array(Ve),$e=0;$e<Ve;$e++)Ut[$e]=arguments[$e+2];Te.children=Ut}return k(O.type,fe,void 0,void 0,Oe,Te)},Pe.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:a,_context:O},O},Pe.createElement=function(O,se,Ce){var Te,fe={},Oe=null;if(se!=null)for(Te in se.key!==void 0&&(Oe=""+se.key),se)le.call(se,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(fe[Te]=se[Te]);var Ve=arguments.length-2;if(Ve===1)fe.children=Ce;else if(1<Ve){for(var Ut=Array(Ve),$e=0;$e<Ve;$e++)Ut[$e]=arguments[$e+2];fe.children=Ut}if(O&&O.defaultProps)for(Te in Ve=O.defaultProps,Ve)fe[Te]===void 0&&(fe[Te]=Ve[Te]);return k(O,Oe,void 0,void 0,null,fe)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(O){return{$$typeof:h,render:O}},Pe.isValidElement=x,Pe.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:Ie}},Pe.memo=function(O,se){return{$$typeof:g,type:O,compare:se===void 0?null:se}},Pe.startTransition=function(O){var se=te.T,Ce={};te.T=Ce;try{var Te=O(),fe=te.S;fe!==null&&fe(Ce,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(je,Ee)}catch(Oe){Ee(Oe)}finally{te.T=se}},Pe.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Pe.use=function(O){return te.H.use(O)},Pe.useActionState=function(O,se,Ce){return te.H.useActionState(O,se,Ce)},Pe.useCallback=function(O,se){return te.H.useCallback(O,se)},Pe.useContext=function(O){return te.H.useContext(O)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(O,se){return te.H.useDeferredValue(O,se)},Pe.useEffect=function(O,se){return te.H.useEffect(O,se)},Pe.useId=function(){return te.H.useId()},Pe.useImperativeHandle=function(O,se,Ce){return te.H.useImperativeHandle(O,se,Ce)},Pe.useInsertionEffect=function(O,se){return te.H.useInsertionEffect(O,se)},Pe.useLayoutEffect=function(O,se){return te.H.useLayoutEffect(O,se)},Pe.useMemo=function(O,se){return te.H.useMemo(O,se)},Pe.useOptimistic=function(O,se){return te.H.useOptimistic(O,se)},Pe.useReducer=function(O,se,Ce){return te.H.useReducer(O,se,Ce)},Pe.useRef=function(O){return te.H.useRef(O)},Pe.useState=function(O){return te.H.useState(O)},Pe.useSyncExternalStore=function(O,se,Ce){return te.H.useSyncExternalStore(O,se,Ce)},Pe.useTransition=function(){return te.H.useTransition()},Pe.version="19.0.0",Pe}var qv;function Gm(){return qv||(qv=1,Fh.exports=LS()),Fh.exports}var et=Gm();const L0=k0(et);var Bh={exports:{}},Ol={},qh={exports:{}},zh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function OS(){return zv||(zv=1,(function(i){function e(ue,Ie){var Ee=ue.length;ue.push(Ie);e:for(;0<Ee;){var je=Ee-1>>>1,O=ue[je];if(0<r(O,Ie))ue[je]=Ie,ue[Ee]=O,Ee=je;else break e}}function t(ue){return ue.length===0?null:ue[0]}function n(ue){if(ue.length===0)return null;var Ie=ue[0],Ee=ue.pop();if(Ee!==Ie){ue[0]=Ee;e:for(var je=0,O=ue.length,se=O>>>1;je<se;){var Ce=2*(je+1)-1,Te=ue[Ce],fe=Ce+1,Oe=ue[fe];if(0>r(Te,Ee))fe<O&&0>r(Oe,Te)?(ue[je]=Oe,ue[fe]=Ee,je=fe):(ue[je]=Te,ue[Ce]=Ee,je=Ce);else if(fe<O&&0>r(Oe,Ee))ue[je]=Oe,ue[fe]=Ee,je=fe;else break e}}return Ie}function r(ue,Ie){var Ee=ue.sortIndex-Ie.sortIndex;return Ee!==0?Ee:ue.id-Ie.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var y=[],g=[],_=1,E=null,S=3,M=!1,L=!1,z=!1,H=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function ne(ue){for(var Ie=t(g);Ie!==null;){if(Ie.callback===null)n(g);else if(Ie.startTime<=ue)n(g),Ie.sortIndex=Ie.expirationTime,e(y,Ie);else break;Ie=t(g)}}function oe(ue){if(z=!1,ne(ue),!L)if(t(y)!==null)L=!0,He();else{var Ie=t(g);Ie!==null&&ot(oe,Ie.startTime-ue)}}var te=!1,le=-1,k=5,b=-1;function x(){return!(i.unstable_now()-b<k)}function N(){if(te){var ue=i.unstable_now();b=ue;var Ie=!0;try{e:{L=!1,z&&(z=!1,X(le),le=-1),M=!0;var Ee=S;try{t:{for(ne(ue),E=t(y);E!==null&&!(E.expirationTime>ue&&x());){var je=E.callback;if(typeof je=="function"){E.callback=null,S=E.priorityLevel;var O=je(E.expirationTime<=ue);if(ue=i.unstable_now(),typeof O=="function"){E.callback=O,ne(ue),Ie=!0;break t}E===t(y)&&n(y),ne(ue)}else n(y);E=t(y)}if(E!==null)Ie=!0;else{var se=t(g);se!==null&&ot(oe,se.startTime-ue),Ie=!1}}break e}finally{E=null,S=Ee,M=!1}Ie=void 0}}finally{Ie?P():te=!1}}}var P;if(typeof j=="function")P=function(){j(N)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,V=B.port2;B.port1.onmessage=N,P=function(){V.postMessage(null)}}else P=function(){H(N,0)};function He(){te||(te=!0,P())}function ot(ue,Ie){le=H(function(){ue(i.unstable_now())},Ie)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ue){ue.callback=null},i.unstable_continueExecution=function(){L||M||(L=!0,He())},i.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ue?Math.floor(1e3/ue):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return t(y)},i.unstable_next=function(ue){switch(S){case 1:case 2:case 3:var Ie=3;break;default:Ie=S}var Ee=S;S=Ie;try{return ue()}finally{S=Ee}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ue,Ie){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Ee=S;S=ue;try{return Ie()}finally{S=Ee}},i.unstable_scheduleCallback=function(ue,Ie,Ee){var je=i.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?je+Ee:je):Ee=je,ue){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=Ee+O,ue={id:_++,callback:Ie,priorityLevel:ue,startTime:Ee,expirationTime:O,sortIndex:-1},Ee>je?(ue.sortIndex=Ee,e(g,ue),t(y)===null&&ue===t(g)&&(z?(X(le),le=-1):z=!0,ot(oe,Ee-je))):(ue.sortIndex=O,e(y,ue),L||M||(L=!0,He())),ue},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(ue){var Ie=S;return function(){var Ee=S;S=Ie;try{return ue.apply(this,arguments)}finally{S=Ee}}}})(zh)),zh}var Gv;function US(){return Gv||(Gv=1,qh.exports=OS()),qh.exports}var Gh={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function FS(){if(Hv)return cn;Hv=1;var i=Gm();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(y,g,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:y,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,cn.createPortal=function(y,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return a(y,g,null,_)},cn.flushSync=function(y){var g=c.T,_=n.p;try{if(c.T=null,n.p=2,y)return y()}finally{c.T=g,n.p=_,n.d.f()}},cn.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,n.d.C(y,g))},cn.prefetchDNS=function(y){typeof y=="string"&&n.d.D(y)},cn.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var _=g.as,E=h(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?n.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:M}):_==="script"&&n.d.X(y,{crossOrigin:E,integrity:S,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},cn.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=h(g.as,g.crossOrigin);n.d.M(y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&n.d.M(y)},cn.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,E=h(_,g.crossOrigin);n.d.L(y,_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},cn.preloadModule=function(y,g){if(typeof y=="string")if(g){var _=h(g.as,g.crossOrigin);n.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else n.d.m(y)},cn.requestFormReset=function(y){n.d.r(y)},cn.unstable_batchedUpdates=function(y,g){return y(g)},cn.useFormState=function(y,g,_){return c.H.useFormState(y,g,_)},cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},cn.version="19.0.0",cn}var $v;function BS(){if($v)return Gh.exports;$v=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gh.exports=FS(),Gh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function qS(){if(Yv)return Ol;Yv=1;var i=US(),e=Gm(),t=BS();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var a=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),oe=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function le(s){return s===null||typeof s!="object"?null:(s=te&&s[te]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function b(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case y:return"Fragment";case h:return"Portal";case _:return"Profiler";case g:return"StrictMode";case z:return"Suspense";case H:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Provider";case S:return(s._context.displayName||"Context")+".Consumer";case L:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case X:return o=s.displayName||null,o!==null?o:b(s.type)||"Memo";case j:o=s._payload,s=s._init;try{return b(s(o))}catch{}}return null}var x=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,P,B;function V(s){if(P===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);P=o&&o[1]||"",B=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+s+B}var He=!1;function ot(s,o){if(!s||He)return"";He=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(o){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Q){var Y=Q}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(Q){Y=Q}s.call(ie.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),C=v[0],R=v[1];if(C&&R){var D=C.split(`
`),F=R.split(`
`);for(p=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;p<F.length&&!F[p].includes("DetermineComponentFrameRoot");)p++;if(u===D.length||p===F.length)for(u=D.length-1,p=F.length-1;1<=u&&0<=p&&D[u]!==F[p];)p--;for(;1<=u&&0<=p;u--,p--)if(D[u]!==F[p]){if(u!==1||p!==1)do if(u--,p--,0>p||D[u]!==F[p]){var Z=`
`+D[u].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=u&&0<=p);break}}}finally{He=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?V(l):""}function ue(s){switch(s.tag){case 26:case 27:case 5:return V(s.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 15:return s=ot(s.type,!1),s;case 11:return s=ot(s.type.render,!1),s;case 1:return s=ot(s.type,!0),s;default:return""}}function Ie(s){try{var o="";do o+=ue(s),s=s.return;while(s);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ee(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function je(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function O(s){if(Ee(s)!==s)throw Error(n(188))}function se(s){var o=s.alternate;if(!o){if(o=Ee(s),o===null)throw Error(n(188));return o!==s?null:s}for(var l=s,u=o;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return O(p),s;if(v===u)return O(p),o;v=v.sibling}throw Error(n(188))}if(l.return!==u.return)l=p,u=v;else{for(var C=!1,R=p.child;R;){if(R===l){C=!0,l=p,u=v;break}if(R===u){C=!0,u=p,l=v;break}R=R.sibling}if(!C){for(R=v.child;R;){if(R===l){C=!0,l=v,u=p;break}if(R===u){C=!0,u=v,l=p;break}R=R.sibling}if(!C)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:o}function Ce(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=Ce(s),o!==null)return o;s=s.sibling}return null}var Te=Array.isArray,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},Ve=[],Ut=-1;function $e(s){return{current:s}}function gt(s){0>Ut||(s.current=Ve[Ut],Ve[Ut]=null,Ut--)}function at(s,o){Ut++,Ve[Ut]=s.current,s.current=o}var On=$e(null),us=$e(null),Un=$e(null),or=$e(null);function ro(s,o){switch(at(Un,o),at(us,s),at(On,null),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?hv(o):0;break;default:if(s=s===8?o.parentNode:o,o=s.tagName,s=s.namespaceURI)s=hv(s),o=mv(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}gt(On),at(On,o)}function mi(){gt(On),gt(us),gt(Un)}function ar(s){s.memoizedState!==null&&at(or,s);var o=On.current,l=mv(o,s.type);o!==l&&(at(us,s),at(On,l))}function lr(s){us.current===s&&(gt(On),gt(us)),or.current===s&&(gt(or),Ml._currentValue=Oe)}var bt=Object.prototype.hasOwnProperty,Ft=i.unstable_scheduleCallback,cs=i.unstable_cancelCallback,Gf=i.unstable_shouldYield,vu=i.unstable_requestPaint,Fn=i.unstable_now,ur=i.unstable_getCurrentPriorityLevel,wa=i.unstable_ImmediatePriority,Ra=i.unstable_UserBlockingPriority,fs=i.unstable_NormalPriority,Hf=i.unstable_LowPriority,_u=i.unstable_IdlePriority,Tu=i.log,Eu=i.unstable_setDisableYieldValue,ti=null,Xt=null;function ba(s){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ti,s,void 0,(s.current.flags&128)===128)}catch{}}function on(s){if(typeof Tu=="function"&&Eu(s),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(ti,s)}catch{}}var an=Math.clz32?Math.clz32:cr,oo=Math.log,Cu=Math.LN2;function cr(s){return s>>>=0,s===0?32:31-(oo(s)/Cu|0)|0}var fr=128,It=4194304;function pi(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function gi(s,o){var l=s.pendingLanes;if(l===0)return 0;var u=0,p=s.suspendedLanes,v=s.pingedLanes,C=s.warmLanes;s=s.finishedLanes!==0;var R=l&134217727;return R!==0?(l=R&~p,l!==0?u=pi(l):(v&=R,v!==0?u=pi(v):s||(C=R&~C,C!==0&&(u=pi(C))))):(R=l&~p,R!==0?u=pi(R):v!==0?u=pi(v):s||(C=l&~C,C!==0&&(u=pi(C)))),u===0?0:o!==0&&o!==u&&(o&p)===0&&(p=u&-u,C=o&-o,p>=C||p===32&&(C&4194176)!==0)?o:u}function ni(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function $f(s,o){switch(s){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Au(){var s=fr;return fr<<=1,(fr&4194176)===0&&(fr=128),s}function Fi(){var s=It;return It<<=1,(It&62914560)===0&&(It=4194304),s}function Ia(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function dr(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ao(s,o,l,u,p,v){var C=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var R=s.entanglements,D=s.expirationTimes,F=s.hiddenUpdates;for(l=C&~l;0<l;){var Z=31-an(l),ie=1<<Z;R[Z]=0,D[Z]=-1;var Y=F[Z];if(Y!==null)for(F[Z]=null,Z=0;Z<Y.length;Z++){var Q=Y[Z];Q!==null&&(Q.lane&=-536870913)}l&=~ie}u!==0&&Na(s,u,0),v!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=v&~(C&~o))}function Na(s,o,l){s.pendingLanes|=o,s.suspendedLanes&=~o;var u=31-an(o);s.entangledLanes|=o,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194218}function Ma(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var u=31-an(l),p=1<<u;p&o|s[u]&o&&(s[u]|=o),l&=~p}}function lo(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ds(){var s=fe.p;return s!==0?s:(s=window.event,s===void 0?32:Dv(s.type))}function Yf(s,o){var l=fe.p;try{return fe.p=s,o()}finally{fe.p=l}}var Jt=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Jt,jt="__reactProps$"+Jt,yi="__reactContainer$"+Jt,hr="__reactEvents$"+Jt,Su="__reactListeners$"+Jt,Kf="__reactHandles$"+Jt,Da="__reactResources$"+Jt,mr="__reactMarker$"+Jt;function hs(s){delete s[Bt],delete s[jt],delete s[hr],delete s[Su],delete s[Kf]}function vi(s){var o=s[Bt];if(o)return o;for(var l=s.parentNode;l;){if(o=l[yi]||l[Bt]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=yv(s);s!==null;){if(l=s[Bt])return l;s=yv(s)}return o}s=l,l=s.parentNode}return null}function _i(s){if(s=s[Bt]||s[yi]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function ii(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function En(s){var o=s[Da];return o||(o=s[Da]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Tt(s){s[mr]=!0}var xu=new Set,Va={};function Ti(s,o){Bi(s,o),Bi(s+"Capture",o)}function Bi(s,o){for(Va[s]=o,s=0;s<o.length;s++)xu.add(o[s])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ka={},La={};function wu(s){return bt.call(La,s)?!0:bt.call(ka,s)?!1:Pa.test(s)?La[s]=!0:(ka[s]=!0,!1)}function uo(s,o,l){if(wu(o))if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var u=o.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+l)}}function In(s,o,l){if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+l)}}function Nt(s,o,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(o,l,""+u)}}function $t(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ms(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Oa(s){var o=ms(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),u=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return p.call(this)},set:function(C){u=""+C,v.call(this,C)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function We(s){s._valueTracker||(s._valueTracker=Oa(s))}function pr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),u="";return s&&(u=ms(s)?s.checked?"true":"false":s.value),s=u,s!==l?(o.setValue(s),!0):!1}function Ei(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var gr=/[\n"\\]/g;function Cn(s){return s.replace(gr,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function co(s,o,l,u,p,v,C,R){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),o!=null?C==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+$t(o)):s.value!==""+$t(o)&&(s.value=""+$t(o)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),o!=null?Ua(s,C,$t(o)):l!=null?Ua(s,C,$t(l)):u!=null&&s.removeAttribute("value"),p==null&&v!=null&&(s.defaultChecked=!!v),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+$t(R):s.removeAttribute("name")}function Ru(s,o,l,u,p,v,C,R){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),o!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;l=l!=null?""+$t(l):"",o=o!=null?""+$t(o):l,R||o===s.value||(s.value=o),s.defaultValue=o}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=R?s.checked:!!u,s.defaultChecked=!!u,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C)}function Ua(s,o,l){o==="number"&&Ei(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ps(s,o,l,u){if(s=s.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=o.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&u&&(s[l].defaultSelected=!0)}else{for(l=""+$t(l),o=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}o!==null||s[p].disabled||(o=s[p])}o!==null&&(o.selected=!0)}}function bu(s,o,l){if(o!=null&&(o=""+$t(o),o!==s.value&&(s.value=o),l==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=l!=null?""+$t(l):""}function gs(s,o,l,u){if(o==null){if(u!=null){if(l!=null)throw Error(n(92));if(Te(u)){if(1<u.length)throw Error(n(93));u=u[0]}l=u}l==null&&(l=""),o=l}l=$t(o),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function An(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var Iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fa(s,o,l){var u=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":u?s.setProperty(o,l):typeof l!="number"||l===0||Iu.has(o)?o==="float"?s.cssFloat=l:s[o]=(""+l).trim():s[o]=l+"px"}function Ba(s,o,l){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||o!=null&&o.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in o)u=o[p],o.hasOwnProperty(p)&&l[p]!==u&&Fa(s,p,u)}else for(var v in o)o.hasOwnProperty(v)&&Fa(s,v,o[v])}function fo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(s){return ys.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var qa=null;function za(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var mn=null,vs=null;function mo(s){var o=_i(s);if(o&&(s=o.stateNode)){var l=s[jt]||null;e:switch(s=o.stateNode,o.type){case"input":if(co(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Cn(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var u=l[o];if(u!==s&&u.form===s.form){var p=u[jt]||null;if(!p)throw Error(n(90));co(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<l.length;o++)u=l[o],u.form===s.form&&pr(u)}break e;case"textarea":bu(s,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&ps(s,!!l.multiple,o,!1)}}}var _s=!1;function Ga(s,o,l){if(_s)return s(o,l);_s=!0;try{var u=s(o);return u}finally{if(_s=!1,(mn!==null||vs!==null)&&(yc(),mn&&(o=mn,s=vs,vs=mn=null,mo(o),s)))for(o=0;o<s.length;o++)mo(s[o])}}function si(s,o){var l=s.stateNode;if(l===null)return null;var u=l[jt]||null;if(u===null)return null;l=u[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var qi=!1;if(bn)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){qi=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{qi=!1}var Bn=null,lt=null,po=null;function Mu(){if(po)return po;var s,o=lt,l=o.length,u,p="value"in Bn?Bn.value:Bn.textContent,v=p.length;for(s=0;s<l&&o[s]===p[s];s++);var C=l-s;for(u=1;u<=C&&o[l-u]===p[v-u];u++);return po=p.slice(s,1<u?1-u:void 0)}function yr(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function vr(){return!0}function Ha(){return!1}function qt(s){function o(l,u,p,v,C){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(l=s[R],this[R]=l?l(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?vr:Ha,this.isPropagationStopped=Ha,this}return N(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),o}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_r=qt(ln),Tr=N({},ln,{view:0,detail:0}),Er=qt(Tr),go,Cr,Ci,Ar=N({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_o,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ci&&(Ci&&s.type==="mousemove"?(go=s.screenX-Ci.screenX,Cr=s.screenY-Ci.screenY):Cr=go=0,Ci=s),go)},movementY:function(s){return"movementY"in s?s.movementY:Cr}}),Sr=qt(Ar),Qf=N({},Ar,{dataTransfer:0}),Du=qt(Qf),xr=N({},Tr,{relatedTarget:0}),yo=qt(xr),Vu=N({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),$a=qt(Vu),Ya=N({},ln,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Pu=qt(Ya),vo=N({},ln,{data:0}),Ka=qt(vo),ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Lu[s])?!!o[s]:!1}function _o(){return Ou}var Uu=N({},Tr,{key:function(s){if(s.key){var o=ku[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=yr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?zi[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_o,charCode:function(s){return s.type==="keypress"?yr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?yr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),To=qt(Uu),pn=N({},Ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qa=qt(pn),Fu=N({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_o}),Es=qt(Fu),m=N({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=qt(m),A=N({},Ar,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),I=qt(A),G=N({},ln,{newState:0,oldState:0}),K=qt(G),ae=[9,13,27,32],Ne=bn&&"CompositionEvent"in window,ht=null;bn&&"documentMode"in document&&(ht=document.documentMode);var nt=bn&&"TextEvent"in window&&!ht,St=bn&&(!Ne||ht&&8<ht&&11>=ht),Nn=" ",Ai=!1;function ri(s,o){switch(s){case"keyup":return ae.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oi(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ai=!1;function Za(s,o){switch(s){case"compositionend":return oi(o);case"keypress":return o.which!==32?null:(Ai=!0,Nn);case"textInput":return s=o.data,s===Nn&&Ai?null:s;default:return null}}function aA(s,o){if(ai)return s==="compositionend"||!Ne&&ri(s,o)?(s=Mu(),po=lt=Bn=null,ai=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return St&&o.locale!=="ko"?null:o.data;default:return null}}var lA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!lA[s.type]:o==="textarea"}function Lp(s,o,l,u){mn?vs?vs.push(u):vs=[u]:mn=u,o=Cc(o,"onChange"),0<o.length&&(l=new _r("onChange","change",null,l,u),s.push({event:l,listeners:o}))}var Xa=null,Ja=null;function uA(s){lv(s,0)}function Bu(s){var o=ii(s);if(pr(o))return s}function Op(s,o){if(s==="change")return o}var Up=!1;if(bn){var Zf;if(bn){var Xf="oninput"in document;if(!Xf){var Fp=document.createElement("div");Fp.setAttribute("oninput","return;"),Xf=typeof Fp.oninput=="function"}Zf=Xf}else Zf=!1;Up=Zf&&(!document.documentMode||9<document.documentMode)}function Bp(){Xa&&(Xa.detachEvent("onpropertychange",qp),Ja=Xa=null)}function qp(s){if(s.propertyName==="value"&&Bu(Ja)){var o=[];Lp(o,Ja,s,za(s)),Ga(uA,o)}}function cA(s,o,l){s==="focusin"?(Bp(),Xa=o,Ja=l,Xa.attachEvent("onpropertychange",qp)):s==="focusout"&&Bp()}function fA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Bu(Ja)}function dA(s,o){if(s==="click")return Bu(o)}function hA(s,o){if(s==="input"||s==="change")return Bu(o)}function mA(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Mn=typeof Object.is=="function"?Object.is:mA;function ja(s,o){if(Mn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),u=Object.keys(o);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!bt.call(o,p)||!Mn(s[p],o[p]))return!1}return!0}function zp(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Gp(s,o){var l=zp(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=o&&u>=o)return{node:l,offset:o-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zp(l)}}function Hp(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Hp(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function $p(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Ei(s.document);o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Ei(s.document)}return o}function Jf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function pA(s,o){var l=$p(o);o=s.focusedElem;var u=s.selectionRange;if(l!==o&&o&&o.ownerDocument&&Hp(o.ownerDocument.documentElement,o)){if(u!==null&&Jf(o)){if(s=u.start,l=u.end,l===void 0&&(l=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(l,o.value.length);else if(l=(s=o.ownerDocument||document)&&s.defaultView||window,l.getSelection){l=l.getSelection();var p=o.textContent.length,v=Math.min(u.start,p);u=u.end===void 0?v:Math.min(u.end,p),!l.extend&&v>u&&(p=u,u=v,v=p),p=Gp(o,v);var C=Gp(o,u);p&&C&&(l.rangeCount!==1||l.anchorNode!==p.node||l.anchorOffset!==p.offset||l.focusNode!==C.node||l.focusOffset!==C.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),l.removeAllRanges(),v>u?(l.addRange(s),l.extend(C.node,C.offset)):(s.setEnd(C.node,C.offset),l.addRange(s)))}}for(s=[],l=o;l=l.parentNode;)l.nodeType===1&&s.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)l=s[o],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var gA=bn&&"documentMode"in document&&11>=document.documentMode,Eo=null,jf=null,Wa=null,Wf=!1;function Yp(s,o,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Wf||Eo==null||Eo!==Ei(u)||(u=Eo,"selectionStart"in u&&Jf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Wa&&ja(Wa,u)||(Wa=u,u=Cc(jf,"onSelect"),0<u.length&&(o=new _r("onSelect","select",null,o,l),s.push({event:o,listeners:u}),o.target=Eo)))}function wr(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var Co={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},ed={},Kp={};bn&&(Kp=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Rr(s){if(ed[s])return ed[s];if(!Co[s])return s;var o=Co[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Kp)return ed[s]=o[l];return s}var Qp=Rr("animationend"),Zp=Rr("animationiteration"),Xp=Rr("animationstart"),yA=Rr("transitionrun"),vA=Rr("transitionstart"),_A=Rr("transitioncancel"),Jp=Rr("transitionend"),jp=new Map,Wp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function li(s,o){jp.set(s,o),Ti(o,[s])}var qn=[],Ao=0,td=0;function qu(){for(var s=Ao,o=td=Ao=0;o<s;){var l=qn[o];qn[o++]=null;var u=qn[o];qn[o++]=null;var p=qn[o];qn[o++]=null;var v=qn[o];if(qn[o++]=null,u!==null&&p!==null){var C=u.pending;C===null?p.next=p:(p.next=C.next,C.next=p),u.pending=p}v!==0&&eg(l,p,v)}}function zu(s,o,l,u){qn[Ao++]=s,qn[Ao++]=o,qn[Ao++]=l,qn[Ao++]=u,td|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function nd(s,o,l,u){return zu(s,o,l,u),Gu(s)}function Cs(s,o){return zu(s,null,null,o),Gu(s)}function eg(s,o,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var p=!1,v=s.return;v!==null;)v.childLanes|=l,u=v.alternate,u!==null&&(u.childLanes|=l),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(p=!0)),s=v,v=v.return;p&&o!==null&&s.tag===3&&(v=s.stateNode,p=31-an(l),v=v.hiddenUpdates,s=v[p],s===null?v[p]=[o]:s.push(o),o.lane=l|536870912)}function Gu(s){if(50<Sl)throw Sl=0,lh=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var So={},tg=new WeakMap;function zn(s,o){if(typeof s=="object"&&s!==null){var l=tg.get(s);return l!==void 0?l:(o={value:s,source:o,stack:Ie(o)},tg.set(s,o),o)}return{value:s,source:o,stack:Ie(o)}}var xo=[],wo=0,Hu=null,$u=0,Gn=[],Hn=0,br=null,Gi=1,Hi="";function Ir(s,o){xo[wo++]=$u,xo[wo++]=Hu,Hu=s,$u=o}function ng(s,o,l){Gn[Hn++]=Gi,Gn[Hn++]=Hi,Gn[Hn++]=br,br=s;var u=Gi;s=Hi;var p=32-an(u)-1;u&=~(1<<p),l+=1;var v=32-an(o)+p;if(30<v){var C=p-p%5;v=(u&(1<<C)-1).toString(32),u>>=C,p-=C,Gi=1<<32-an(o)+p|l<<p|u,Hi=v+s}else Gi=1<<v|l<<p|u,Hi=s}function id(s){s.return!==null&&(Ir(s,1),ng(s,1,0))}function sd(s){for(;s===Hu;)Hu=xo[--wo],xo[wo]=null,$u=xo[--wo],xo[wo]=null;for(;s===br;)br=Gn[--Hn],Gn[Hn]=null,Hi=Gn[--Hn],Gn[Hn]=null,Gi=Gn[--Hn],Gn[Hn]=null}var gn=null,Wt=null,Ze=!1,ui=null,Si=!1,rd=Error(n(519));function Nr(s){var o=Error(n(418,""));throw nl(zn(o,s)),rd}function ig(s){var o=s.stateNode,l=s.type,u=s.memoizedProps;switch(o[Bt]=s,o[jt]=u,l){case"dialog":ze("cancel",o),ze("close",o);break;case"iframe":case"object":case"embed":ze("load",o);break;case"video":case"audio":for(l=0;l<wl.length;l++)ze(wl[l],o);break;case"source":ze("error",o);break;case"img":case"image":case"link":ze("error",o),ze("load",o);break;case"details":ze("toggle",o);break;case"input":ze("invalid",o),Ru(o,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),We(o);break;case"select":ze("invalid",o);break;case"textarea":ze("invalid",o),gs(o,u.value,u.defaultValue,u.children),We(o)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||u.suppressHydrationWarning===!0||dv(o.textContent,l)?(u.popover!=null&&(ze("beforetoggle",o),ze("toggle",o)),u.onScroll!=null&&ze("scroll",o),u.onScrollEnd!=null&&ze("scrollend",o),u.onClick!=null&&(o.onclick=Ac),o=!0):o=!1,o||Nr(s)}function sg(s){for(gn=s.return;gn;)switch(gn.tag){case 3:case 27:Si=!0;return;case 5:case 13:Si=!1;return;default:gn=gn.return}}function el(s){if(s!==gn)return!1;if(!Ze)return sg(s),Ze=!0,!1;var o=!1,l;if((l=s.tag!==3&&s.tag!==27)&&((l=s.tag===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||xh(s.type,s.memoizedProps)),l=!l),l&&(o=!0),o&&Wt&&Nr(s),sg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(o===0){Wt=fi(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;s=s.nextSibling}Wt=null}}else Wt=gn?fi(s.stateNode.nextSibling):null;return!0}function tl(){Wt=gn=null,Ze=!1}function nl(s){ui===null?ui=[s]:ui.push(s)}var il=Error(n(460)),rg=Error(n(474)),od={then:function(){}};function og(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Yu(){}function ag(s,o,l){switch(l=s[l],l===void 0?s.push(o):l!==o&&(o.then(Yu,Yu),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,s===il?Error(n(483)):s;default:if(typeof o.status=="string")o.then(Yu,Yu);else{if(s=ut,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(u){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=u}},function(u){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=u}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,s===il?Error(n(483)):s}throw sl=o,il}}var sl=null;function lg(){if(sl===null)throw Error(n(459));var s=sl;return sl=null,s}var Ro=null,rl=0;function Ku(s){var o=rl;return rl+=1,Ro===null&&(Ro=[]),ag(Ro,s,o)}function ol(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Qu(s,o){throw o.$$typeof===a?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function ug(s){var o=s._init;return o(s._payload)}function cg(s){function o(q,U){if(s){var $=q.deletions;$===null?(q.deletions=[U],q.flags|=16):$.push(U)}}function l(q,U){if(!s)return null;for(;U!==null;)o(q,U),U=U.sibling;return null}function u(q){for(var U=new Map;q!==null;)q.key!==null?U.set(q.key,q):U.set(q.index,q),q=q.sibling;return U}function p(q,U){return q=Ps(q,U),q.index=0,q.sibling=null,q}function v(q,U,$){return q.index=$,s?($=q.alternate,$!==null?($=$.index,$<U?(q.flags|=33554434,U):$):(q.flags|=33554434,U)):(q.flags|=1048576,U)}function C(q){return s&&q.alternate===null&&(q.flags|=33554434),q}function R(q,U,$,W){return U===null||U.tag!==6?(U=eh($,q.mode,W),U.return=q,U):(U=p(U,$),U.return=q,U)}function D(q,U,$,W){var me=$.type;return me===y?Z(q,U,$.props.children,W,$.key):U!==null&&(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===j&&ug(me)===U.type)?(U=p(U,$.props),ol(U,$),U.return=q,U):(U=dc($.type,$.key,$.props,null,q.mode,W),ol(U,$),U.return=q,U)}function F(q,U,$,W){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=th($,q.mode,W),U.return=q,U):(U=p(U,$.children||[]),U.return=q,U)}function Z(q,U,$,W,me){return U===null||U.tag!==7?(U=Br($,q.mode,W,me),U.return=q,U):(U=p(U,$),U.return=q,U)}function ie(q,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=eh(""+U,q.mode,$),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case c:return $=dc(U.type,U.key,U.props,null,q.mode,$),ol($,U),$.return=q,$;case h:return U=th(U,q.mode,$),U.return=q,U;case j:var W=U._init;return U=W(U._payload),ie(q,U,$)}if(Te(U)||le(U))return U=Br(U,q.mode,$,null),U.return=q,U;if(typeof U.then=="function")return ie(q,Ku(U),$);if(U.$$typeof===M)return ie(q,uc(q,U),$);Qu(q,U)}return null}function Y(q,U,$,W){var me=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return me!==null?null:R(q,U,""+$,W);if(typeof $=="object"&&$!==null){switch($.$$typeof){case c:return $.key===me?D(q,U,$,W):null;case h:return $.key===me?F(q,U,$,W):null;case j:return me=$._init,$=me($._payload),Y(q,U,$,W)}if(Te($)||le($))return me!==null?null:Z(q,U,$,W,null);if(typeof $.then=="function")return Y(q,U,Ku($),W);if($.$$typeof===M)return Y(q,U,uc(q,$),W);Qu(q,$)}return null}function Q(q,U,$,W,me){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return q=q.get($)||null,R(U,q,""+W,me);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case c:return q=q.get(W.key===null?$:W.key)||null,D(U,q,W,me);case h:return q=q.get(W.key===null?$:W.key)||null,F(U,q,W,me);case j:var Ue=W._init;return W=Ue(W._payload),Q(q,U,$,W,me)}if(Te(W)||le(W))return q=q.get($)||null,Z(U,q,W,me,null);if(typeof W.then=="function")return Q(q,U,$,Ku(W),me);if(W.$$typeof===M)return Q(q,U,$,uc(U,W),me);Qu(U,W)}return null}function ye(q,U,$,W){for(var me=null,Ue=null,ve=U,Ae=U=0,Qt=null;ve!==null&&Ae<$.length;Ae++){ve.index>Ae?(Qt=ve,ve=null):Qt=ve.sibling;var Xe=Y(q,ve,$[Ae],W);if(Xe===null){ve===null&&(ve=Qt);break}s&&ve&&Xe.alternate===null&&o(q,ve),U=v(Xe,U,Ae),Ue===null?me=Xe:Ue.sibling=Xe,Ue=Xe,ve=Qt}if(Ae===$.length)return l(q,ve),Ze&&Ir(q,Ae),me;if(ve===null){for(;Ae<$.length;Ae++)ve=ie(q,$[Ae],W),ve!==null&&(U=v(ve,U,Ae),Ue===null?me=ve:Ue.sibling=ve,Ue=ve);return Ze&&Ir(q,Ae),me}for(ve=u(ve);Ae<$.length;Ae++)Qt=Q(ve,q,Ae,$[Ae],W),Qt!==null&&(s&&Qt.alternate!==null&&ve.delete(Qt.key===null?Ae:Qt.key),U=v(Qt,U,Ae),Ue===null?me=Qt:Ue.sibling=Qt,Ue=Qt);return s&&ve.forEach(function(qs){return o(q,qs)}),Ze&&Ir(q,Ae),me}function Me(q,U,$,W){if($==null)throw Error(n(151));for(var me=null,Ue=null,ve=U,Ae=U=0,Qt=null,Xe=$.next();ve!==null&&!Xe.done;Ae++,Xe=$.next()){ve.index>Ae?(Qt=ve,ve=null):Qt=ve.sibling;var qs=Y(q,ve,Xe.value,W);if(qs===null){ve===null&&(ve=Qt);break}s&&ve&&qs.alternate===null&&o(q,ve),U=v(qs,U,Ae),Ue===null?me=qs:Ue.sibling=qs,Ue=qs,ve=Qt}if(Xe.done)return l(q,ve),Ze&&Ir(q,Ae),me;if(ve===null){for(;!Xe.done;Ae++,Xe=$.next())Xe=ie(q,Xe.value,W),Xe!==null&&(U=v(Xe,U,Ae),Ue===null?me=Xe:Ue.sibling=Xe,Ue=Xe);return Ze&&Ir(q,Ae),me}for(ve=u(ve);!Xe.done;Ae++,Xe=$.next())Xe=Q(ve,q,Ae,Xe.value,W),Xe!==null&&(s&&Xe.alternate!==null&&ve.delete(Xe.key===null?Ae:Xe.key),U=v(Xe,U,Ae),Ue===null?me=Xe:Ue.sibling=Xe,Ue=Xe);return s&&ve.forEach(function(VS){return o(q,VS)}),Ze&&Ir(q,Ae),me}function At(q,U,$,W){if(typeof $=="object"&&$!==null&&$.type===y&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case c:e:{for(var me=$.key;U!==null;){if(U.key===me){if(me=$.type,me===y){if(U.tag===7){l(q,U.sibling),W=p(U,$.props.children),W.return=q,q=W;break e}}else if(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===j&&ug(me)===U.type){l(q,U.sibling),W=p(U,$.props),ol(W,$),W.return=q,q=W;break e}l(q,U);break}else o(q,U);U=U.sibling}$.type===y?(W=Br($.props.children,q.mode,W,$.key),W.return=q,q=W):(W=dc($.type,$.key,$.props,null,q.mode,W),ol(W,$),W.return=q,q=W)}return C(q);case h:e:{for(me=$.key;U!==null;){if(U.key===me)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){l(q,U.sibling),W=p(U,$.children||[]),W.return=q,q=W;break e}else{l(q,U);break}else o(q,U);U=U.sibling}W=th($,q.mode,W),W.return=q,q=W}return C(q);case j:return me=$._init,$=me($._payload),At(q,U,$,W)}if(Te($))return ye(q,U,$,W);if(le($)){if(me=le($),typeof me!="function")throw Error(n(150));return $=me.call($),Me(q,U,$,W)}if(typeof $.then=="function")return At(q,U,Ku($),W);if($.$$typeof===M)return At(q,U,uc(q,$),W);Qu(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(l(q,U.sibling),W=p(U,$),W.return=q,q=W):(l(q,U),W=eh($,q.mode,W),W.return=q,q=W),C(q)):l(q,U)}return function(q,U,$,W){try{rl=0;var me=At(q,U,$,W);return Ro=null,me}catch(ve){if(ve===il)throw ve;var Ue=Qn(29,ve,null,q.mode);return Ue.lanes=W,Ue.return=q,Ue}finally{}}}var Mr=cg(!0),fg=cg(!1),bo=$e(null),Zu=$e(0);function dg(s,o){s=ts,at(Zu,s),at(bo,o),ts=s|o.baseLanes}function ad(){at(Zu,ts),at(bo,bo.current)}function ld(){ts=Zu.current,gt(bo),gt(Zu)}var $n=$e(null),xi=null;function As(s){var o=s.alternate;at(zt,zt.current&1),at($n,s),xi===null&&(o===null||bo.current!==null||o.memoizedState!==null)&&(xi=s)}function hg(s){if(s.tag===22){if(at(zt,zt.current),at($n,s),xi===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(xi=s)}}else Ss()}function Ss(){at(zt,zt.current),at($n,$n.current)}function $i(s){gt($n),xi===s&&(xi=null),gt(zt)}var zt=$e(0);function Xu(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var TA=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){o.aborted=!0,s.forEach(function(l){return l()})}},EA=i.unstable_scheduleCallback,CA=i.unstable_NormalPriority,Gt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ud(){return{controller:new TA,data:new Map,refCount:0}}function al(s){s.refCount--,s.refCount===0&&EA(CA,function(){s.controller.abort()})}var ll=null,cd=0,Io=0,No=null;function AA(s,o){if(ll===null){var l=ll=[];cd=0,Io=gh(),No={status:"pending",value:void 0,then:function(u){l.push(u)}}}return cd++,o.then(mg,mg),o}function mg(){if(--cd===0&&ll!==null){No!==null&&(No.status="fulfilled");var s=ll;ll=null,Io=0,No=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function SA(s,o){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){u.status="fulfilled",u.value=o;for(var p=0;p<l.length;p++)(0,l[p])(o)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var pg=x.S;x.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&AA(s,o),pg!==null&&pg(s,o)};var Dr=$e(null);function fd(){var s=Dr.current;return s!==null?s:ut.pooledCache}function Ju(s,o){o===null?at(Dr,Dr.current):at(Dr,o.pool)}function gg(){var s=fd();return s===null?null:{parent:Gt._currentValue,pool:s}}var xs=0,Le=null,it=null,Mt=null,ju=!1,Mo=!1,Vr=!1,Wu=0,ul=0,Do=null,xA=0;function xt(){throw Error(n(321))}function dd(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!Mn(s[l],o[l]))return!1;return!0}function hd(s,o,l,u,p,v){return xs=v,Le=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,x.H=s===null||s.memoizedState===null?Pr:ws,Vr=!1,v=l(u,p),Vr=!1,Mo&&(v=vg(o,l,u,p)),yg(s),v}function yg(s){x.H=wi;var o=it!==null&&it.next!==null;if(xs=0,Mt=it=Le=null,ju=!1,ul=0,Do=null,o)throw Error(n(300));s===null||Yt||(s=s.dependencies,s!==null&&lc(s)&&(Yt=!0))}function vg(s,o,l,u){Le=s;var p=0;do{if(Mo&&(Do=null),ul=0,Mo=!1,25<=p)throw Error(n(301));if(p+=1,Mt=it=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}x.H=kr,v=o(l,u)}while(Mo);return v}function wA(){var s=x.H,o=s.useState()[0];return o=typeof o.then=="function"?cl(o):o,s=s.useState()[0],(it!==null?it.memoizedState:null)!==s&&(Le.flags|=1024),o}function md(){var s=Wu!==0;return Wu=0,s}function pd(s,o,l){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~l}function gd(s){if(ju){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}ju=!1}xs=0,Mt=it=Le=null,Mo=!1,ul=Wu=0,Do=null}function Sn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Le.memoizedState=Mt=s:Mt=Mt.next=s,Mt}function Dt(){if(it===null){var s=Le.alternate;s=s!==null?s.memoizedState:null}else s=it.next;var o=Mt===null?Le.memoizedState:Mt.next;if(o!==null)Mt=o,it=s;else{if(s===null)throw Le.alternate===null?Error(n(467)):Error(n(310));it=s,s={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Mt===null?Le.memoizedState=Mt=s:Mt=Mt.next=s}return Mt}var ec;ec=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function cl(s){var o=ul;return ul+=1,Do===null&&(Do=[]),s=ag(Do,s,o),o=Le,(Mt===null?o.memoizedState:Mt.next)===null&&(o=o.alternate,x.H=o===null||o.memoizedState===null?Pr:ws),s}function tc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return cl(s);if(s.$$typeof===M)return un(s)}throw Error(n(438,String(s)))}function yd(s){var o=null,l=Le.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var u=Le.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(o={data:u.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=ec(),Le.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(s),u=0;u<s;u++)l[u]=oe;return o.index++,l}function Yi(s,o){return typeof o=="function"?o(s):o}function nc(s){var o=Dt();return vd(o,it,s)}function vd(s,o,l){var u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=l;var p=s.baseQueue,v=u.pending;if(v!==null){if(p!==null){var C=p.next;p.next=v.next,v.next=C}o.baseQueue=p=v,u.pending=null}if(v=s.baseState,p===null)s.memoizedState=v;else{o=p.next;var R=C=null,D=null,F=o,Z=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(Ye&ie)===ie:(xs&ie)===ie){var Y=F.revertLane;if(Y===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===Io&&(Z=!0);else if((xs&Y)===Y){F=F.next,Y===Io&&(Z=!0);continue}else ie={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(R=D=ie,C=v):D=D.next=ie,Le.lanes|=Y,ks|=Y;ie=F.action,Vr&&l(v,ie),v=F.hasEagerState?F.eagerState:l(v,ie)}else Y={lane:ie,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(R=D=Y,C=v):D=D.next=Y,Le.lanes|=ie,ks|=ie;F=F.next}while(F!==null&&F!==o);if(D===null?C=v:D.next=R,!Mn(v,s.memoizedState)&&(Yt=!0,Z&&(l=No,l!==null)))throw l;s.memoizedState=v,s.baseState=C,s.baseQueue=D,u.lastRenderedState=v}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function _d(s){var o=Dt(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var u=l.dispatch,p=l.pending,v=o.memoizedState;if(p!==null){l.pending=null;var C=p=p.next;do v=s(v,C.action),C=C.next;while(C!==p);Mn(v,o.memoizedState)||(Yt=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,u]}function _g(s,o,l){var u=Le,p=Dt(),v=Ze;if(v){if(l===void 0)throw Error(n(407));l=l()}else l=o();var C=!Mn((it||p).memoizedState,l);if(C&&(p.memoizedState=l,Yt=!0),p=p.queue,Cd(Cg.bind(null,u,p,s),[s]),p.getSnapshot!==o||C||Mt!==null&&Mt.memoizedState.tag&1){if(u.flags|=2048,Vo(9,Eg.bind(null,u,p,l,o),{destroy:void 0},null),ut===null)throw Error(n(349));v||(xs&60)!==0||Tg(u,o,l)}return l}function Tg(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=Le.updateQueue,o===null?(o=ec(),Le.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function Eg(s,o,l,u){o.value=l,o.getSnapshot=u,Ag(o)&&Sg(s)}function Cg(s,o,l){return l(function(){Ag(o)&&Sg(s)})}function Ag(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!Mn(s,l)}catch{return!0}}function Sg(s){var o=Cs(s,2);o!==null&&yn(o,s,2)}function Td(s){var o=Sn();if(typeof s=="function"){var l=s;if(s=l(),Vr){on(!0);try{l()}finally{on(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:s},o}function xg(s,o,l,u){return s.baseState=l,vd(s,it,typeof u=="function"?u:Yi)}function RA(s,o,l,u,p){if(rc(s))throw Error(n(485));if(s=o.action,s!==null){var v={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};x.T!==null?l(!0):v.isTransition=!1,u(v),l=o.pending,l===null?(v.next=o.pending=v,wg(o,v)):(v.next=l.next,o.pending=l.next=v)}}function wg(s,o){var l=o.action,u=o.payload,p=s.state;if(o.isTransition){var v=x.T,C={};x.T=C;try{var R=l(p,u),D=x.S;D!==null&&D(C,R),Rg(s,o,R)}catch(F){Ed(s,o,F)}finally{x.T=v}}else try{v=l(p,u),Rg(s,o,v)}catch(F){Ed(s,o,F)}}function Rg(s,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){bg(s,o,u)},function(u){return Ed(s,o,u)}):bg(s,o,l)}function bg(s,o,l){o.status="fulfilled",o.value=l,Ig(o),s.state=l,o=s.pending,o!==null&&(l=o.next,l===o?s.pending=null:(l=l.next,o.next=l,wg(s,l)))}function Ed(s,o,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do o.status="rejected",o.reason=l,Ig(o),o=o.next;while(o!==u)}s.action=null}function Ig(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function Ng(s,o){return o}function Mg(s,o){if(Ze){var l=ut.formState;if(l!==null){e:{var u=Le;if(Ze){if(Wt){t:{for(var p=Wt,v=Si;p.nodeType!==8;){if(!v){p=null;break t}if(p=fi(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Wt=fi(p.nextSibling),u=p.data==="F!";break e}}Nr(u)}u=!1}u&&(o=l[0])}}return l=Sn(),l.memoizedState=l.baseState=o,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:o},l.queue=u,l=Zg.bind(null,Le,u),u.dispatch=l,u=Td(!1),v=Rd.bind(null,Le,!1,u.queue),u=Sn(),p={state:o,dispatch:null,action:s,pending:null},u.queue=p,l=RA.bind(null,Le,p,v,l),p.dispatch=l,u.memoizedState=s,[o,l,!1]}function Dg(s){var o=Dt();return Vg(o,it,s)}function Vg(s,o,l){o=vd(s,o,Ng)[0],s=nc(Yi)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?cl(o):o;var u=Dt(),p=u.queue,v=p.dispatch;return l!==u.memoizedState&&(Le.flags|=2048,Vo(9,bA.bind(null,p,l),{destroy:void 0},null)),[o,v,s]}function bA(s,o){s.action=o}function Pg(s){var o=Dt(),l=it;if(l!==null)return Vg(o,l,s);Dt(),o=o.memoizedState,l=Dt();var u=l.queue.dispatch;return l.memoizedState=s,[o,u,!1]}function Vo(s,o,l,u){return s={tag:s,create:o,inst:l,deps:u,next:null},o=Le.updateQueue,o===null&&(o=ec(),Le.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,o.lastEffect=s),s}function kg(){return Dt().memoizedState}function ic(s,o,l,u){var p=Sn();Le.flags|=s,p.memoizedState=Vo(1|o,l,{destroy:void 0},u===void 0?null:u)}function sc(s,o,l,u){var p=Dt();u=u===void 0?null:u;var v=p.memoizedState.inst;it!==null&&u!==null&&dd(u,it.memoizedState.deps)?p.memoizedState=Vo(o,l,v,u):(Le.flags|=s,p.memoizedState=Vo(1|o,l,v,u))}function Lg(s,o){ic(8390656,8,s,o)}function Cd(s,o){sc(2048,8,s,o)}function Og(s,o){return sc(4,2,s,o)}function Ug(s,o){return sc(4,4,s,o)}function Fg(s,o){if(typeof o=="function"){s=s();var l=o(s);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Bg(s,o,l){l=l!=null?l.concat([s]):null,sc(4,4,Fg.bind(null,o,s),l)}function Ad(){}function qg(s,o){var l=Dt();o=o===void 0?null:o;var u=l.memoizedState;return o!==null&&dd(o,u[1])?u[0]:(l.memoizedState=[s,o],s)}function zg(s,o){var l=Dt();o=o===void 0?null:o;var u=l.memoizedState;if(o!==null&&dd(o,u[1]))return u[0];if(u=s(),Vr){on(!0);try{s()}finally{on(!1)}}return l.memoizedState=[u,o],u}function Sd(s,o,l){return l===void 0||(xs&1073741824)!==0?s.memoizedState=o:(s.memoizedState=l,s=Hy(),Le.lanes|=s,ks|=s,l)}function Gg(s,o,l,u){return Mn(l,o)?l:bo.current!==null?(s=Sd(s,l,u),Mn(s,o)||(Yt=!0),s):(xs&42)===0?(Yt=!0,s.memoizedState=l):(s=Hy(),Le.lanes|=s,ks|=s,o)}function Hg(s,o,l,u,p){var v=fe.p;fe.p=v!==0&&8>v?v:8;var C=x.T,R={};x.T=R,Rd(s,!1,o,l);try{var D=p(),F=x.S;if(F!==null&&F(R,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=SA(D,u);fl(s,o,Z,kn(s))}else fl(s,o,u,kn(s))}catch(ie){fl(s,o,{then:function(){},status:"rejected",reason:ie},kn())}finally{fe.p=v,x.T=C}}function IA(){}function xd(s,o,l,u){if(s.tag!==5)throw Error(n(476));var p=$g(s).queue;Hg(s,p,o,Oe,l===null?IA:function(){return Yg(s),l(u)})}function $g(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:Oe},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:l},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function Yg(s){var o=$g(s).next.queue;fl(s,o,{},kn())}function wd(){return un(Ml)}function Kg(){return Dt().memoizedState}function Qg(){return Dt().memoizedState}function NA(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var l=kn();s=Is(l);var u=Ns(o,s,l);u!==null&&(yn(u,o,l),ml(u,o,l)),o={cache:ud()},s.payload=o;return}o=o.return}}function MA(s,o,l){var u=kn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},rc(s)?Xg(o,l):(l=nd(s,o,l,u),l!==null&&(yn(l,s,u),Jg(l,o,u)))}function Zg(s,o,l){var u=kn();fl(s,o,l,u)}function fl(s,o,l,u){var p={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(rc(s))Xg(o,p);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var C=o.lastRenderedState,R=v(C,l);if(p.hasEagerState=!0,p.eagerState=R,Mn(R,C))return zu(s,o,p,0),ut===null&&qu(),!1}catch{}finally{}if(l=nd(s,o,p,u),l!==null)return yn(l,s,u),Jg(l,o,u),!0}return!1}function Rd(s,o,l,u){if(u={lane:2,revertLane:gh(),action:u,hasEagerState:!1,eagerState:null,next:null},rc(s)){if(o)throw Error(n(479))}else o=nd(s,l,u,2),o!==null&&yn(o,s,2)}function rc(s){var o=s.alternate;return s===Le||o!==null&&o===Le}function Xg(s,o){Mo=ju=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function Jg(s,o,l){if((l&4194176)!==0){var u=o.lanes;u&=s.pendingLanes,l|=u,o.lanes=l,Ma(s,l)}}var wi={readContext:un,use:tc,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt};wi.useCacheRefresh=xt,wi.useMemoCache=xt,wi.useHostTransitionStatus=xt,wi.useFormState=xt,wi.useActionState=xt,wi.useOptimistic=xt;var Pr={readContext:un,use:tc,useCallback:function(s,o){return Sn().memoizedState=[s,o===void 0?null:o],s},useContext:un,useEffect:Lg,useImperativeHandle:function(s,o,l){l=l!=null?l.concat([s]):null,ic(4194308,4,Fg.bind(null,o,s),l)},useLayoutEffect:function(s,o){return ic(4194308,4,s,o)},useInsertionEffect:function(s,o){ic(4,2,s,o)},useMemo:function(s,o){var l=Sn();o=o===void 0?null:o;var u=s();if(Vr){on(!0);try{s()}finally{on(!1)}}return l.memoizedState=[u,o],u},useReducer:function(s,o,l){var u=Sn();if(l!==void 0){var p=l(o);if(Vr){on(!0);try{l(o)}finally{on(!1)}}}else p=o;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=MA.bind(null,Le,s),[u.memoizedState,s]},useRef:function(s){var o=Sn();return s={current:s},o.memoizedState=s},useState:function(s){s=Td(s);var o=s.queue,l=Zg.bind(null,Le,o);return o.dispatch=l,[s.memoizedState,l]},useDebugValue:Ad,useDeferredValue:function(s,o){var l=Sn();return Sd(l,s,o)},useTransition:function(){var s=Td(!1);return s=Hg.bind(null,Le,s.queue,!0,!1),Sn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,l){var u=Le,p=Sn();if(Ze){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),ut===null)throw Error(n(349));(Ye&60)!==0||Tg(u,o,l)}p.memoizedState=l;var v={value:l,getSnapshot:o};return p.queue=v,Lg(Cg.bind(null,u,v,s),[s]),u.flags|=2048,Vo(9,Eg.bind(null,u,v,l,o),{destroy:void 0},null),l},useId:function(){var s=Sn(),o=ut.identifierPrefix;if(Ze){var l=Hi,u=Gi;l=(u&~(1<<32-an(u)-1)).toString(32)+l,o=":"+o+"R"+l,l=Wu++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=xA++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},useCacheRefresh:function(){return Sn().memoizedState=NA.bind(null,Le)}};Pr.useMemoCache=yd,Pr.useHostTransitionStatus=wd,Pr.useFormState=Mg,Pr.useActionState=Mg,Pr.useOptimistic=function(s){var o=Sn();o.memoizedState=o.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Rd.bind(null,Le,!0,l),l.dispatch=o,[s,o]};var ws={readContext:un,use:tc,useCallback:qg,useContext:un,useEffect:Cd,useImperativeHandle:Bg,useInsertionEffect:Og,useLayoutEffect:Ug,useMemo:zg,useReducer:nc,useRef:kg,useState:function(){return nc(Yi)},useDebugValue:Ad,useDeferredValue:function(s,o){var l=Dt();return Gg(l,it.memoizedState,s,o)},useTransition:function(){var s=nc(Yi)[0],o=Dt().memoizedState;return[typeof s=="boolean"?s:cl(s),o]},useSyncExternalStore:_g,useId:Kg};ws.useCacheRefresh=Qg,ws.useMemoCache=yd,ws.useHostTransitionStatus=wd,ws.useFormState=Dg,ws.useActionState=Dg,ws.useOptimistic=function(s,o){var l=Dt();return xg(l,it,s,o)};var kr={readContext:un,use:tc,useCallback:qg,useContext:un,useEffect:Cd,useImperativeHandle:Bg,useInsertionEffect:Og,useLayoutEffect:Ug,useMemo:zg,useReducer:_d,useRef:kg,useState:function(){return _d(Yi)},useDebugValue:Ad,useDeferredValue:function(s,o){var l=Dt();return it===null?Sd(l,s,o):Gg(l,it.memoizedState,s,o)},useTransition:function(){var s=_d(Yi)[0],o=Dt().memoizedState;return[typeof s=="boolean"?s:cl(s),o]},useSyncExternalStore:_g,useId:Kg};kr.useCacheRefresh=Qg,kr.useMemoCache=yd,kr.useHostTransitionStatus=wd,kr.useFormState=Pg,kr.useActionState=Pg,kr.useOptimistic=function(s,o){var l=Dt();return it!==null?xg(l,it,s,o):(l.baseState=s,[s,l.queue.dispatch])};function bd(s,o,l,u){o=s.memoizedState,l=l(u,o),l=l==null?o:N({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Id={isMounted:function(s){return(s=s._reactInternals)?Ee(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var u=kn(),p=Is(u);p.payload=o,l!=null&&(p.callback=l),o=Ns(s,p,u),o!==null&&(yn(o,s,u),ml(o,s,u))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var u=kn(),p=Is(u);p.tag=1,p.payload=o,l!=null&&(p.callback=l),o=Ns(s,p,u),o!==null&&(yn(o,s,u),ml(o,s,u))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=kn(),u=Is(l);u.tag=2,o!=null&&(u.callback=o),o=Ns(s,u,l),o!==null&&(yn(o,s,l),ml(o,s,l))}};function jg(s,o,l,u,p,v,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,v,C):o.prototype&&o.prototype.isPureReactComponent?!ja(l,u)||!ja(p,v):!0}function Wg(s,o,l,u){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,u),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,u),o.state!==s&&Id.enqueueReplaceState(o,o.state,null)}function Lr(s,o){var l=o;if("ref"in o){l={};for(var u in o)u!=="ref"&&(l[u]=o[u])}if(s=s.defaultProps){l===o&&(l=N({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}var oc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function ey(s){oc(s)}function ty(s){console.error(s)}function ny(s){oc(s)}function ac(s,o){try{var l=s.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(u){setTimeout(function(){throw u})}}function iy(s,o,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Nd(s,o,l){return l=Is(l),l.tag=3,l.payload={element:null},l.callback=function(){ac(s,o)},l}function sy(s){return s=Is(s),s.tag=3,s}function ry(s,o,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var v=u.value;s.payload=function(){return p(v)},s.callback=function(){iy(o,l,u)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){iy(o,l,u),typeof p!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function DA(s,o,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(o=l.alternate,o!==null&&hl(o,l,p,!0),l=$n.current,l!==null){switch(l.tag){case 13:return xi===null?fh():l.alternate===null&&Ct===0&&(Ct=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===od?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([u]):o.add(u),hh(s,u,p)),!1;case 22:return l.flags|=65536,u===od?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([u]):l.add(u)),hh(s,u,p)),!1}throw Error(n(435,l.tag))}return hh(s,u,p),fh(),!1}if(Ze)return o=$n.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,u!==rd&&(s=Error(n(422),{cause:u}),nl(zn(s,l)))):(u!==rd&&(o=Error(n(423),{cause:u}),nl(zn(o,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=zn(u,l),p=Nd(s.stateNode,u,p),$d(s,p),Ct!==4&&(Ct=2)),!1;var v=Error(n(520),{cause:u});if(v=zn(v,l),Cl===null?Cl=[v]:Cl.push(v),Ct!==4&&(Ct=2),o===null)return!0;u=zn(u,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=Nd(l.stateNode,u,s),$d(l,s),!1;case 1:if(o=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ls===null||!Ls.has(v))))return l.flags|=65536,p&=-p,l.lanes|=p,p=sy(p),ry(p,s,l,u),$d(l,p),!1}l=l.return}while(l!==null);return!1}var oy=Error(n(461)),Yt=!1;function en(s,o,l,u){o.child=s===null?fg(o,null,l,u):Mr(o,s.child,l,u)}function ay(s,o,l,u,p){l=l.render;var v=o.ref;if("ref"in u){var C={};for(var R in u)R!=="ref"&&(C[R]=u[R])}else C=u;return Ur(o),u=hd(s,o,l,C,v,p),R=md(),s!==null&&!Yt?(pd(s,o,p),Ki(s,o,p)):(Ze&&R&&id(o),o.flags|=1,en(s,o,u,p),o.child)}function ly(s,o,l,u,p){if(s===null){var v=l.type;return typeof v=="function"&&!Wd(v)&&v.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=v,uy(s,o,v,u,p)):(s=dc(l.type,null,u,o,o.mode,p),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,!Fd(s,p)){var C=v.memoizedProps;if(l=l.compare,l=l!==null?l:ja,l(C,u)&&s.ref===o.ref)return Ki(s,o,p)}return o.flags|=1,s=Ps(v,u),s.ref=o.ref,s.return=o,o.child=s}function uy(s,o,l,u,p){if(s!==null){var v=s.memoizedProps;if(ja(v,u)&&s.ref===o.ref)if(Yt=!1,o.pendingProps=u=v,Fd(s,p))(s.flags&131072)!==0&&(Yt=!0);else return o.lanes=s.lanes,Ki(s,o,p)}return Md(s,o,l,u,p)}function cy(s,o,l){var u=o.pendingProps,p=u.children,v=(o.stateNode._pendingVisibility&2)!==0,C=s!==null?s.memoizedState:null;if(dl(s,o),u.mode==="hidden"||v){if((o.flags&128)!==0){if(u=C!==null?C.baseLanes|l:l,s!==null){for(p=o.child=s.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;o.childLanes=v&~u}else o.childLanes=0,o.child=null;return fy(s,o,u,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ju(o,C!==null?C.cachePool:null),C!==null?dg(o,C):ad(),hg(o);else return o.lanes=o.childLanes=536870912,fy(s,o,C!==null?C.baseLanes|l:l,l)}else C!==null?(Ju(o,C.cachePool),dg(o,C),Ss(),o.memoizedState=null):(s!==null&&Ju(o,null),ad(),Ss());return en(s,o,p,l),o.child}function fy(s,o,l,u){var p=fd();return p=p===null?null:{parent:Gt._currentValue,pool:p},o.memoizedState={baseLanes:l,cachePool:p},s!==null&&Ju(o,null),ad(),hg(o),s!==null&&hl(s,o,u,!0),null}function dl(s,o){var l=o.ref;if(l===null)s!==null&&s.ref!==null&&(o.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(s===null||s.ref!==l)&&(o.flags|=2097664)}}function Md(s,o,l,u,p){return Ur(o),l=hd(s,o,l,u,void 0,p),u=md(),s!==null&&!Yt?(pd(s,o,p),Ki(s,o,p)):(Ze&&u&&id(o),o.flags|=1,en(s,o,l,p),o.child)}function dy(s,o,l,u,p,v){return Ur(o),o.updateQueue=null,l=vg(o,u,l,p),yg(s),u=md(),s!==null&&!Yt?(pd(s,o,v),Ki(s,o,v)):(Ze&&u&&id(o),o.flags|=1,en(s,o,l,v),o.child)}function hy(s,o,l,u,p){if(Ur(o),o.stateNode===null){var v=So,C=l.contextType;typeof C=="object"&&C!==null&&(v=un(C)),v=new l(u,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Id,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=u,v.state=o.memoizedState,v.refs={},Gd(o),C=l.contextType,v.context=typeof C=="object"&&C!==null?un(C):So,v.state=o.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(bd(o,l,C,u),v.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&Id.enqueueReplaceState(v,v.state,null),gl(o,u,v,p),pl(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),u=!0}else if(s===null){v=o.stateNode;var R=o.memoizedProps,D=Lr(l,R);v.props=D;var F=v.context,Z=l.contextType;C=So,typeof Z=="object"&&Z!==null&&(C=un(Z));var ie=l.getDerivedStateFromProps;Z=typeof ie=="function"||typeof v.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,Z||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R||F!==C)&&Wg(o,v,u,C),bs=!1;var Y=o.memoizedState;v.state=Y,gl(o,u,v,p),pl(),F=o.memoizedState,R||Y!==F||bs?(typeof ie=="function"&&(bd(o,l,ie,u),F=o.memoizedState),(D=bs||jg(o,l,D,u,Y,F,C))?(Z||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=u,o.memoizedState=F),v.props=u,v.state=F,v.context=C,u=D):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),u=!1)}else{v=o.stateNode,Hd(s,o),C=o.memoizedProps,Z=Lr(l,C),v.props=Z,ie=o.pendingProps,Y=v.context,F=l.contextType,D=So,typeof F=="object"&&F!==null&&(D=un(F)),R=l.getDerivedStateFromProps,(F=typeof R=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==ie||Y!==D)&&Wg(o,v,u,D),bs=!1,Y=o.memoizedState,v.state=Y,gl(o,u,v,p),pl();var Q=o.memoizedState;C!==ie||Y!==Q||bs||s!==null&&s.dependencies!==null&&lc(s.dependencies)?(typeof R=="function"&&(bd(o,l,R,u),Q=o.memoizedState),(Z=bs||jg(o,l,Z,u,Y,Q,D)||s!==null&&s.dependencies!==null&&lc(s.dependencies))?(F||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,Q,D),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,Q,D)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===s.memoizedProps&&Y===s.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&Y===s.memoizedState||(o.flags|=1024),o.memoizedProps=u,o.memoizedState=Q),v.props=u,v.state=Q,v.context=D,u=Z):(typeof v.componentDidUpdate!="function"||C===s.memoizedProps&&Y===s.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&Y===s.memoizedState||(o.flags|=1024),u=!1)}return v=u,dl(s,o),u=(o.flags&128)!==0,v||u?(v=o.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,s!==null&&u?(o.child=Mr(o,s.child,null,p),o.child=Mr(o,null,l,p)):en(s,o,l,p),o.memoizedState=v.state,s=o.child):s=Ki(s,o,p),s}function my(s,o,l,u){return tl(),o.flags|=256,en(s,o,l,u),o.child}var Dd={dehydrated:null,treeContext:null,retryLane:0};function Vd(s){return{baseLanes:s,cachePool:gg()}}function Pd(s,o,l){return s=s!==null?s.childLanes&~l:0,o&&(s|=Zn),s}function py(s,o,l){var u=o.pendingProps,p=!1,v=(o.flags&128)!==0,C;if((C=v)||(C=s!==null&&s.memoizedState===null?!1:(zt.current&2)!==0),C&&(p=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,s===null){if(Ze){if(p?As(o):Ss(),Ze){var R=Wt,D;if(D=R){e:{for(D=R,R=Si;D.nodeType!==8;){if(!R){R=null;break e}if(D=fi(D.nextSibling),D===null){R=null;break e}}R=D}R!==null?(o.memoizedState={dehydrated:R,treeContext:br!==null?{id:Gi,overflow:Hi}:null,retryLane:536870912},D=Qn(18,null,null,0),D.stateNode=R,D.return=o,o.child=D,gn=o,Wt=null,D=!0):D=!1}D||Nr(o)}if(R=o.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?o.lanes=16:o.lanes=536870912,null;$i(o)}return R=u.children,u=u.fallback,p?(Ss(),p=o.mode,R=Ld({mode:"hidden",children:R},p),u=Br(u,p,l,null),R.return=o,u.return=o,R.sibling=u,o.child=R,p=o.child,p.memoizedState=Vd(l),p.childLanes=Pd(s,C,l),o.memoizedState=Dd,u):(As(o),kd(o,R))}if(D=s.memoizedState,D!==null&&(R=D.dehydrated,R!==null)){if(v)o.flags&256?(As(o),o.flags&=-257,o=Od(s,o,l)):o.memoizedState!==null?(Ss(),o.child=s.child,o.flags|=128,o=null):(Ss(),p=u.fallback,R=o.mode,u=Ld({mode:"visible",children:u.children},R),p=Br(p,R,l,null),p.flags|=2,u.return=o,p.return=o,u.sibling=p,o.child=u,Mr(o,s.child,null,l),u=o.child,u.memoizedState=Vd(l),u.childLanes=Pd(s,C,l),o.memoizedState=Dd,o=p);else if(As(o),R.data==="$!"){if(C=R.nextSibling&&R.nextSibling.dataset,C)var F=C.dgst;C=F,u=Error(n(419)),u.stack="",u.digest=C,nl({value:u,source:null,stack:null}),o=Od(s,o,l)}else if(Yt||hl(s,o,l,!1),C=(l&s.childLanes)!==0,Yt||C){if(C=ut,C!==null){if(u=l&-l,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(C.suspendedLanes|l))!==0?0:u,u!==0&&u!==D.retryLane)throw D.retryLane=u,Cs(s,u),yn(C,s,u),oy}R.data==="$?"||fh(),o=Od(s,o,l)}else R.data==="$?"?(o.flags|=128,o.child=s.child,o=KA.bind(null,s),R._reactRetry=o,o=null):(s=D.treeContext,Wt=fi(R.nextSibling),gn=o,Ze=!0,ui=null,Si=!1,s!==null&&(Gn[Hn++]=Gi,Gn[Hn++]=Hi,Gn[Hn++]=br,Gi=s.id,Hi=s.overflow,br=o),o=kd(o,u.children),o.flags|=4096);return o}return p?(Ss(),p=u.fallback,R=o.mode,D=s.child,F=D.sibling,u=Ps(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&31457280,F!==null?p=Ps(F,p):(p=Br(p,R,l,null),p.flags|=2),p.return=o,u.return=o,u.sibling=p,o.child=u,u=p,p=o.child,R=s.child.memoizedState,R===null?R=Vd(l):(D=R.cachePool,D!==null?(F=Gt._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=gg(),R={baseLanes:R.baseLanes|l,cachePool:D}),p.memoizedState=R,p.childLanes=Pd(s,C,l),o.memoizedState=Dd,u):(As(o),l=s.child,s=l.sibling,l=Ps(l,{mode:"visible",children:u.children}),l.return=o,l.sibling=null,s!==null&&(C=o.deletions,C===null?(o.deletions=[s],o.flags|=16):C.push(s)),o.child=l,o.memoizedState=null,l)}function kd(s,o){return o=Ld({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Ld(s,o){return qy(s,o,0,null)}function Od(s,o,l){return Mr(o,s.child,null,l),s=kd(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function gy(s,o,l){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o),qd(s.return,o,l)}function Ud(s,o,l,u,p){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=l,v.tailMode=p)}function yy(s,o,l){var u=o.pendingProps,p=u.revealOrder,v=u.tail;if(en(s,o,u.children,l),u=zt.current,(u&2)!==0)u=u&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&gy(s,l,o);else if(s.tag===19)gy(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(at(zt,u),p){case"forwards":for(l=o.child,p=null;l!==null;)s=l.alternate,s!==null&&Xu(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),Ud(o,!1,p,l,v);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(s=p.alternate,s!==null&&Xu(s)===null){o.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Ud(o,!0,l,null,v);break;case"together":Ud(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ki(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),ks|=o.lanes,(l&o.childLanes)===0)if(s!==null){if(hl(s,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,l=Ps(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=Ps(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function Fd(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&lc(s)))}function VA(s,o,l){switch(o.tag){case 3:ro(o,o.stateNode.containerInfo),Rs(o,Gt,s.memoizedState.cache),tl();break;case 27:case 5:ar(o);break;case 4:ro(o,o.stateNode.containerInfo);break;case 10:Rs(o,o.type,o.memoizedProps.value);break;case 13:var u=o.memoizedState;if(u!==null)return u.dehydrated!==null?(As(o),o.flags|=128,null):(l&o.child.childLanes)!==0?py(s,o,l):(As(o),s=Ki(s,o,l),s!==null?s.sibling:null);As(o);break;case 19:var p=(s.flags&128)!==0;if(u=(l&o.childLanes)!==0,u||(hl(s,o,l,!1),u=(l&o.childLanes)!==0),p){if(u)return yy(s,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),at(zt,zt.current),u)break;return null;case 22:case 23:return o.lanes=0,cy(s,o,l);case 24:Rs(o,Gt,s.memoizedState.cache)}return Ki(s,o,l)}function vy(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps)Yt=!0;else{if(!Fd(s,l)&&(o.flags&128)===0)return Yt=!1,VA(s,o,l);Yt=(s.flags&131072)!==0}else Yt=!1,Ze&&(o.flags&1048576)!==0&&ng(o,$u,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var u=o.elementType,p=u._init;if(u=p(u._payload),o.type=u,typeof u=="function")Wd(u)?(s=Lr(u,s),o.tag=1,o=hy(null,o,u,s,l)):(o.tag=0,o=Md(null,o,u,s,l));else{if(u!=null){if(p=u.$$typeof,p===L){o.tag=11,o=ay(null,o,u,s,l);break e}else if(p===X){o.tag=14,o=ly(null,o,u,s,l);break e}}throw o=b(u)||u,Error(n(306,o,""))}}return o;case 0:return Md(s,o,o.type,o.pendingProps,l);case 1:return u=o.type,p=Lr(u,o.pendingProps),hy(s,o,u,p,l);case 3:e:{if(ro(o,o.stateNode.containerInfo),s===null)throw Error(n(387));var v=o.pendingProps;p=o.memoizedState,u=p.element,Hd(s,o),gl(o,v,null,l);var C=o.memoizedState;if(v=C.cache,Rs(o,Gt,v),v!==p.cache&&zd(o,[Gt],l,!0),pl(),v=C.element,p.isDehydrated)if(p={element:v,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=p,o.memoizedState=p,o.flags&256){o=my(s,o,v,l);break e}else if(v!==u){u=zn(Error(n(424)),o),nl(u),o=my(s,o,v,l);break e}else for(Wt=fi(o.stateNode.containerInfo.firstChild),gn=o,Ze=!0,ui=null,Si=!0,l=fg(o,null,v,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(tl(),v===u){o=Ki(s,o,l);break e}en(s,o,v,l)}o=o.child}return o;case 26:return dl(s,o),s===null?(l=Ev(o.type,null,o.pendingProps,null))?o.memoizedState=l:Ze||(l=o.type,s=o.pendingProps,u=Sc(Un.current).createElement(l),u[Bt]=o,u[jt]=s,tn(u,l,s),Tt(u),o.stateNode=u):o.memoizedState=Ev(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return ar(o),s===null&&Ze&&(u=o.stateNode=vv(o.type,o.pendingProps,Un.current),gn=o,Si=!0,Wt=fi(u.firstChild)),u=o.pendingProps.children,s!==null||Ze?en(s,o,u,l):o.child=Mr(o,null,u,l),dl(s,o),o.child;case 5:return s===null&&Ze&&((p=u=Wt)&&(u=uS(u,o.type,o.pendingProps,Si),u!==null?(o.stateNode=u,gn=o,Wt=fi(u.firstChild),Si=!1,p=!0):p=!1),p||Nr(o)),ar(o),p=o.type,v=o.pendingProps,C=s!==null?s.memoizedProps:null,u=v.children,xh(p,v)?u=null:C!==null&&xh(p,C)&&(o.flags|=32),o.memoizedState!==null&&(p=hd(s,o,wA,null,null,l),Ml._currentValue=p),dl(s,o),en(s,o,u,l),o.child;case 6:return s===null&&Ze&&((s=l=Wt)&&(l=cS(l,o.pendingProps,Si),l!==null?(o.stateNode=l,gn=o,Wt=null,s=!0):s=!1),s||Nr(o)),null;case 13:return py(s,o,l);case 4:return ro(o,o.stateNode.containerInfo),u=o.pendingProps,s===null?o.child=Mr(o,null,u,l):en(s,o,u,l),o.child;case 11:return ay(s,o,o.type,o.pendingProps,l);case 7:return en(s,o,o.pendingProps,l),o.child;case 8:return en(s,o,o.pendingProps.children,l),o.child;case 12:return en(s,o,o.pendingProps.children,l),o.child;case 10:return u=o.pendingProps,Rs(o,o.type,u.value),en(s,o,u.children,l),o.child;case 9:return p=o.type._context,u=o.pendingProps.children,Ur(o),p=un(p),u=u(p),o.flags|=1,en(s,o,u,l),o.child;case 14:return ly(s,o,o.type,o.pendingProps,l);case 15:return uy(s,o,o.type,o.pendingProps,l);case 19:return yy(s,o,l);case 22:return cy(s,o,l);case 24:return Ur(o),u=un(Gt),s===null?(p=fd(),p===null&&(p=ut,v=ud(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=l),p=v),o.memoizedState={parent:u,cache:p},Gd(o),Rs(o,Gt,p)):((s.lanes&l)!==0&&(Hd(s,o),gl(o,null,null,l),pl()),p=s.memoizedState,v=o.memoizedState,p.parent!==u?(p={parent:u,cache:u},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),Rs(o,Gt,u)):(u=v.cache,Rs(o,Gt,u),u!==p.cache&&zd(o,[Gt],l,!0))),en(s,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}var Bd=$e(null),Or=null,Qi=null;function Rs(s,o,l){at(Bd,o._currentValue),o._currentValue=l}function Zi(s){s._currentValue=Bd.current,gt(Bd)}function qd(s,o,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,u!==null&&(u.childLanes|=o)):u!==null&&(u.childLanes&o)!==o&&(u.childLanes|=o),s===l)break;s=s.return}}function zd(s,o,l,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var v=p.dependencies;if(v!==null){var C=p.child;v=v.firstContext;e:for(;v!==null;){var R=v;v=p;for(var D=0;D<o.length;D++)if(R.context===o[D]){v.lanes|=l,R=v.alternate,R!==null&&(R.lanes|=l),qd(v.return,l,s),u||(C=null);break e}v=R.next}}else if(p.tag===18){if(C=p.return,C===null)throw Error(n(341));C.lanes|=l,v=C.alternate,v!==null&&(v.lanes|=l),qd(C,l,s),C=null}else C=p.child;if(C!==null)C.return=p;else for(C=p;C!==null;){if(C===s){C=null;break}if(p=C.sibling,p!==null){p.return=C.return,C=p;break}C=C.return}p=C}}function hl(s,o,l,u){s=null;for(var p=o,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var C=p.alternate;if(C===null)throw Error(n(387));if(C=C.memoizedProps,C!==null){var R=p.type;Mn(p.pendingProps.value,C.value)||(s!==null?s.push(R):s=[R])}}else if(p===or.current){if(C=p.alternate,C===null)throw Error(n(387));C.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Ml):s=[Ml])}p=p.return}s!==null&&zd(o,s,l,u),o.flags|=262144}function lc(s){for(s=s.firstContext;s!==null;){if(!Mn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ur(s){Or=s,Qi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function un(s){return _y(Or,s)}function uc(s,o){return Or===null&&Ur(s),_y(s,o)}function _y(s,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Qi===null){if(s===null)throw Error(n(308));Qi=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Qi=Qi.next=o;return l}var bs=!1;function Gd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hd(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Is(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ns(s,o,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(vt&2)!==0){var p=u.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),u.pending=o,o=Gu(s),eg(s,null,l),o}return zu(s,u,o,l),Gu(s)}function ml(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194176)!==0)){var u=o.lanes;u&=s.pendingLanes,l|=u,o.lanes=l,Ma(s,l)}}function $d(s,o){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?p=v=C:v=v.next=C,l=l.next}while(l!==null);v===null?p=v=o:v=v.next=o}else p=v=o;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}var Yd=!1;function pl(){if(Yd){var s=No;if(s!==null)throw s}}function gl(s,o,l,u){Yd=!1;var p=s.updateQueue;bs=!1;var v=p.firstBaseUpdate,C=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var D=R,F=D.next;D.next=null,C===null?v=F:C.next=F,C=D;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,R=Z.lastBaseUpdate,R!==C&&(R===null?Z.firstBaseUpdate=F:R.next=F,Z.lastBaseUpdate=D))}if(v!==null){var ie=p.baseState;C=0,Z=F=D=null,R=v;do{var Y=R.lane&-536870913,Q=Y!==R.lane;if(Q?(Ye&Y)===Y:(u&Y)===Y){Y!==0&&Y===Io&&(Yd=!0),Z!==null&&(Z=Z.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var ye=s,Me=R;Y=o;var At=l;switch(Me.tag){case 1:if(ye=Me.payload,typeof ye=="function"){ie=ye.call(At,ie,Y);break e}ie=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Me.payload,Y=typeof ye=="function"?ye.call(At,ie,Y):ye,Y==null)break e;ie=N({},ie,Y);break e;case 2:bs=!0}}Y=R.callback,Y!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=p.callbacks,Q===null?p.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Z===null?(F=Z=Q,D=ie):Z=Z.next=Q,C|=Y;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;Q=R,R=Q.next,Q.next=null,p.lastBaseUpdate=Q,p.shared.pending=null}}while(!0);Z===null&&(D=ie),p.baseState=D,p.firstBaseUpdate=F,p.lastBaseUpdate=Z,v===null&&(p.shared.lanes=0),ks|=C,s.lanes=C,s.memoizedState=ie}}function Ty(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function Ey(s,o){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Ty(l[s],o)}function yl(s,o){try{var l=o.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&s)===s){u=void 0;var v=l.create,C=l.inst;u=v(),C.destroy=u}l=l.next}while(l!==p)}}catch(R){rt(o,o.return,R)}}function Ms(s,o,l){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&s)===s){var C=u.inst,R=C.destroy;if(R!==void 0){C.destroy=void 0,p=o;var D=l;try{R()}catch(F){rt(p,D,F)}}}u=u.next}while(u!==v)}}catch(F){rt(o,o.return,F)}}function Cy(s){var o=s.updateQueue;if(o!==null){var l=s.stateNode;try{Ey(o,l)}catch(u){rt(s,s.return,u)}}}function Ay(s,o,l){l.props=Lr(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){rt(s,o,u)}}function Fr(s,o){try{var l=s.ref;if(l!==null){var u=s.stateNode;switch(s.tag){case 26:case 27:case 5:var p=u;break;default:p=u}typeof l=="function"?s.refCleanup=l(p):l.current=p}}catch(v){rt(s,o,v)}}function Dn(s,o){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){rt(s,o,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){rt(s,o,p)}else l.current=null}function Sy(s){var o=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){rt(s,s.return,p)}}function xy(s,o,l){try{var u=s.stateNode;sS(u,s.type,l,o),u[jt]=o}catch(p){rt(s,s.return,p)}}function wy(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function Kd(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||wy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Qd(s,o,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Ac));else if(u!==4&&u!==27&&(s=s.child,s!==null))for(Qd(s,o,l),s=s.sibling;s!==null;)Qd(s,o,l),s=s.sibling}function cc(s,o,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(u!==4&&u!==27&&(s=s.child,s!==null))for(cc(s,o,l),s=s.sibling;s!==null;)cc(s,o,l),s=s.sibling}var Xi=!1,Et=!1,Zd=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Kt=null,by=!1;function PA(s,o){if(s=s.containerInfo,Ah=Nc,s=$p(s),Jf(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var C=0,R=-1,D=-1,F=0,Z=0,ie=s,Y=null;t:for(;;){for(var Q;ie!==l||p!==0&&ie.nodeType!==3||(R=C+p),ie!==v||u!==0&&ie.nodeType!==3||(D=C+u),ie.nodeType===3&&(C+=ie.nodeValue.length),(Q=ie.firstChild)!==null;)Y=ie,ie=Q;for(;;){if(ie===s)break t;if(Y===l&&++F===p&&(R=C),Y===v&&++Z===u&&(D=C),(Q=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=Q}l=R===-1||D===-1?null:{start:R,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(Sh={focusedElem:s,selectionRange:l},Nc=!1,Kt=o;Kt!==null;)if(o=Kt,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Kt=s;else for(;Kt!==null;){switch(o=Kt,v=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,l=o,p=v.memoizedProps,v=v.memoizedState,u=l.stateNode;try{var ye=Lr(l.type,p,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(ye,v),u.__reactInternalSnapshotBeforeUpdate=s}catch(Me){rt(l,l.return,Me)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,l=s.nodeType,l===9)bh(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":bh(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,Kt=s;break}Kt=o.return}return ye=by,by=!1,ye}function Iy(s,o,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ji(s,l),u&4&&yl(5,l);break;case 1:if(ji(s,l),u&4)if(s=l.stateNode,o===null)try{s.componentDidMount()}catch(R){rt(l,l.return,R)}else{var p=Lr(l.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(p,o,s.__reactInternalSnapshotBeforeUpdate)}catch(R){rt(l,l.return,R)}}u&64&&Cy(l),u&512&&Fr(l,l.return);break;case 3:if(ji(s,l),u&64&&(u=l.updateQueue,u!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Ey(u,s)}catch(R){rt(l,l.return,R)}}break;case 26:ji(s,l),u&512&&Fr(l,l.return);break;case 27:case 5:ji(s,l),o===null&&u&4&&Sy(l),u&512&&Fr(l,l.return);break;case 12:ji(s,l);break;case 13:ji(s,l),u&4&&Dy(s,l);break;case 22:if(p=l.memoizedState!==null||Xi,!p){o=o!==null&&o.memoizedState!==null||Et;var v=Xi,C=Et;Xi=p,(Et=o)&&!C?Ds(s,l,(l.subtreeFlags&8772)!==0):ji(s,l),Xi=v,Et=C}u&512&&(l.memoizedProps.mode==="manual"?Fr(l,l.return):Dn(l,l.return));break;default:ji(s,l)}}function Ny(s){var o=s.alternate;o!==null&&(s.alternate=null,Ny(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&hs(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Vt=null,Vn=!1;function Ji(s,o,l){for(l=l.child;l!==null;)My(s,o,l),l=l.sibling}function My(s,o,l){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ti,l)}catch{}switch(l.tag){case 26:Et||Dn(l,o),Ji(s,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Et||Dn(l,o);var u=Vt,p=Vn;for(Vt=l.stateNode,Ji(s,o,l),l=l.stateNode,o=l.attributes;o.length;)l.removeAttributeNode(o[0]);hs(l),Vt=u,Vn=p;break;case 5:Et||Dn(l,o);case 6:p=Vt;var v=Vn;if(Vt=null,Ji(s,o,l),Vt=p,Vn=v,Vt!==null)if(Vn)try{s=Vt,u=l.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)}catch(C){rt(l,o,C)}else try{Vt.removeChild(l.stateNode)}catch(C){rt(l,o,C)}break;case 18:Vt!==null&&(Vn?(o=Vt,l=l.stateNode,o.nodeType===8?Rh(o.parentNode,l):o.nodeType===1&&Rh(o,l),kl(o)):Rh(Vt,l.stateNode));break;case 4:u=Vt,p=Vn,Vt=l.stateNode.containerInfo,Vn=!0,Ji(s,o,l),Vt=u,Vn=p;break;case 0:case 11:case 14:case 15:Et||Ms(2,l,o),Et||Ms(4,l,o),Ji(s,o,l);break;case 1:Et||(Dn(l,o),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Ay(l,o,u)),Ji(s,o,l);break;case 21:Ji(s,o,l);break;case 22:Et||Dn(l,o),Et=(u=Et)||l.memoizedState!==null,Ji(s,o,l),Et=u;break;default:Ji(s,o,l)}}function Dy(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{kl(s)}catch(l){rt(o,o.return,l)}}function kA(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Ry),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Ry),o;default:throw Error(n(435,s.tag))}}function Xd(s,o){var l=kA(s);o.forEach(function(u){var p=QA.bind(null,s,u);l.has(u)||(l.add(u),u.then(p,p))})}function Yn(s,o){var l=o.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],v=s,C=o,R=C;e:for(;R!==null;){switch(R.tag){case 27:case 5:Vt=R.stateNode,Vn=!1;break e;case 3:Vt=R.stateNode.containerInfo,Vn=!0;break e;case 4:Vt=R.stateNode.containerInfo,Vn=!0;break e}R=R.return}if(Vt===null)throw Error(n(160));My(v,C,p),Vt=null,Vn=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Vy(o,s),o=o.sibling}var ci=null;function Vy(s,o){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Yn(o,s),Kn(s),u&4&&(Ms(3,s,s.return),yl(3,s),Ms(5,s,s.return));break;case 1:Yn(o,s),Kn(s),u&512&&(Et||l===null||Dn(l,l.return)),u&64&&Xi&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=ci;if(Yn(o,s),Kn(s),u&512&&(Et||l===null||Dn(l,l.return)),u&4){var v=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":v=p.getElementsByTagName("title")[0],(!v||v[mr]||v[Bt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(u),p.head.insertBefore(v,p.querySelector("head > title"))),tn(v,u,l),v[Bt]=s,Tt(v),u=v;break e;case"link":var C=Sv("link","href",p).get(u+(l.href||""));if(C){for(var R=0;R<C.length;R++)if(v=C[R],v.getAttribute("href")===(l.href==null?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(R,1);break t}}v=p.createElement(u),tn(v,u,l),p.head.appendChild(v);break;case"meta":if(C=Sv("meta","content",p).get(u+(l.content||""))){for(R=0;R<C.length;R++)if(v=C[R],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(R,1);break t}}v=p.createElement(u),tn(v,u,l),p.head.appendChild(v);break;default:throw Error(n(468,u))}v[Bt]=s,Tt(v),u=v}s.stateNode=u}else xv(p,s.type,s.stateNode);else s.stateNode=Av(p,u,s.memoizedProps);else v!==u?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,u===null?xv(p,s.type,s.stateNode):Av(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&xy(s,s.memoizedProps,l.memoizedProps)}break;case 27:if(u&4&&s.alternate===null){p=s.stateNode,v=s.memoizedProps;try{for(var D=p.firstChild;D;){var F=D.nextSibling,Z=D.nodeName;D[mr]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&D.rel.toLowerCase()==="stylesheet"||p.removeChild(D),D=F}for(var ie=s.type,Y=p.attributes;Y.length;)p.removeAttributeNode(Y[0]);tn(p,ie,v),p[Bt]=s,p[jt]=v}catch(ye){rt(s,s.return,ye)}}case 5:if(Yn(o,s),Kn(s),u&512&&(Et||l===null||Dn(l,l.return)),s.flags&32){p=s.stateNode;try{An(p,"")}catch(ye){rt(s,s.return,ye)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,xy(s,p,l!==null?l.memoizedProps:p)),u&1024&&(Zd=!0);break;case 6:if(Yn(o,s),Kn(s),u&4){if(s.stateNode===null)throw Error(n(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ye){rt(s,s.return,ye)}}break;case 3:if(Rc=null,p=ci,ci=xc(o.containerInfo),Yn(o,s),ci=p,Kn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{kl(o.containerInfo)}catch(ye){rt(s,s.return,ye)}Zd&&(Zd=!1,Py(s));break;case 4:u=ci,ci=xc(s.stateNode.containerInfo),Yn(o,s),Kn(s),ci=u;break;case 12:Yn(o,s),Kn(s);break;case 13:Yn(o,s),Kn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(rh=Fn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Xd(s,u)));break;case 22:if(u&512&&(Et||l===null||Dn(l,l.return)),D=s.memoizedState!==null,F=l!==null&&l.memoizedState!==null,Z=Xi,ie=Et,Xi=Z||D,Et=ie||F,Yn(o,s),Et=ie,Xi=Z,Kn(s),o=s.stateNode,o._current=s,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,u&8192&&(o._visibility=D?o._visibility&-2:o._visibility|1,D&&(o=Xi||Et,l===null||F||o||Po(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(l=null,o=s;;){if(o.tag===5||o.tag===26||o.tag===27){if(l===null){F=l=o;try{if(p=F.stateNode,D)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{C=F.stateNode,R=F.memoizedProps.style;var Q=R!=null&&R.hasOwnProperty("display")?R.display:null;C.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ye){rt(F,F.return,ye)}}}else if(o.tag===6){if(l===null){F=o;try{F.stateNode.nodeValue=D?"":F.memoizedProps}catch(ye){rt(F,F.return,ye)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Xd(s,l))));break;case 19:Yn(o,s),Kn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Xd(s,u)));break;case 21:break;default:Yn(o,s),Kn(s)}}function Kn(s){var o=s.flags;if(o&2){try{if(s.tag!==27){e:{for(var l=s.return;l!==null;){if(wy(l)){var u=l;break e}l=l.return}throw Error(n(160))}switch(u.tag){case 27:var p=u.stateNode,v=Kd(s);cc(s,v,p);break;case 5:var C=u.stateNode;u.flags&32&&(An(C,""),u.flags&=-33);var R=Kd(s);cc(s,R,C);break;case 3:case 4:var D=u.stateNode.containerInfo,F=Kd(s);Qd(s,F,D);break;default:throw Error(n(161))}}}catch(Z){rt(s,s.return,Z)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Py(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;Py(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function ji(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Iy(s,o.alternate,o),o=o.sibling}function Po(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ms(4,o,o.return),Po(o);break;case 1:Dn(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&Ay(o,o.return,l),Po(o);break;case 26:case 27:case 5:Dn(o,o.return),Po(o);break;case 22:Dn(o,o.return),o.memoizedState===null&&Po(o);break;default:Po(o)}s=s.sibling}}function Ds(s,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var u=o.alternate,p=s,v=o,C=v.flags;switch(v.tag){case 0:case 11:case 15:Ds(p,v,l),yl(4,v);break;case 1:if(Ds(p,v,l),u=v,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(F){rt(u,u.return,F)}if(u=v,p=u.updateQueue,p!==null){var R=u.stateNode;try{var D=p.shared.hiddenCallbacks;if(D!==null)for(p.shared.hiddenCallbacks=null,p=0;p<D.length;p++)Ty(D[p],R)}catch(F){rt(u,u.return,F)}}l&&C&64&&Cy(v),Fr(v,v.return);break;case 26:case 27:case 5:Ds(p,v,l),l&&u===null&&C&4&&Sy(v),Fr(v,v.return);break;case 12:Ds(p,v,l);break;case 13:Ds(p,v,l),l&&C&4&&Dy(p,v);break;case 22:v.memoizedState===null&&Ds(p,v,l),Fr(v,v.return);break;default:Ds(p,v,l)}o=o.sibling}}function Jd(s,o){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&al(l))}function jd(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&al(s))}function Vs(s,o,l,u){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ky(s,o,l,u),o=o.sibling}function ky(s,o,l,u){var p=o.flags;switch(o.tag){case 0:case 11:case 15:Vs(s,o,l,u),p&2048&&yl(9,o);break;case 3:Vs(s,o,l,u),p&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&al(s)));break;case 12:if(p&2048){Vs(s,o,l,u),s=o.stateNode;try{var v=o.memoizedProps,C=v.id,R=v.onPostCommit;typeof R=="function"&&R(C,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(D){rt(o,o.return,D)}}else Vs(s,o,l,u);break;case 23:break;case 22:v=o.stateNode,o.memoizedState!==null?v._visibility&4?Vs(s,o,l,u):vl(s,o):v._visibility&4?Vs(s,o,l,u):(v._visibility|=4,ko(s,o,l,u,(o.subtreeFlags&10256)!==0)),p&2048&&Jd(o.alternate,o);break;case 24:Vs(s,o,l,u),p&2048&&jd(o.alternate,o);break;default:Vs(s,o,l,u)}}function ko(s,o,l,u,p){for(p=p&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=s,C=o,R=l,D=u,F=C.flags;switch(C.tag){case 0:case 11:case 15:ko(v,C,R,D,p),yl(8,C);break;case 23:break;case 22:var Z=C.stateNode;C.memoizedState!==null?Z._visibility&4?ko(v,C,R,D,p):vl(v,C):(Z._visibility|=4,ko(v,C,R,D,p)),p&&F&2048&&Jd(C.alternate,C);break;case 24:ko(v,C,R,D,p),p&&F&2048&&jd(C.alternate,C);break;default:ko(v,C,R,D,p)}o=o.sibling}}function vl(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=s,u=o,p=u.flags;switch(u.tag){case 22:vl(l,u),p&2048&&Jd(u.alternate,u);break;case 24:vl(l,u),p&2048&&jd(u.alternate,u);break;default:vl(l,u)}o=o.sibling}}var _l=8192;function Lo(s){if(s.subtreeFlags&_l)for(s=s.child;s!==null;)Ly(s),s=s.sibling}function Ly(s){switch(s.tag){case 26:Lo(s),s.flags&_l&&s.memoizedState!==null&&AS(ci,s.memoizedState,s.memoizedProps);break;case 5:Lo(s);break;case 3:case 4:var o=ci;ci=xc(s.stateNode.containerInfo),Lo(s),ci=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=_l,_l=16777216,Lo(s),_l=o):Lo(s));break;default:Lo(s)}}function Oy(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Tl(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var u=o[l];Kt=u,Fy(u,s)}Oy(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Uy(s),s=s.sibling}function Uy(s){switch(s.tag){case 0:case 11:case 15:Tl(s),s.flags&2048&&Ms(9,s,s.return);break;case 3:Tl(s);break;case 12:Tl(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&4&&(s.return===null||s.return.tag!==13)?(o._visibility&=-5,fc(s)):Tl(s);break;default:Tl(s)}}function fc(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var u=o[l];Kt=u,Fy(u,s)}Oy(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ms(8,o,o.return),fc(o);break;case 22:l=o.stateNode,l._visibility&4&&(l._visibility&=-5,fc(o));break;default:fc(o)}s=s.sibling}}function Fy(s,o){for(;Kt!==null;){var l=Kt;switch(l.tag){case 0:case 11:case 15:Ms(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:al(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Kt=u;else e:for(l=s;Kt!==null;){u=Kt;var p=u.sibling,v=u.return;if(Ny(u),u===l){Kt=null;break e}if(p!==null){p.return=v,Kt=p;break e}Kt=v}}}function LA(s,o,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(s,o,l,u){return new LA(s,o,l,u)}function Wd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ps(s,o){var l=s.alternate;return l===null?(l=Qn(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&31457280,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function By(s,o){s.flags&=31457282;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,o=l.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function dc(s,o,l,u,p,v){var C=0;if(u=s,typeof s=="function")Wd(s)&&(C=1);else if(typeof s=="string")C=ES(s,l,On.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case y:return Br(l.children,p,v,o);case g:C=8,p|=24;break;case _:return s=Qn(12,l,o,p|2),s.elementType=_,s.lanes=v,s;case z:return s=Qn(13,l,o,p),s.elementType=z,s.lanes=v,s;case H:return s=Qn(19,l,o,p),s.elementType=H,s.lanes=v,s;case ne:return qy(l,p,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:case M:C=10;break e;case S:C=9;break e;case L:C=11;break e;case X:C=14;break e;case j:C=16,u=null;break e}C=29,l=Error(n(130,s===null?"null":typeof s,"")),u=null}return o=Qn(C,l,o,p),o.elementType=s,o.type=u,o.lanes=v,o}function Br(s,o,l,u){return s=Qn(7,s,u,o),s.lanes=l,s}function qy(s,o,l,u){s=Qn(22,s,u,o),s.elementType=ne,s.lanes=l;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var v=p._current;if(v===null)throw Error(n(456));if((p._pendingVisibility&2)===0){var C=Cs(v,2);C!==null&&(p._pendingVisibility|=2,yn(C,v,2))}},attach:function(){var v=p._current;if(v===null)throw Error(n(456));if((p._pendingVisibility&2)!==0){var C=Cs(v,2);C!==null&&(p._pendingVisibility&=-3,yn(C,v,2))}}};return s.stateNode=p,s}function eh(s,o,l){return s=Qn(6,s,null,o),s.lanes=l,s}function th(s,o,l){return o=Qn(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function Wi(s){s.flags|=4}function zy(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!wv(o)){if(o=$n.current,o!==null&&((Ye&4194176)===Ye?xi!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||o!==xi))throw sl=od,rg;s.flags|=8192}}function hc(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Fi():536870912,s.lanes|=o,Uo|=o)}function El(s,o){if(!Ze)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function yt(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(o)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&31457280,u|=p.flags&31457280,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=l,o}function OA(s,o,l){var u=o.pendingProps;switch(sd(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(o),null;case 1:return yt(o),null;case 3:return l=o.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Zi(Gt),mi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(el(o)?Wi(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ui!==null&&(uh(ui),ui=null))),yt(o),null;case 26:return l=o.memoizedState,s===null?(Wi(o),l!==null?(yt(o),zy(o,l)):(yt(o),o.flags&=-16777217)):l?l!==s.memoizedState?(Wi(o),yt(o),zy(o,l)):(yt(o),o.flags&=-16777217):(s.memoizedProps!==u&&Wi(o),yt(o),o.flags&=-16777217),null;case 27:lr(o),l=Un.current;var p=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==u&&Wi(o);else{if(!u){if(o.stateNode===null)throw Error(n(166));return yt(o),null}s=On.current,el(o)?ig(o):(s=vv(p,u,l),o.stateNode=s,Wi(o))}return yt(o),null;case 5:if(lr(o),l=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==u&&Wi(o);else{if(!u){if(o.stateNode===null)throw Error(n(166));return yt(o),null}if(s=On.current,el(o))ig(o);else{switch(p=Sc(Un.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?p.createElement(l,{is:u.is}):p.createElement(l)}}s[Bt]=o,s[jt]=u;e:for(p=o.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===o)break e;for(;p.sibling===null;){if(p.return===null||p.return===o)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}o.stateNode=s;e:switch(tn(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Wi(o)}}return yt(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==u&&Wi(o);else{if(typeof u!="string"&&o.stateNode===null)throw Error(n(166));if(s=Un.current,el(o)){if(s=o.stateNode,l=o.memoizedProps,u=null,p=gn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[Bt]=o,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||dv(s.nodeValue,l)),s||Nr(o)}else s=Sc(s).createTextNode(u),s[Bt]=o,o.stateNode=s}return yt(o),null;case 13:if(u=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=el(o),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(n(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Bt]=o}else tl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;yt(o),p=!1}else ui!==null&&(uh(ui),ui=null),p=!0;if(!p)return o.flags&256?($i(o),o):($i(o),null)}if($i(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=o.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var v=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048)}return l!==s&&l&&(o.child.flags|=8192),hc(o,o.updateQueue),yt(o),null;case 4:return mi(),s===null&&Th(o.stateNode.containerInfo),yt(o),null;case 10:return Zi(o.type),yt(o),null;case 19:if(gt(zt),p=o.memoizedState,p===null)return yt(o),null;if(u=(o.flags&128)!==0,v=p.rendering,v===null)if(u)El(p,!1);else{if(Ct!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(v=Xu(s),v!==null){for(o.flags|=128,El(p,!1),s=v.updateQueue,o.updateQueue=s,hc(o,s),o.subtreeFlags=0,s=l,l=o.child;l!==null;)By(l,s),l=l.sibling;return at(zt,zt.current&1|2),o.child}s=s.sibling}p.tail!==null&&Fn()>mc&&(o.flags|=128,u=!0,El(p,!1),o.lanes=4194304)}else{if(!u)if(s=Xu(v),s!==null){if(o.flags|=128,u=!0,s=s.updateQueue,o.updateQueue=s,hc(o,s),El(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ze)return yt(o),null}else 2*Fn()-p.renderingStartTime>mc&&l!==536870912&&(o.flags|=128,u=!0,El(p,!1),o.lanes=4194304);p.isBackwards?(v.sibling=o.child,o.child=v):(s=p.last,s!==null?s.sibling=v:o.child=v,p.last=v)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Fn(),o.sibling=null,s=zt.current,at(zt,u?s&1|2:s&1),o):(yt(o),null);case 22:case 23:return $i(o),ld(),u=o.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(o.flags|=8192):u&&(o.flags|=8192),u?(l&536870912)!==0&&(o.flags&128)===0&&(yt(o),o.subtreeFlags&6&&(o.flags|=8192)):yt(o),l=o.updateQueue,l!==null&&hc(o,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),u!==l&&(o.flags|=2048),s!==null&&gt(Dr),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Zi(Gt),yt(o),null;case 25:return null}throw Error(n(156,o.tag))}function UA(s,o){switch(sd(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Zi(Gt),mi(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return lr(o),null;case 13:if($i(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));tl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return gt(zt),null;case 4:return mi(),null;case 10:return Zi(o.type),null;case 22:case 23:return $i(o),ld(),s!==null&&gt(Dr),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Zi(Gt),null;case 25:return null;default:return null}}function Gy(s,o){switch(sd(o),o.tag){case 3:Zi(Gt),mi();break;case 26:case 27:case 5:lr(o);break;case 4:mi();break;case 13:$i(o);break;case 19:gt(zt);break;case 10:Zi(o.type);break;case 22:case 23:$i(o),ld(),s!==null&&gt(Dr);break;case 24:Zi(Gt)}}var FA={getCacheForType:function(s){var o=un(Gt),l=o.data.get(s);return l===void 0&&(l=s(),o.data.set(s,l)),l}},BA=typeof WeakMap=="function"?WeakMap:Map,vt=0,ut=null,Fe=null,Ye=0,ct=0,Pn=null,es=!1,Oo=!1,nh=!1,ts=0,Ct=0,ks=0,qr=0,ih=0,Zn=0,Uo=0,Cl=null,Ri=null,sh=!1,rh=0,mc=1/0,pc=null,Ls=null,gc=!1,zr=null,Al=0,oh=0,ah=null,Sl=0,lh=null;function kn(){if((vt&2)!==0&&Ye!==0)return Ye&-Ye;if(x.T!==null){var s=Io;return s!==0?s:gh()}return ds()}function Hy(){Zn===0&&(Zn=(Ye&536870912)===0||Ze?Au():536870912);var s=$n.current;return s!==null&&(s.flags|=32),Zn}function yn(s,o,l){(s===ut&&ct===2||s.cancelPendingCommit!==null)&&(Fo(s,0),ns(s,Ye,Zn,!1)),dr(s,l),((vt&2)===0||s!==ut)&&(s===ut&&((vt&2)===0&&(qr|=l),Ct===4&&ns(s,Ye,Zn,!1)),bi(s))}function $y(s,o,l){if((vt&6)!==0)throw Error(n(327));var u=!l&&(o&60)===0&&(o&s.expiredLanes)===0||ni(s,o),p=u?GA(s,o):dh(s,o,!0),v=u;do{if(p===0){Oo&&!u&&ns(s,o,0,!1);break}else if(p===6)ns(s,o,0,!es);else{if(l=s.current.alternate,v&&!qA(l)){p=dh(s,o,!1),v=!1;continue}if(p===2){if(v=o,s.errorRecoveryDisabledLanes&v)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var R=s;p=Cl;var D=R.current.memoizedState.isDehydrated;if(D&&(Fo(R,C).flags|=256),C=dh(R,C,!1),C!==2){if(nh&&!D){R.errorRecoveryDisabledLanes|=v,qr|=v,p=4;break e}v=Ri,Ri=p,v!==null&&uh(v)}p=C}if(v=!1,p!==2)continue}}if(p===1){Fo(s,0),ns(s,o,0,!0);break}e:{switch(u=s,p){case 0:case 1:throw Error(n(345));case 4:if((o&4194176)===o){ns(u,o,Zn,!es);break e}break;case 2:Ri=null;break;case 3:case 5:break;default:throw Error(n(329))}if(u.finishedWork=l,u.finishedLanes=o,(o&62914560)===o&&(v=rh+300-Fn(),10<v)){if(ns(u,o,Zn,!es),gi(u,0)!==0)break e;u.timeoutHandle=pv(Yy.bind(null,u,l,Ri,pc,sh,o,Zn,qr,Uo,es,2,-0,0),v);break e}Yy(u,l,Ri,pc,sh,o,Zn,qr,Uo,es,0,-0,0)}}break}while(!0);bi(s)}function uh(s){Ri===null?Ri=s:Ri.push.apply(Ri,s)}function Yy(s,o,l,u,p,v,C,R,D,F,Z,ie,Y){var Q=o.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:CS},Ly(o),o=SS(),o!==null)){s.cancelPendingCommit=o(Wy.bind(null,s,l,u,p,C,R,D,1,ie,Y)),ns(s,v,C,!F);return}Wy(s,l,u,p,C,R,D,Z,ie,Y)}function qA(s){for(var o=s;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],v=p.getSnapshot;p=p.value;try{if(!Mn(v(),p))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ns(s,o,l,u){o&=~ih,o&=~qr,s.suspendedLanes|=o,s.pingedLanes&=~o,u&&(s.warmLanes|=o),u=s.expirationTimes;for(var p=o;0<p;){var v=31-an(p),C=1<<v;u[v]=-1,p&=~C}l!==0&&Na(s,l,o)}function yc(){return(vt&6)===0?(xl(0),!1):!0}function ch(){if(Fe!==null){if(ct===0)var s=Fe.return;else s=Fe,Qi=Or=null,gd(s),Ro=null,rl=0,s=Fe;for(;s!==null;)Gy(s.alternate,s),s=s.return;Fe=null}}function Fo(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,oS(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),ch(),ut=s,Fe=l=Ps(s.current,null),Ye=o,ct=0,Pn=null,es=!1,Oo=ni(s,o),nh=!1,Uo=Zn=ih=qr=ks=Ct=0,Ri=Cl=null,sh=!1,(o&8)!==0&&(o|=o&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=o;0<u;){var p=31-an(u),v=1<<p;o|=s[p],u&=~v}return ts=o,qu(),l}function Ky(s,o){Le=null,x.H=wi,o===il?(o=lg(),ct=3):o===rg?(o=lg(),ct=4):ct=o===oy?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Pn=o,Fe===null&&(Ct=1,ac(s,zn(o,s.current)))}function Qy(){var s=x.H;return x.H=wi,s===null?wi:s}function Zy(){var s=x.A;return x.A=FA,s}function fh(){Ct=4,es||(Ye&4194176)!==Ye&&$n.current!==null||(Oo=!0),(ks&134217727)===0&&(qr&134217727)===0||ut===null||ns(ut,Ye,Zn,!1)}function dh(s,o,l){var u=vt;vt|=2;var p=Qy(),v=Zy();(ut!==s||Ye!==o)&&(pc=null,Fo(s,o)),o=!1;var C=Ct;e:do try{if(ct!==0&&Fe!==null){var R=Fe,D=Pn;switch(ct){case 8:ch(),C=6;break e;case 3:case 2:case 6:$n.current===null&&(o=!0);var F=ct;if(ct=0,Pn=null,Bo(s,R,D,F),l&&Oo){C=0;break e}break;default:F=ct,ct=0,Pn=null,Bo(s,R,D,F)}}zA(),C=Ct;break}catch(Z){Ky(s,Z)}while(!0);return o&&s.shellSuspendCounter++,Qi=Or=null,vt=u,x.H=p,x.A=v,Fe===null&&(ut=null,Ye=0,qu()),C}function zA(){for(;Fe!==null;)Xy(Fe)}function GA(s,o){var l=vt;vt|=2;var u=Qy(),p=Zy();ut!==s||Ye!==o?(pc=null,mc=Fn()+500,Fo(s,o)):Oo=ni(s,o);e:do try{if(ct!==0&&Fe!==null){o=Fe;var v=Pn;t:switch(ct){case 1:ct=0,Pn=null,Bo(s,o,v,1);break;case 2:if(og(v)){ct=0,Pn=null,Jy(o);break}o=function(){ct===2&&ut===s&&(ct=7),bi(s)},v.then(o,o);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:og(v)?(ct=0,Pn=null,Jy(o)):(ct=0,Pn=null,Bo(s,o,v,7));break;case 5:var C=null;switch(Fe.tag){case 26:C=Fe.memoizedState;case 5:case 27:var R=Fe;if(!C||wv(C)){ct=0,Pn=null;var D=R.sibling;if(D!==null)Fe=D;else{var F=R.return;F!==null?(Fe=F,vc(F)):Fe=null}break t}}ct=0,Pn=null,Bo(s,o,v,5);break;case 6:ct=0,Pn=null,Bo(s,o,v,6);break;case 8:ch(),Ct=6;break e;default:throw Error(n(462))}}HA();break}catch(Z){Ky(s,Z)}while(!0);return Qi=Or=null,x.H=u,x.A=p,vt=l,Fe!==null?0:(ut=null,Ye=0,qu(),Ct)}function HA(){for(;Fe!==null&&!Gf();)Xy(Fe)}function Xy(s){var o=vy(s.alternate,s,ts);s.memoizedProps=s.pendingProps,o===null?vc(s):Fe=o}function Jy(s){var o=s,l=o.alternate;switch(o.tag){case 15:case 0:o=dy(l,o,o.pendingProps,o.type,void 0,Ye);break;case 11:o=dy(l,o,o.pendingProps,o.type.render,o.ref,Ye);break;case 5:gd(o);default:Gy(l,o),o=Fe=By(o,ts),o=vy(l,o,ts)}s.memoizedProps=s.pendingProps,o===null?vc(s):Fe=o}function Bo(s,o,l,u){Qi=Or=null,gd(o),Ro=null,rl=0;var p=o.return;try{if(DA(s,p,o,l,Ye)){Ct=1,ac(s,zn(l,s.current)),Fe=null;return}}catch(v){if(p!==null)throw Fe=p,v;Ct=1,ac(s,zn(l,s.current)),Fe=null;return}o.flags&32768?(Ze||u===1?s=!0:Oo||(Ye&536870912)!==0?s=!1:(es=s=!0,(u===2||u===3||u===6)&&(u=$n.current,u!==null&&u.tag===13&&(u.flags|=16384))),jy(o,s)):vc(o)}function vc(s){var o=s;do{if((o.flags&32768)!==0){jy(o,es);return}s=o.return;var l=OA(o.alternate,o,ts);if(l!==null){Fe=l;return}if(o=o.sibling,o!==null){Fe=o;return}Fe=o=s}while(o!==null);Ct===0&&(Ct=5)}function jy(s,o){do{var l=UA(s.alternate,s);if(l!==null){l.flags&=32767,Fe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=l}while(s!==null);Ct=6,Fe=null}function Wy(s,o,l,u,p,v,C,R,D,F){var Z=x.T,ie=fe.p;try{fe.p=2,x.T=null,$A(s,o,l,u,ie,p,v,C,R,D,F)}finally{x.T=Z,fe.p=ie}}function $A(s,o,l,u,p,v,C,R){do qo();while(zr!==null);if((vt&6)!==0)throw Error(n(327));var D=s.finishedWork;if(u=s.finishedLanes,D===null)return null;if(s.finishedWork=null,s.finishedLanes=0,D===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var F=D.lanes|D.childLanes;if(F|=td,ao(s,u,F,v,C,R),s===ut&&(Fe=ut=null,Ye=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||gc||(gc=!0,oh=F,ah=l,ZA(fs,function(){return qo(),null})),l=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||l?(l=x.T,x.T=null,v=fe.p,fe.p=2,C=vt,vt|=4,PA(s,D),Vy(D,s),pA(Sh,s.containerInfo),Nc=!!Ah,Sh=Ah=null,s.current=D,Iy(s,D.alternate,D),vu(),vt=C,fe.p=v,x.T=l):s.current=D,gc?(gc=!1,zr=s,Al=u):ev(s,F),F=s.pendingLanes,F===0&&(Ls=null),ba(D.stateNode),bi(s),o!==null)for(p=s.onRecoverableError,D=0;D<o.length;D++)F=o[D],p(F.value,{componentStack:F.stack});return(Al&3)!==0&&qo(),F=s.pendingLanes,(u&4194218)!==0&&(F&42)!==0?s===lh?Sl++:(Sl=0,lh=s):Sl=0,xl(0),null}function ev(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,al(o)))}function qo(){if(zr!==null){var s=zr,o=oh;oh=0;var l=lo(Al),u=x.T,p=fe.p;try{if(fe.p=32>l?32:l,x.T=null,zr===null)var v=!1;else{l=ah,ah=null;var C=zr,R=Al;if(zr=null,Al=0,(vt&6)!==0)throw Error(n(331));var D=vt;if(vt|=4,Uy(C.current),ky(C,C.current,R,l),vt=D,xl(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ti,C)}catch{}v=!0}return v}finally{fe.p=p,x.T=u,ev(s,o)}}return!1}function tv(s,o,l){o=zn(l,o),o=Nd(s.stateNode,o,2),s=Ns(s,o,2),s!==null&&(dr(s,2),bi(s))}function rt(s,o,l){if(s.tag===3)tv(s,s,l);else for(;o!==null;){if(o.tag===3){tv(o,s,l);break}else if(o.tag===1){var u=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ls===null||!Ls.has(u))){s=zn(l,s),l=sy(2),u=Ns(o,l,2),u!==null&&(ry(l,u,o,s),dr(u,2),bi(u));break}}o=o.return}}function hh(s,o,l){var u=s.pingCache;if(u===null){u=s.pingCache=new BA;var p=new Set;u.set(o,p)}else p=u.get(o),p===void 0&&(p=new Set,u.set(o,p));p.has(l)||(nh=!0,p.add(l),s=YA.bind(null,s,o,l),o.then(s,s))}function YA(s,o,l){var u=s.pingCache;u!==null&&u.delete(o),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ut===s&&(Ye&l)===l&&(Ct===4||Ct===3&&(Ye&62914560)===Ye&&300>Fn()-rh?(vt&2)===0&&Fo(s,0):ih|=l,Uo===Ye&&(Uo=0)),bi(s)}function nv(s,o){o===0&&(o=Fi()),s=Cs(s,o),s!==null&&(dr(s,o),bi(s))}function KA(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),nv(s,l)}function QA(s,o){var l=0;switch(s.tag){case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(o),nv(s,l)}function ZA(s,o){return Ft(s,o)}var _c=null,zo=null,mh=!1,Tc=!1,ph=!1,Gr=0;function bi(s){s!==zo&&s.next===null&&(zo===null?_c=zo=s:zo=zo.next=s),Tc=!0,mh||(mh=!0,JA(XA))}function xl(s,o){if(!ph&&Tc){ph=!0;do for(var l=!1,u=_c;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var v=0;else{var C=u.suspendedLanes,R=u.pingedLanes;v=(1<<31-an(42|s)+1)-1,v&=p&~(C&~R),v=v&201326677?v&201326677|1:v?v|2:0}v!==0&&(l=!0,rv(u,v))}else v=Ye,v=gi(u,u===ut?v:0),(v&3)===0||ni(u,v)||(l=!0,rv(u,v));u=u.next}while(l);ph=!1}}function XA(){Tc=mh=!1;var s=0;Gr!==0&&(rS()&&(s=Gr),Gr=0);for(var o=Fn(),l=null,u=_c;u!==null;){var p=u.next,v=iv(u,o);v===0?(u.next=null,l===null?_c=p:l.next=p,p===null&&(zo=l)):(l=u,(s!==0||(v&3)!==0)&&(Tc=!0)),u=p}xl(s)}function iv(s,o){for(var l=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var C=31-an(v),R=1<<C,D=p[C];D===-1?((R&l)===0||(R&u)!==0)&&(p[C]=$f(R,o)):D<=o&&(s.expiredLanes|=R),v&=~R}if(o=ut,l=Ye,l=gi(s,s===o?l:0),u=s.callbackNode,l===0||s===o&&ct===2||s.cancelPendingCommit!==null)return u!==null&&u!==null&&cs(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ni(s,l)){if(o=l&-l,o===s.callbackPriority)return o;switch(u!==null&&cs(u),lo(l)){case 2:case 8:l=Ra;break;case 32:l=fs;break;case 268435456:l=_u;break;default:l=fs}return u=sv.bind(null,s),l=Ft(l,u),s.callbackPriority=o,s.callbackNode=l,o}return u!==null&&u!==null&&cs(u),s.callbackPriority=2,s.callbackNode=null,2}function sv(s,o){var l=s.callbackNode;if(qo()&&s.callbackNode!==l)return null;var u=Ye;return u=gi(s,s===ut?u:0),u===0?null:($y(s,u,o),iv(s,Fn()),s.callbackNode!=null&&s.callbackNode===l?sv.bind(null,s):null)}function rv(s,o){if(qo())return null;$y(s,o,!0)}function JA(s){aS(function(){(vt&6)!==0?Ft(wa,s):s()})}function gh(){return Gr===0&&(Gr=Au()),Gr}function ov(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ho(""+s)}function av(s,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,s.id&&l.setAttribute("form",s.id),o.parentNode.insertBefore(l,o),s=new FormData(s),l.parentNode.removeChild(l),s}function jA(s,o,l,u,p){if(o==="submit"&&l&&l.stateNode===p){var v=ov((p[jt]||null).action),C=u.submitter;C&&(o=(o=C[jt]||null)?ov(o.formAction):C.getAttribute("formAction"),o!==null&&(v=o,C=null));var R=new _r("action","action",null,u,p);s.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Gr!==0){var D=C?av(p,C):new FormData(p);xd(l,{pending:!0,data:D,method:p.method,action:v},null,D)}}else typeof v=="function"&&(R.preventDefault(),D=C?av(p,C):new FormData(p),xd(l,{pending:!0,data:D,method:p.method,action:v},v,D))},currentTarget:p}]})}}for(var yh=0;yh<Wp.length;yh++){var vh=Wp[yh],WA=vh.toLowerCase(),eS=vh[0].toUpperCase()+vh.slice(1);li(WA,"on"+eS)}li(Qp,"onAnimationEnd"),li(Zp,"onAnimationIteration"),li(Xp,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(yA,"onTransitionRun"),li(vA,"onTransitionStart"),li(_A,"onTransitionCancel"),li(Jp,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function lv(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],p=u.event;u=u.listeners;e:{var v=void 0;if(o)for(var C=u.length-1;0<=C;C--){var R=u[C],D=R.instance,F=R.currentTarget;if(R=R.listener,D!==v&&p.isPropagationStopped())break e;v=R,p.currentTarget=F;try{v(p)}catch(Z){oc(Z)}p.currentTarget=null,v=D}else for(C=0;C<u.length;C++){if(R=u[C],D=R.instance,F=R.currentTarget,R=R.listener,D!==v&&p.isPropagationStopped())break e;v=R,p.currentTarget=F;try{v(p)}catch(Z){oc(Z)}p.currentTarget=null,v=D}}}}function ze(s,o){var l=o[hr];l===void 0&&(l=o[hr]=new Set);var u=s+"__bubble";l.has(u)||(uv(o,s,2,!1),l.add(u))}function _h(s,o,l){var u=0;o&&(u|=4),uv(l,s,u,o)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Th(s){if(!s[Ec]){s[Ec]=!0,xu.forEach(function(l){l!=="selectionchange"&&(tS.has(l)||_h(l,!1,s),_h(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Ec]||(o[Ec]=!0,_h("selectionchange",!1,o))}}function uv(s,o,l,u){switch(Dv(o)){case 2:var p=RS;break;case 8:p=bS;break;default:p=Vh}l=p.bind(null,o,l,s),p=void 0,!qi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(o,l,{capture:!0,passive:p}):s.addEventListener(o,l,!0):p!==void 0?s.addEventListener(o,l,{passive:p}):s.addEventListener(o,l,!1)}function Eh(s,o,l,u,p){var v=u;if((o&1)===0&&(o&2)===0&&u!==null)e:for(;;){if(u===null)return;var C=u.tag;if(C===3||C===4){var R=u.stateNode.containerInfo;if(R===p||R.nodeType===8&&R.parentNode===p)break;if(C===4)for(C=u.return;C!==null;){var D=C.tag;if((D===3||D===4)&&(D=C.stateNode.containerInfo,D===p||D.nodeType===8&&D.parentNode===p))return;C=C.return}for(;R!==null;){if(C=vi(R),C===null)return;if(D=C.tag,D===5||D===6||D===26||D===27){u=v=C;continue e}R=R.parentNode}}u=u.return}Ga(function(){var F=v,Z=za(l),ie=[];e:{var Y=jp.get(s);if(Y!==void 0){var Q=_r,ye=s;switch(s){case"keypress":if(yr(l)===0)break e;case"keydown":case"keyup":Q=To;break;case"focusin":ye="focus",Q=yo;break;case"focusout":ye="blur",Q=yo;break;case"beforeblur":case"afterblur":Q=yo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Sr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Es;break;case Qp:case Zp:case Xp:Q=$a;break;case Jp:Q=T;break;case"scroll":case"scrollend":Q=Er;break;case"wheel":Q=I;break;case"copy":case"cut":case"paste":Q=Pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Qa;break;case"toggle":case"beforetoggle":Q=K}var Me=(o&4)!==0,At=!Me&&(s==="scroll"||s==="scrollend"),q=Me?Y!==null?Y+"Capture":null:Y;Me=[];for(var U=F,$;U!==null;){var W=U;if($=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||$===null||q===null||(W=si(U,q),W!=null&&Me.push(Rl(U,W,$))),At)break;U=U.return}0<Me.length&&(Y=new Q(Y,ye,null,l,Z),ie.push({event:Y,listeners:Me}))}}if((o&7)===0){e:{if(Y=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",Y&&l!==qa&&(ye=l.relatedTarget||l.fromElement)&&(vi(ye)||ye[yi]))break e;if((Q||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(ye=l.relatedTarget||l.toElement,Q=F,ye=ye?vi(ye):null,ye!==null&&(At=Ee(ye),Me=ye.tag,ye!==At||Me!==5&&Me!==27&&Me!==6)&&(ye=null)):(Q=null,ye=F),Q!==ye)){if(Me=Sr,W="onMouseLeave",q="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(Me=Qa,W="onPointerLeave",q="onPointerEnter",U="pointer"),At=Q==null?Y:ii(Q),$=ye==null?Y:ii(ye),Y=new Me(W,U+"leave",Q,l,Z),Y.target=At,Y.relatedTarget=$,W=null,vi(Z)===F&&(Me=new Me(q,U+"enter",ye,l,Z),Me.target=$,Me.relatedTarget=At,W=Me),At=W,Q&&ye)t:{for(Me=Q,q=ye,U=0,$=Me;$;$=Go($))U++;for($=0,W=q;W;W=Go(W))$++;for(;0<U-$;)Me=Go(Me),U--;for(;0<$-U;)q=Go(q),$--;for(;U--;){if(Me===q||q!==null&&Me===q.alternate)break t;Me=Go(Me),q=Go(q)}Me=null}else Me=null;Q!==null&&cv(ie,Y,Q,Me,!1),ye!==null&&At!==null&&cv(ie,At,ye,Me,!0)}}e:{if(Y=F?ii(F):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var me=Op;else if(kp(Y))if(Up)me=hA;else{me=fA;var Ue=cA}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&fo(F.elementType)&&(me=Op):me=dA;if(me&&(me=me(s,F))){Lp(ie,me,l,Z);break e}Ue&&Ue(s,Y,F),s==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&Ua(Y,"number",Y.value)}switch(Ue=F?ii(F):window,s){case"focusin":(kp(Ue)||Ue.contentEditable==="true")&&(Eo=Ue,jf=F,Wa=null);break;case"focusout":Wa=jf=Eo=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,Yp(ie,l,Z);break;case"selectionchange":if(gA)break;case"keydown":case"keyup":Yp(ie,l,Z)}var ve;if(Ne)e:{switch(s){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else ai?ri(s,l)&&(Ae="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(St&&l.locale!=="ko"&&(ai||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&ai&&(ve=Mu()):(Bn=Z,lt="value"in Bn?Bn.value:Bn.textContent,ai=!0)),Ue=Cc(F,Ae),0<Ue.length&&(Ae=new Ka(Ae,s,null,l,Z),ie.push({event:Ae,listeners:Ue}),ve?Ae.data=ve:(ve=oi(l),ve!==null&&(Ae.data=ve)))),(ve=nt?Za(s,l):aA(s,l))&&(Ae=Cc(F,"onBeforeInput"),0<Ae.length&&(Ue=new Ka("onBeforeInput","beforeinput",null,l,Z),ie.push({event:Ue,listeners:Ae}),Ue.data=ve)),jA(ie,s,F,l,Z)}lv(ie,o)})}function Rl(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Cc(s,o){for(var l=o+"Capture",u=[];s!==null;){var p=s,v=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=si(s,l),p!=null&&u.unshift(Rl(s,p,v)),p=si(s,o),p!=null&&u.push(Rl(s,p,v))),s=s.return}return u}function Go(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function cv(s,o,l,u,p){for(var v=o._reactName,C=[];l!==null&&l!==u;){var R=l,D=R.alternate,F=R.stateNode;if(R=R.tag,D!==null&&D===u)break;R!==5&&R!==26&&R!==27||F===null||(D=F,p?(F=si(l,v),F!=null&&C.unshift(Rl(l,F,D))):p||(F=si(l,v),F!=null&&C.push(Rl(l,F,D)))),l=l.return}C.length!==0&&s.push({event:o,listeners:C})}var nS=/\r\n?/g,iS=/\u0000|\uFFFD/g;function fv(s){return(typeof s=="string"?s:""+s).replace(nS,`
`).replace(iS,"")}function dv(s,o){return o=fv(o),fv(s)===o}function Ac(){}function st(s,o,l,u,p,v){switch(l){case"children":typeof u=="string"?o==="body"||o==="textarea"&&u===""||An(s,u):(typeof u=="number"||typeof u=="bigint")&&o!=="body"&&An(s,""+u);break;case"className":In(s,"class",u);break;case"tabIndex":In(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":In(s,l,u);break;case"style":Ba(s,u,v);break;case"data":if(o!=="object"){In(s,"data",u);break}case"src":case"href":if(u===""&&(o!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=ho(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(o!=="input"&&st(s,o,"name",p.name,p,null),st(s,o,"formEncType",p.formEncType,p,null),st(s,o,"formMethod",p.formMethod,p,null),st(s,o,"formTarget",p.formTarget,p,null)):(st(s,o,"encType",p.encType,p,null),st(s,o,"method",p.method,p,null),st(s,o,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=ho(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Ac);break;case"onScroll":u!=null&&ze("scroll",s);break;case"onScrollEnd":u!=null&&ze("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(n(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=ho(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":ze("beforetoggle",s),ze("toggle",s),uo(s,"popover",u);break;case"xlinkActuate":Nt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Nt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Nt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Nt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Nt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Nt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Nt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Nt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Nt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":uo(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Nu.get(l)||l,uo(s,l,u))}}function Ch(s,o,l,u,p,v){switch(l){case"style":Ba(s,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(n(60));s.innerHTML=l}}break;case"children":typeof u=="string"?An(s,u):(typeof u=="number"||typeof u=="bigint")&&An(s,""+u);break;case"onScroll":u!=null&&ze("scroll",s);break;case"onScrollEnd":u!=null&&ze("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Ac);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Va.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),o=l.slice(2,p?l.length-7:void 0),v=s[jt]||null,v=v!=null?v[l]:null,typeof v=="function"&&s.removeEventListener(o,v,p),typeof u=="function")){typeof v!="function"&&v!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(o,u,p);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):uo(s,l,u)}}}function tn(s,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",s),ze("load",s);var u=!1,p=!1,v;for(v in l)if(l.hasOwnProperty(v)){var C=l[v];if(C!=null)switch(v){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:st(s,o,v,C,l,null)}}p&&st(s,o,"srcSet",l.srcSet,l,null),u&&st(s,o,"src",l.src,l,null);return;case"input":ze("invalid",s);var R=v=C=p=null,D=null,F=null;for(u in l)if(l.hasOwnProperty(u)){var Z=l[u];if(Z!=null)switch(u){case"name":p=Z;break;case"type":C=Z;break;case"checked":D=Z;break;case"defaultChecked":F=Z;break;case"value":v=Z;break;case"defaultValue":R=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,o));break;default:st(s,o,u,Z,l,null)}}Ru(s,v,R,D,F,C,p,!1),We(s);return;case"select":ze("invalid",s),u=C=v=null;for(p in l)if(l.hasOwnProperty(p)&&(R=l[p],R!=null))switch(p){case"value":v=R;break;case"defaultValue":C=R;break;case"multiple":u=R;default:st(s,o,p,R,l,null)}o=v,l=C,s.multiple=!!u,o!=null?ps(s,!!u,o,!1):l!=null&&ps(s,!!u,l,!0);return;case"textarea":ze("invalid",s),v=p=u=null;for(C in l)if(l.hasOwnProperty(C)&&(R=l[C],R!=null))switch(C){case"value":u=R;break;case"defaultValue":p=R;break;case"children":v=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(n(91));break;default:st(s,o,C,R,l,null)}gs(s,u,p,v),We(s);return;case"option":for(D in l)if(l.hasOwnProperty(D)&&(u=l[D],u!=null))switch(D){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:st(s,o,D,u,l,null)}return;case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":ze("load",s);break;case"video":case"audio":for(u=0;u<wl.length;u++)ze(wl[u],s);break;case"image":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"embed":case"source":case"link":ze("error",s),ze("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in l)if(l.hasOwnProperty(F)&&(u=l[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:st(s,o,F,u,l,null)}return;default:if(fo(o)){for(Z in l)l.hasOwnProperty(Z)&&(u=l[Z],u!==void 0&&Ch(s,o,Z,u,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(u=l[R],u!=null&&st(s,o,R,u,l,null))}function sS(s,o,l,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,C=null,R=null,D=null,F=null,Z=null;for(Q in l){var ie=l[Q];if(l.hasOwnProperty(Q)&&ie!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=ie;default:u.hasOwnProperty(Q)||st(s,o,Q,null,u,ie)}}for(var Y in u){var Q=u[Y];if(ie=l[Y],u.hasOwnProperty(Y)&&(Q!=null||ie!=null))switch(Y){case"type":v=Q;break;case"name":p=Q;break;case"checked":F=Q;break;case"defaultChecked":Z=Q;break;case"value":C=Q;break;case"defaultValue":R=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(137,o));break;default:Q!==ie&&st(s,o,Y,Q,u,ie)}}co(s,C,R,D,F,Z,v,p);return;case"select":Q=C=R=Y=null;for(v in l)if(D=l[v],l.hasOwnProperty(v)&&D!=null)switch(v){case"value":break;case"multiple":Q=D;default:u.hasOwnProperty(v)||st(s,o,v,null,u,D)}for(p in u)if(v=u[p],D=l[p],u.hasOwnProperty(p)&&(v!=null||D!=null))switch(p){case"value":Y=v;break;case"defaultValue":R=v;break;case"multiple":C=v;default:v!==D&&st(s,o,p,v,u,D)}o=R,l=C,u=Q,Y!=null?ps(s,!!l,Y,!1):!!u!=!!l&&(o!=null?ps(s,!!l,o,!0):ps(s,!!l,l?[]:"",!1));return;case"textarea":Q=Y=null;for(R in l)if(p=l[R],l.hasOwnProperty(R)&&p!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:st(s,o,R,null,u,p)}for(C in u)if(p=u[C],v=l[C],u.hasOwnProperty(C)&&(p!=null||v!=null))switch(C){case"value":Y=p;break;case"defaultValue":Q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==v&&st(s,o,C,p,u,v)}bu(s,Y,Q);return;case"option":for(var ye in l)if(Y=l[ye],l.hasOwnProperty(ye)&&Y!=null&&!u.hasOwnProperty(ye))switch(ye){case"selected":s.selected=!1;break;default:st(s,o,ye,null,u,Y)}for(D in u)if(Y=u[D],Q=l[D],u.hasOwnProperty(D)&&Y!==Q&&(Y!=null||Q!=null))switch(D){case"selected":s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:st(s,o,D,Y,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in l)Y=l[Me],l.hasOwnProperty(Me)&&Y!=null&&!u.hasOwnProperty(Me)&&st(s,o,Me,null,u,Y);for(F in u)if(Y=u[F],Q=l[F],u.hasOwnProperty(F)&&Y!==Q&&(Y!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(137,o));break;default:st(s,o,F,Y,u,Q)}return;default:if(fo(o)){for(var At in l)Y=l[At],l.hasOwnProperty(At)&&Y!==void 0&&!u.hasOwnProperty(At)&&Ch(s,o,At,void 0,u,Y);for(Z in u)Y=u[Z],Q=l[Z],!u.hasOwnProperty(Z)||Y===Q||Y===void 0&&Q===void 0||Ch(s,o,Z,Y,u,Q);return}}for(var q in l)Y=l[q],l.hasOwnProperty(q)&&Y!=null&&!u.hasOwnProperty(q)&&st(s,o,q,null,u,Y);for(ie in u)Y=u[ie],Q=l[ie],!u.hasOwnProperty(ie)||Y===Q||Y==null&&Q==null||st(s,o,ie,Y,u,Q)}var Ah=null,Sh=null;function Sc(s){return s.nodeType===9?s:s.ownerDocument}function hv(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mv(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function xh(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var wh=null;function rS(){var s=window.event;return s&&s.type==="popstate"?s===wh?!1:(wh=s,!0):(wh=null,!1)}var pv=typeof setTimeout=="function"?setTimeout:void 0,oS=typeof clearTimeout=="function"?clearTimeout:void 0,gv=typeof Promise=="function"?Promise:void 0,aS=typeof queueMicrotask=="function"?queueMicrotask:typeof gv<"u"?function(s){return gv.resolve(null).then(s).catch(lS)}:pv;function lS(s){setTimeout(function(){throw s})}function Rh(s,o){var l=o,u=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(u===0){s.removeChild(p),kl(o);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=p}while(l);kl(o)}function bh(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":bh(l),hs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function uS(s,o,l,u){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[mr])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==p.rel||s.getAttribute("href")!==(p.href==null?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=fi(s.nextSibling),s===null)break}return null}function cS(s,o,l){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=fi(s.nextSibling),s===null))return null;return s}function fi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}function yv(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}function vv(s,o,l){switch(o=Sc(l),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}var Xn=new Map,_v=new Set;function xc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var is=fe.d;fe.d={f:fS,r:dS,D:hS,C:mS,L:pS,m:gS,X:vS,S:yS,M:_S};function fS(){var s=is.f(),o=yc();return s||o}function dS(s){var o=_i(s);o!==null&&o.tag===5&&o.type==="form"?Yg(o):is.r(s)}var Ho=typeof document>"u"?null:document;function Tv(s,o,l){var u=Ho;if(u&&typeof o=="string"&&o){var p=Cn(o);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),_v.has(p)||(_v.add(p),s={rel:s,crossOrigin:l,href:o},u.querySelector(p)===null&&(o=u.createElement("link"),tn(o,"link",s),Tt(o),u.head.appendChild(o)))}}function hS(s){is.D(s),Tv("dns-prefetch",s,null)}function mS(s,o){is.C(s,o),Tv("preconnect",s,o)}function pS(s,o,l){is.L(s,o,l);var u=Ho;if(u&&s&&o){var p='link[rel="preload"][as="'+Cn(o)+'"]';o==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Cn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Cn(l.imageSizes)+'"]')):p+='[href="'+Cn(s)+'"]';var v=p;switch(o){case"style":v=$o(s);break;case"script":v=Yo(s)}Xn.has(v)||(s=N({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:s,as:o},l),Xn.set(v,s),u.querySelector(p)!==null||o==="style"&&u.querySelector(bl(v))||o==="script"&&u.querySelector(Il(v))||(o=u.createElement("link"),tn(o,"link",s),Tt(o),u.head.appendChild(o)))}}function gS(s,o){is.m(s,o);var l=Ho;if(l&&s){var u=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+Cn(u)+'"][href="'+Cn(s)+'"]',v=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Yo(s)}if(!Xn.has(v)&&(s=N({rel:"modulepreload",href:s},o),Xn.set(v,s),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Il(v)))return}u=l.createElement("link"),tn(u,"link",s),Tt(u),l.head.appendChild(u)}}}function yS(s,o,l){is.S(s,o,l);var u=Ho;if(u&&s){var p=En(u).hoistableStyles,v=$o(s);o=o||"default";var C=p.get(v);if(!C){var R={loading:0,preload:null};if(C=u.querySelector(bl(v)))R.loading=5;else{s=N({rel:"stylesheet",href:s,"data-precedence":o},l),(l=Xn.get(v))&&Ih(s,l);var D=C=u.createElement("link");Tt(D),tn(D,"link",s),D._p=new Promise(function(F,Z){D.onload=F,D.onerror=Z}),D.addEventListener("load",function(){R.loading|=1}),D.addEventListener("error",function(){R.loading|=2}),R.loading|=4,wc(C,o,u)}C={type:"stylesheet",instance:C,count:1,state:R},p.set(v,C)}}}function vS(s,o){is.X(s,o);var l=Ho;if(l&&s){var u=En(l).hoistableScripts,p=Yo(s),v=u.get(p);v||(v=l.querySelector(Il(p)),v||(s=N({src:s,async:!0},o),(o=Xn.get(p))&&Nh(s,o),v=l.createElement("script"),Tt(v),tn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function _S(s,o){is.M(s,o);var l=Ho;if(l&&s){var u=En(l).hoistableScripts,p=Yo(s),v=u.get(p);v||(v=l.querySelector(Il(p)),v||(s=N({src:s,async:!0,type:"module"},o),(o=Xn.get(p))&&Nh(s,o),v=l.createElement("script"),Tt(v),tn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function Ev(s,o,l,u){var p=(p=Un.current)?xc(p):null;if(!p)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=$o(l.href),l=En(p).hoistableStyles,u=l.get(o),u||(u={type:"style",instance:null,count:0,state:null},l.set(o,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=$o(l.href);var v=En(p).hoistableStyles,C=v.get(s);if(C||(p=p.ownerDocument||p,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,C),(v=p.querySelector(bl(s)))&&!v._p&&(C.instance=v,C.state.loading=5),Xn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Xn.set(s,l),v||TS(p,s,l,C.state))),o&&u===null)throw Error(n(528,""));return C}if(o&&u!==null)throw Error(n(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Yo(l),l=En(p).hoistableScripts,u=l.get(o),u||(u={type:"script",instance:null,count:0,state:null},l.set(o,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function $o(s){return'href="'+Cn(s)+'"'}function bl(s){return'link[rel="stylesheet"]['+s+"]"}function Cv(s){return N({},s,{"data-precedence":s.precedence,precedence:null})}function TS(s,o,l,u){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?u.loading=1:(o=s.createElement("link"),u.preload=o,o.addEventListener("load",function(){return u.loading|=1}),o.addEventListener("error",function(){return u.loading|=2}),tn(o,"link",l),Tt(o),s.head.appendChild(o))}function Yo(s){return'[src="'+Cn(s)+'"]'}function Il(s){return"script[async]"+s}function Av(s,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var u=s.querySelector('style[data-href~="'+Cn(l.href)+'"]');if(u)return o.instance=u,Tt(u),u;var p=N({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Tt(u),tn(u,"style",p),wc(u,l.precedence,s),o.instance=u;case"stylesheet":p=$o(l.href);var v=s.querySelector(bl(p));if(v)return o.state.loading|=4,o.instance=v,Tt(v),v;u=Cv(l),(p=Xn.get(p))&&Ih(u,p),v=(s.ownerDocument||s).createElement("link"),Tt(v);var C=v;return C._p=new Promise(function(R,D){C.onload=R,C.onerror=D}),tn(v,"link",u),o.state.loading|=4,wc(v,l.precedence,s),o.instance=v;case"script":return v=Yo(l.src),(p=s.querySelector(Il(v)))?(o.instance=p,Tt(p),p):(u=l,(p=Xn.get(v))&&(u=N({},l),Nh(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),Tt(p),tn(p,"link",u),s.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(u=o.instance,o.state.loading|=4,wc(u,l.precedence,s));return o.instance}function wc(s,o,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,v=p,C=0;C<u.length;C++){var R=u[C];if(R.dataset.precedence===o)v=R;else if(v!==p)break}v?v.parentNode.insertBefore(s,v.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(s,o.firstChild))}function Ih(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Nh(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Rc=null;function Sv(s,o,l){if(Rc===null){var u=new Map,p=Rc=new Map;p.set(l,u)}else p=Rc,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var v=l[p];if(!(v[mr]||v[Bt]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(o)||"";C=s+C;var R=u.get(C);R?R.push(v):u.set(C,[v])}}return u}function xv(s,o,l){s=s.ownerDocument||s,s.head.insertBefore(l,o==="title"?s.querySelector("head > title"):null)}function ES(s,o,l){if(l===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function wv(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Nl=null;function CS(){}function AS(s,o,l){if(Nl===null)throw Error(n(475));var u=Nl;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=$o(l.href),v=s.querySelector(bl(p));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=bc.bind(u),s.then(u,u)),o.state.loading|=4,o.instance=v,Tt(v);return}v=s.ownerDocument||s,l=Cv(l),(p=Xn.get(p))&&Ih(l,p),v=v.createElement("link"),Tt(v);var C=v;C._p=new Promise(function(R,D){C.onload=R,C.onerror=D}),tn(v,"link",l),o.instance=v}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(u.count++,o=bc.bind(u),s.addEventListener("load",o),s.addEventListener("error",o))}}function SS(){if(Nl===null)throw Error(n(475));var s=Nl;return s.stylesheets&&s.count===0&&Mh(s,s.stylesheets),0<s.count?function(o){var l=setTimeout(function(){if(s.stylesheets&&Mh(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(l)}}:null}function bc(){if(this.count--,this.count===0){if(this.stylesheets)Mh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ic=null;function Mh(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ic=new Map,o.forEach(xS,s),Ic=null,bc.call(s))}function xS(s,o){if(!(o.state.loading&4)){var l=Ic.get(s);if(l)var u=l.get(null);else{l=new Map,Ic.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var C=p[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),u=C)}u&&l.set(null,u)}p=o.instance,C=p.getAttribute("data-precedence"),v=l.get(C)||u,v===u&&l.set(null,p),l.set(C,p),this.count++,u=bc.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),v?v.parentNode.insertBefore(p,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),o.state.loading|=4}}var Ml={$$typeof:M,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function wS(s,o,l,u,p,v,C,R){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.hiddenUpdates=Ia(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Rv(s,o,l,u,p,v,C,R,D,F,Z,ie){return s=new wS(s,o,l,C,R,D,F,ie),o=1,v===!0&&(o|=24),v=Qn(3,null,null,o),s.current=v,v.stateNode=s,o=ud(),o.refCount++,s.pooledCache=o,o.refCount++,v.memoizedState={element:u,isDehydrated:l,cache:o},Gd(v),s}function bv(s){return s?(s=So,s):So}function Iv(s,o,l,u,p,v){p=bv(p),u.context===null?u.context=p:u.pendingContext=p,u=Is(o),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=Ns(s,u,o),l!==null&&(yn(l,s,o),ml(l,s,o))}function Nv(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function Dh(s,o){Nv(s,o),(s=s.alternate)&&Nv(s,o)}function Mv(s){if(s.tag===13){var o=Cs(s,67108864);o!==null&&yn(o,s,67108864),Dh(s,67108864)}}var Nc=!0;function RS(s,o,l,u){var p=x.T;x.T=null;var v=fe.p;try{fe.p=2,Vh(s,o,l,u)}finally{fe.p=v,x.T=p}}function bS(s,o,l,u){var p=x.T;x.T=null;var v=fe.p;try{fe.p=8,Vh(s,o,l,u)}finally{fe.p=v,x.T=p}}function Vh(s,o,l,u){if(Nc){var p=Ph(u);if(p===null)Eh(s,o,u,Mc,l),Vv(s,u);else if(NS(p,s,o,l,u))u.stopPropagation();else if(Vv(s,u),o&4&&-1<IS.indexOf(s)){for(;p!==null;){var v=_i(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=pi(v.pendingLanes);if(C!==0){var R=v;for(R.pendingLanes|=2,R.entangledLanes|=2;C;){var D=1<<31-an(C);R.entanglements[1]|=D,C&=~D}bi(v),(vt&6)===0&&(mc=Fn()+500,xl(0))}}break;case 13:R=Cs(v,2),R!==null&&yn(R,v,2),yc(),Dh(v,2)}if(v=Ph(u),v===null&&Eh(s,o,u,Mc,l),v===p)break;p=v}p!==null&&u.stopPropagation()}else Eh(s,o,u,null,l)}}function Ph(s){return s=za(s),kh(s)}var Mc=null;function kh(s){if(Mc=null,s=vi(s),s!==null){var o=Ee(s);if(o===null)s=null;else{var l=o.tag;if(l===13){if(s=je(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Mc=s,null}function Dv(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case wa:return 2;case Ra:return 8;case fs:case Hf:return 32;case _u:return 268435456;default:return 32}default:return 32}}var Lh=!1,Os=null,Us=null,Fs=null,Dl=new Map,Vl=new Map,Bs=[],IS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vv(s,o){switch(s){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":Dl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(o.pointerId)}}function Pl(s,o,l,u,p,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:l,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},o!==null&&(o=_i(o),o!==null&&Mv(o)),s):(s.eventSystemFlags|=u,o=s.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),s)}function NS(s,o,l,u,p){switch(o){case"focusin":return Os=Pl(Os,s,o,l,u,p),!0;case"dragenter":return Us=Pl(Us,s,o,l,u,p),!0;case"mouseover":return Fs=Pl(Fs,s,o,l,u,p),!0;case"pointerover":var v=p.pointerId;return Dl.set(v,Pl(Dl.get(v)||null,s,o,l,u,p)),!0;case"gotpointercapture":return v=p.pointerId,Vl.set(v,Pl(Vl.get(v)||null,s,o,l,u,p)),!0}return!1}function Pv(s){var o=vi(s.target);if(o!==null){var l=Ee(o);if(l!==null){if(o=l.tag,o===13){if(o=je(l),o!==null){s.blockedOn=o,Yf(s.priority,function(){if(l.tag===13){var u=kn(),p=Cs(l,u);p!==null&&yn(p,l,u),Dh(l,u)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Dc(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=Ph(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);qa=u,l.target.dispatchEvent(u),qa=null}else return o=_i(l),o!==null&&Mv(o),s.blockedOn=l,!1;o.shift()}return!0}function kv(s,o,l){Dc(s)&&l.delete(o)}function MS(){Lh=!1,Os!==null&&Dc(Os)&&(Os=null),Us!==null&&Dc(Us)&&(Us=null),Fs!==null&&Dc(Fs)&&(Fs=null),Dl.forEach(kv),Vl.forEach(kv)}function Vc(s,o){s.blockedOn===o&&(s.blockedOn=null,Lh||(Lh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,MS)))}var Pc=null;function Lv(s){Pc!==s&&(Pc=s,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Pc===s&&(Pc=null);for(var o=0;o<s.length;o+=3){var l=s[o],u=s[o+1],p=s[o+2];if(typeof u!="function"){if(kh(u||l)===null)continue;break}var v=_i(l);v!==null&&(s.splice(o,3),o-=3,xd(v,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function kl(s){function o(D){return Vc(D,s)}Os!==null&&Vc(Os,s),Us!==null&&Vc(Us,s),Fs!==null&&Vc(Fs,s),Dl.forEach(o),Vl.forEach(o);for(var l=0;l<Bs.length;l++){var u=Bs[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Bs.length&&(l=Bs[0],l.blockedOn===null);)Pv(l),l.blockedOn===null&&Bs.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],v=l[u+1],C=p[jt]||null;if(typeof v=="function")C||Lv(l);else if(C){var R=null;if(v&&v.hasAttribute("formAction")){if(p=v,C=v[jt]||null)R=C.formAction;else if(kh(p)!==null)continue}else R=C.action;typeof R=="function"?l[u+1]=R:(l.splice(u,3),u-=3),Lv(l)}}}function Oh(s){this._internalRoot=s}kc.prototype.render=Oh.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var l=o.current,u=kn();Iv(l,u,s,o,null,null)},kc.prototype.unmount=Oh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;s.tag===0&&qo(),Iv(s.current,2,null,s,null,null),yc(),o[yi]=null}};function kc(s){this._internalRoot=s}kc.prototype.unstable_scheduleHydration=function(s){if(s){var o=ds();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Bs.length&&o!==0&&o<Bs[l].priority;l++);Bs.splice(l,0,s),l===0&&Pv(s)}};var Ov=e.version;if(Ov!=="19.0.0")throw Error(n(527,Ov,"19.0.0"));fe.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=se(o),s=s!==null?Ce(s):null,s=s===null?null:s.stateNode,s};var DS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:x,findFiberByHostInstance:vi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{ti=Lc.inject(DS),Xt=Lc}catch{}}return Ol.createRoot=function(s,o){if(!r(s))throw Error(n(299));var l=!1,u="",p=ey,v=ty,C=ny,R=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(R=o.unstable_transitionCallbacks)),o=Rv(s,1,!1,null,null,l,u,p,v,C,R,null),s[yi]=o.current,Th(s.nodeType===8?s.parentNode:s),new Oh(o)},Ol.hydrateRoot=function(s,o,l){if(!r(s))throw Error(n(299));var u=!1,p="",v=ey,C=ty,R=ny,D=null,F=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(D=l.unstable_transitionCallbacks),l.formState!==void 0&&(F=l.formState)),o=Rv(s,1,!0,o,l??null,u,p,v,C,R,D,F),o.context=bv(null),l=o.current,u=kn(),p=Is(u),p.callback=null,Ns(l,p,u),o.current.lanes=u,dr(o,u),bi(o),s[yi]=o.current,Th(s),new kc(o)},Ol.version="19.0.0",Ol}var Kv;function zS(){if(Kv)return Bh.exports;Kv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Bh.exports=qS(),Bh.exports}var GS=zS();const HS=k0(GS);var vn=(i=>(i.BREAKFAST="Caf da Manh",i.SMOOTHIE="Vitamina de Frutas",i.LUNCH="Almoo",i.DESSERT="Sobremesa",i.DINNER="Jantar",i))(vn||{});const O0=["Caf da Manh","Vitamina de Frutas","Almoo","Sobremesa","Jantar"],Kr=["Segunda","Tera","Quarta","Quinta","Sexta","Sbado","Domingo"];var Je;(function(i){i.assertEqual=r=>{};function e(r){}i.assertIs=e;function t(r){throw new Error}i.assertNever=t,i.arrayToEnum=r=>{const a={};for(const c of r)a[c]=c;return a},i.getValidEnumValues=r=>{const a=i.objectKeys(r).filter(h=>typeof r[r[h]]!="number"),c={};for(const h of a)c[h]=r[h];return i.objectValues(c)},i.objectValues=r=>i.objectKeys(r).map(function(a){return r[a]}),i.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const a=[];for(const c in r)Object.prototype.hasOwnProperty.call(r,c)&&a.push(c);return a},i.find=(r,a)=>{for(const c of r)if(a(c))return c},i.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function n(r,a=" | "){return r.map(c=>typeof c=="string"?`'${c}'`:c).join(a)}i.joinValues=n,i.jsonStringifyReplacer=(r,a)=>typeof a=="bigint"?a.toString():a})(Je||(Je={}));var Qv;(function(i){i.mergeShapes=(e,t)=>({...e,...t})})(Qv||(Qv={}));const pe=Je.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zs=i=>{switch(typeof i){case"undefined":return pe.undefined;case"string":return pe.string;case"number":return Number.isNaN(i)?pe.nan:pe.number;case"boolean":return pe.boolean;case"function":return pe.function;case"bigint":return pe.bigint;case"symbol":return pe.symbol;case"object":return Array.isArray(i)?pe.array:i===null?pe.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?pe.promise:typeof Map<"u"&&i instanceof Map?pe.map:typeof Set<"u"&&i instanceof Set?pe.set:typeof Date<"u"&&i instanceof Date?pe.date:pe.object;default:return pe.unknown}},re=Je.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class rs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(a){return a.message},n={_errors:[]},r=a=>{for(const c of a.issues)if(c.code==="invalid_union")c.unionErrors.map(r);else if(c.code==="invalid_return_type")r(c.returnTypeError);else if(c.code==="invalid_arguments")r(c.argumentsError);else if(c.path.length===0)n._errors.push(t(c));else{let h=n,y=0;for(;y<c.path.length;){const g=c.path[y];y===c.path.length-1?(h[g]=h[g]||{_errors:[]},h[g]._errors.push(t(c))):h[g]=h[g]||{_errors:[]},h=h[g],y++}}};return r(this),n}static assert(e){if(!(e instanceof rs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Je.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const r of this.issues)if(r.path.length>0){const a=r.path[0];t[a]=t[a]||[],t[a].push(e(r))}else n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}rs.create=i=>new rs(i);const im=(i,e)=>{let t;switch(i.code){case re.invalid_type:i.received===pe.undefined?t="Required":t=`Expected ${i.expected}, received ${i.received}`;break;case re.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(i.expected,Je.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:t=`Unrecognized key(s) in object: ${Je.joinValues(i.keys,", ")}`;break;case re.invalid_union:t="Invalid input";break;case re.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Je.joinValues(i.options)}`;break;case re.invalid_enum_value:t=`Invalid enum value. Expected ${Je.joinValues(i.options)}, received '${i.received}'`;break;case re.invalid_arguments:t="Invalid function arguments";break;case re.invalid_return_type:t="Invalid function return type";break;case re.invalid_date:t="Invalid date";break;case re.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(t=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?t=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?t=`Invalid input: must end with "${i.validation.endsWith}"`:Je.assertNever(i.validation):i.validation!=="regex"?t=`Invalid ${i.validation}`:t="Invalid";break;case re.too_small:i.type==="array"?t=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?t=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?t=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="bigint"?t=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?t=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:t="Invalid input";break;case re.too_big:i.type==="array"?t=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?t=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?t=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?t=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?t=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:t="Invalid input";break;case re.custom:t="Invalid input";break;case re.invalid_intersection_types:t="Intersection results could not be merged";break;case re.not_multiple_of:t=`Number must be a multiple of ${i.multipleOf}`;break;case re.not_finite:t="Number must be finite";break;default:t=e.defaultError,Je.assertNever(i)}return{message:t}};let $S=im;function YS(){return $S}const KS=i=>{const{data:e,path:t,errorMaps:n,issueData:r}=i,a=[...t,...r.path||[]],c={...r,path:a};if(r.message!==void 0)return{...r,path:a,message:r.message};let h="";const y=n.filter(g=>!!g).slice().reverse();for(const g of y)h=g(c,{data:e,defaultError:h}).message;return{...r,path:a,message:h}};function de(i,e){const t=YS(),n=KS({issueData:e,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,t,t===im?void 0:im].filter(r=>!!r)});i.common.issues.push(n)}class Tn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if(r.status==="aborted")return be;r.status==="dirty"&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const a=await r.key,c=await r.value;n.push({key:a,value:c})}return Tn.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:a,value:c}=r;if(a.status==="aborted"||c.status==="aborted")return be;a.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof c.value<"u"||r.alwaysSet)&&(n[a.value]=c.value)}return{status:e.value,value:n}}}const be=Object.freeze({status:"aborted"}),Fl=i=>({status:"dirty",value:i}),ei=i=>({status:"valid",value:i}),Zv=i=>i.status==="aborted",Xv=i=>i.status==="dirty",oa=i=>i.status==="valid",Wc=i=>typeof Promise<"u"&&i instanceof Promise;var ge;(function(i){i.errToObj=e=>typeof e=="string"?{message:e}:e||{},i.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ge||(ge={}));class Oi{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Jv=(i,e)=>{if(oa(e))return{success:!0,data:e.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new rs(i.common.issues);return this._error=t,this._error}}};function ke(i){if(!i)return{};const{errorMap:e,invalid_type_error:t,required_error:n,description:r}=i;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(c,h)=>{const{message:y}=i;return c.code==="invalid_enum_value"?{message:y??h.defaultError}:typeof h.data>"u"?{message:y??n??h.defaultError}:c.code!=="invalid_type"?{message:h.defaultError}:{message:y??t??h.defaultError}},description:r}}class Ge{get description(){return this._def.description}_getType(e){return zs(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:zs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Tn,ctx:{common:e.parent.common,data:e.data,parsedType:zs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Wc(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zs(e)},r=this._parseSync({data:e,path:n.path,parent:n});return Jv(n,r)}"~validate"(e){var n,r;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zs(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:t});return oa(a)?{value:a.value}:{issues:t.common.issues}}catch(a){(r=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(a=>oa(a)?{value:a.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zs(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(Wc(r)?r:Promise.resolve(r));return Jv(n,a)}refine(e,t){const n=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,a)=>{const c=e(r),h=()=>a.addIssue({code:re.custom,...n(r)});return typeof Promise<"u"&&c instanceof Promise?c.then(y=>y?!0:(h(),!1)):c?!0:(h(),!1)})}refinement(e,t){return this._refinement((n,r)=>e(n)?!0:(r.addIssue(typeof t=="function"?t(n,r):t),!1))}_refinement(e){return new ua({schema:this,typeName:we.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Hs.create(this,this._def)}nullable(){return ca.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mi.create(this)}promise(){return rf.create(this,this._def)}or(e){return tf.create([this,e],this._def)}and(e){return nf.create(this,e,this._def)}transform(e){return new ua({...ke(this._def),schema:this,typeName:we.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new am({...ke(this._def),innerType:this,defaultValue:t,typeName:we.ZodDefault})}brand(){return new gx({typeName:we.ZodBranded,type:this,...ke(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new lm({...ke(this._def),innerType:this,catchValue:t,typeName:we.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Hm.create(this,e)}readonly(){return um.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const QS=/^c[^\s-]{8,}$/i,ZS=/^[0-9a-z]+$/,XS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,JS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,jS=/^[a-z0-9_-]{21}$/i,WS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nx="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Hh;const ix=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,rx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ox=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ax=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,lx=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,U0="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ux=new RegExp(`^${U0}$`);function F0(i){let e="[0-5]\\d";i.precision?e=`${e}\\.\\d{${i.precision}}`:i.precision==null&&(e=`${e}(\\.\\d+)?`);const t=i.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function cx(i){return new RegExp(`^${F0(i)}$`)}function fx(i){let e=`${U0}T${F0(i)}`;const t=[];return t.push(i.local?"Z?":"Z"),i.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function dx(i,e){return!!((e==="v4"||!e)&&ix.test(i)||(e==="v6"||!e)&&rx.test(i))}function hx(i,e){if(!WS.test(i))return!1;try{const[t]=i.split(".");if(!t)return!1;const n=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),r=JSON.parse(atob(n));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function mx(i,e){return!!((e==="v4"||!e)&&sx.test(i)||(e==="v6"||!e)&&ox.test(i))}class Ni extends Ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pe.string){const a=this._getOrReturnCtx(e);return de(a,{code:re.invalid_type,expected:pe.string,received:a.parsedType}),be}const n=new Tn;let r;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(r=this._getOrReturnCtx(e,r),de(r,{code:re.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(r=this._getOrReturnCtx(e,r),de(r,{code:re.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const c=e.data.length>a.value,h=e.data.length<a.value;(c||h)&&(r=this._getOrReturnCtx(e,r),c?de(r,{code:re.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):h&&de(r,{code:re.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")tx.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"email",code:re.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Hh||(Hh=new RegExp(nx,"u")),Hh.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"emoji",code:re.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")JS.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"uuid",code:re.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")jS.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"nanoid",code:re.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")QS.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"cuid",code:re.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")ZS.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"cuid2",code:re.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")XS.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"ulid",code:re.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),de(r,{validation:"url",code:re.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"regex",code:re.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(r=this._getOrReturnCtx(e,r),de(r,{code:re.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(r=this._getOrReturnCtx(e,r),de(r,{code:re.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(r=this._getOrReturnCtx(e,r),de(r,{code:re.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?fx(a).test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:re.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?ux.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:re.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?cx(a).test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:re.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?ex.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"duration",code:re.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?dx(e.data,a.version)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"ip",code:re.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?hx(e.data,a.alg)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"jwt",code:re.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?mx(e.data,a.version)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"cidr",code:re.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?ax.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"base64",code:re.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?lx.test(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{validation:"base64url",code:re.invalid_string,message:a.message}),n.dirty()):Je.assertNever(a);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(r=>e.test(r),{validation:t,code:re.invalid_string,...ge.errToObj(n)})}_addCheck(e){return new Ni({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ge.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ge.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ge.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ge.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ge.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ge.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ge.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ge.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ge.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ge.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ge.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ge.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ge.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ge.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ge.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ge.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ge.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...ge.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ge.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ge.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ge.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ge.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ge.errToObj(t)})}nonempty(e){return this.min(1,ge.errToObj(e))}trim(){return new Ni({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ni({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ni({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ni.create=i=>new Ni({checks:[],typeName:we.ZodString,coerce:(i==null?void 0:i.coerce)??!1,...ke(i)});function px(i,e){const t=(i.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,r=t>n?t:n,a=Number.parseInt(i.toFixed(r).replace(".","")),c=Number.parseInt(e.toFixed(r).replace(".",""));return a%c/10**r}class Xr extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pe.number){const a=this._getOrReturnCtx(e);return de(a,{code:re.invalid_type,expected:pe.number,received:a.parsedType}),be}let n;const r=new Tn;for(const a of this._def.checks)a.kind==="int"?Je.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),de(n,{code:re.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),de(n,{code:re.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),de(n,{code:re.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="multipleOf"?px(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),de(n,{code:re.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),de(n,{code:re.not_finite,message:a.message}),r.dirty()):Je.assertNever(a);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ge.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ge.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ge.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ge.toString(t))}setLimit(e,t,n,r){return new Xr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ge.toString(r)}]})}_addCheck(e){return new Xr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ge.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ge.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ge.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ge.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ge.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Je.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Xr.create=i=>new Xr({checks:[],typeName:we.ZodNumber,coerce:(i==null?void 0:i.coerce)||!1,...ke(i)});class Jr extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==pe.bigint)return this._getInvalidInput(e);let n;const r=new Tn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),de(n,{code:re.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),de(n,{code:re.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),de(n,{code:re.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):Je.assertNever(a);return{status:r.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return de(t,{code:re.invalid_type,expected:pe.bigint,received:t.parsedType}),be}gte(e,t){return this.setLimit("min",e,!0,ge.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ge.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ge.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ge.toString(t))}setLimit(e,t,n,r){return new Jr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ge.toString(r)}]})}_addCheck(e){return new Jr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Jr.create=i=>new Jr({checks:[],typeName:we.ZodBigInt,coerce:(i==null?void 0:i.coerce)??!1,...ke(i)});class ef extends Ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pe.boolean){const n=this._getOrReturnCtx(e);return de(n,{code:re.invalid_type,expected:pe.boolean,received:n.parsedType}),be}return ei(e.data)}}ef.create=i=>new ef({typeName:we.ZodBoolean,coerce:(i==null?void 0:i.coerce)||!1,...ke(i)});class aa extends Ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pe.date){const a=this._getOrReturnCtx(e);return de(a,{code:re.invalid_type,expected:pe.date,received:a.parsedType}),be}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return de(a,{code:re.invalid_date}),be}const n=new Tn;let r;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(r=this._getOrReturnCtx(e,r),de(r,{code:re.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(r=this._getOrReturnCtx(e,r),de(r,{code:re.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Je.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new aa({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ge.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ge.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}aa.create=i=>new aa({checks:[],coerce:(i==null?void 0:i.coerce)||!1,typeName:we.ZodDate,...ke(i)});class jv extends Ge{_parse(e){if(this._getType(e)!==pe.symbol){const n=this._getOrReturnCtx(e);return de(n,{code:re.invalid_type,expected:pe.symbol,received:n.parsedType}),be}return ei(e.data)}}jv.create=i=>new jv({typeName:we.ZodSymbol,...ke(i)});class Wv extends Ge{_parse(e){if(this._getType(e)!==pe.undefined){const n=this._getOrReturnCtx(e);return de(n,{code:re.invalid_type,expected:pe.undefined,received:n.parsedType}),be}return ei(e.data)}}Wv.create=i=>new Wv({typeName:we.ZodUndefined,...ke(i)});class e_ extends Ge{_parse(e){if(this._getType(e)!==pe.null){const n=this._getOrReturnCtx(e);return de(n,{code:re.invalid_type,expected:pe.null,received:n.parsedType}),be}return ei(e.data)}}e_.create=i=>new e_({typeName:we.ZodNull,...ke(i)});class t_ extends Ge{constructor(){super(...arguments),this._any=!0}_parse(e){return ei(e.data)}}t_.create=i=>new t_({typeName:we.ZodAny,...ke(i)});class sm extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ei(e.data)}}sm.create=i=>new sm({typeName:we.ZodUnknown,...ke(i)});class Zs extends Ge{_parse(e){const t=this._getOrReturnCtx(e);return de(t,{code:re.invalid_type,expected:pe.never,received:t.parsedType}),be}}Zs.create=i=>new Zs({typeName:we.ZodNever,...ke(i)});class n_ extends Ge{_parse(e){if(this._getType(e)!==pe.undefined){const n=this._getOrReturnCtx(e);return de(n,{code:re.invalid_type,expected:pe.void,received:n.parsedType}),be}return ei(e.data)}}n_.create=i=>new n_({typeName:we.ZodVoid,...ke(i)});class Mi extends Ge{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==pe.array)return de(t,{code:re.invalid_type,expected:pe.array,received:t.parsedType}),be;if(r.exactLength!==null){const c=t.data.length>r.exactLength.value,h=t.data.length<r.exactLength.value;(c||h)&&(de(t,{code:c?re.too_big:re.too_small,minimum:h?r.exactLength.value:void 0,maximum:c?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&(de(t,{code:re.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&(de(t,{code:re.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((c,h)=>r.type._parseAsync(new Oi(t,c,t.path,h)))).then(c=>Tn.mergeArray(n,c));const a=[...t.data].map((c,h)=>r.type._parseSync(new Oi(t,c,t.path,h)));return Tn.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new Mi({...this._def,minLength:{value:e,message:ge.toString(t)}})}max(e,t){return new Mi({...this._def,maxLength:{value:e,message:ge.toString(t)}})}length(e,t){return new Mi({...this._def,exactLength:{value:e,message:ge.toString(t)}})}nonempty(e){return this.min(1,e)}}Mi.create=(i,e)=>new Mi({type:i,minLength:null,maxLength:null,exactLength:null,typeName:we.ZodArray,...ke(e)});function Qo(i){if(i instanceof kt){const e={};for(const t in i.shape){const n=i.shape[t];e[t]=Hs.create(Qo(n))}return new kt({...i._def,shape:()=>e})}else return i instanceof Mi?new Mi({...i._def,type:Qo(i.element)}):i instanceof Hs?Hs.create(Qo(i.unwrap())):i instanceof ca?ca.create(Qo(i.unwrap())):i instanceof jr?jr.create(i.items.map(e=>Qo(e))):i}class kt extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Je.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==pe.object){const g=this._getOrReturnCtx(e);return de(g,{code:re.invalid_type,expected:pe.object,received:g.parsedType}),be}const{status:n,ctx:r}=this._processInputParams(e),{shape:a,keys:c}=this._getCached(),h=[];if(!(this._def.catchall instanceof Zs&&this._def.unknownKeys==="strip"))for(const g in r.data)c.includes(g)||h.push(g);const y=[];for(const g of c){const _=a[g],E=r.data[g];y.push({key:{status:"valid",value:g},value:_._parse(new Oi(r,E,r.path,g)),alwaysSet:g in r.data})}if(this._def.catchall instanceof Zs){const g=this._def.unknownKeys;if(g==="passthrough")for(const _ of h)y.push({key:{status:"valid",value:_},value:{status:"valid",value:r.data[_]}});else if(g==="strict")h.length>0&&(de(r,{code:re.unrecognized_keys,keys:h}),n.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const _ of h){const E=r.data[_];y.push({key:{status:"valid",value:_},value:g._parse(new Oi(r,E,r.path,_)),alwaysSet:_ in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const g=[];for(const _ of y){const E=await _.key,S=await _.value;g.push({key:E,value:S,alwaysSet:_.alwaysSet})}return g}).then(g=>Tn.mergeObjectSync(n,g)):Tn.mergeObjectSync(n,y)}get shape(){return this._def.shape()}strict(e){return ge.errToObj,new kt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var a,c;const r=((c=(a=this._def).errorMap)==null?void 0:c.call(a,t,n).message)??n.defaultError;return t.code==="unrecognized_keys"?{message:ge.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new kt({...this._def,unknownKeys:"strip"})}passthrough(){return new kt({...this._def,unknownKeys:"passthrough"})}extend(e){return new kt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new kt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:we.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new kt({...this._def,catchall:e})}pick(e){const t={};for(const n of Je.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new kt({...this._def,shape:()=>t})}omit(e){const t={};for(const n of Je.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new kt({...this._def,shape:()=>t})}deepPartial(){return Qo(this)}partial(e){const t={};for(const n of Je.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new kt({...this._def,shape:()=>t})}required(e){const t={};for(const n of Je.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Hs;)a=a._def.innerType;t[n]=a}return new kt({...this._def,shape:()=>t})}keyof(){return B0(Je.objectKeys(this.shape))}}kt.create=(i,e)=>new kt({shape:()=>i,unknownKeys:"strip",catchall:Zs.create(),typeName:we.ZodObject,...ke(e)});kt.strictCreate=(i,e)=>new kt({shape:()=>i,unknownKeys:"strict",catchall:Zs.create(),typeName:we.ZodObject,...ke(e)});kt.lazycreate=(i,e)=>new kt({shape:i,unknownKeys:"strip",catchall:Zs.create(),typeName:we.ZodObject,...ke(e)});class tf extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function r(a){for(const h of a)if(h.result.status==="valid")return h.result;for(const h of a)if(h.result.status==="dirty")return t.common.issues.push(...h.ctx.common.issues),h.result;const c=a.map(h=>new rs(h.ctx.common.issues));return de(t,{code:re.invalid_union,unionErrors:c}),be}if(t.common.async)return Promise.all(n.map(async a=>{const c={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:c}),ctx:c}})).then(r);{let a;const c=[];for(const y of n){const g={...t,common:{...t.common,issues:[]},parent:null},_=y._parseSync({data:t.data,path:t.path,parent:g});if(_.status==="valid")return _;_.status==="dirty"&&!a&&(a={result:_,ctx:g}),g.common.issues.length&&c.push(g.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const h=c.map(y=>new rs(y));return de(t,{code:re.invalid_union,unionErrors:h}),be}}get options(){return this._def.options}}tf.create=(i,e)=>new tf({options:i,typeName:we.ZodUnion,...ke(e)});function rm(i,e){const t=zs(i),n=zs(e);if(i===e)return{valid:!0,data:i};if(t===pe.object&&n===pe.object){const r=Je.objectKeys(e),a=Je.objectKeys(i).filter(h=>r.indexOf(h)!==-1),c={...i,...e};for(const h of a){const y=rm(i[h],e[h]);if(!y.valid)return{valid:!1};c[h]=y.data}return{valid:!0,data:c}}else if(t===pe.array&&n===pe.array){if(i.length!==e.length)return{valid:!1};const r=[];for(let a=0;a<i.length;a++){const c=i[a],h=e[a],y=rm(c,h);if(!y.valid)return{valid:!1};r.push(y.data)}return{valid:!0,data:r}}else return t===pe.date&&n===pe.date&&+i==+e?{valid:!0,data:i}:{valid:!1}}class nf extends Ge{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(a,c)=>{if(Zv(a)||Zv(c))return be;const h=rm(a.value,c.value);return h.valid?((Xv(a)||Xv(c))&&t.dirty(),{status:t.value,value:h.data}):(de(n,{code:re.invalid_intersection_types}),be)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,c])=>r(a,c)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}nf.create=(i,e,t)=>new nf({left:i,right:e,typeName:we.ZodIntersection,...ke(t)});class jr extends Ge{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pe.array)return de(n,{code:re.invalid_type,expected:pe.array,received:n.parsedType}),be;if(n.data.length<this._def.items.length)return de(n,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),be;!this._def.rest&&n.data.length>this._def.items.length&&(de(n,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...n.data].map((c,h)=>{const y=this._def.items[h]||this._def.rest;return y?y._parse(new Oi(n,c,n.path,h)):null}).filter(c=>!!c);return n.common.async?Promise.all(a).then(c=>Tn.mergeArray(t,c)):Tn.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new jr({...this._def,rest:e})}}jr.create=(i,e)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jr({items:i,typeName:we.ZodTuple,rest:null,...ke(e)})};class sf extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pe.object)return de(n,{code:re.invalid_type,expected:pe.object,received:n.parsedType}),be;const r=[],a=this._def.keyType,c=this._def.valueType;for(const h in n.data)r.push({key:a._parse(new Oi(n,h,n.path,h)),value:c._parse(new Oi(n,n.data[h],n.path,h)),alwaysSet:h in n.data});return n.common.async?Tn.mergeObjectAsync(t,r):Tn.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof Ge?new sf({keyType:e,valueType:t,typeName:we.ZodRecord,...ke(n)}):new sf({keyType:Ni.create(),valueType:e,typeName:we.ZodRecord,...ke(t)})}}class i_ extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pe.map)return de(n,{code:re.invalid_type,expected:pe.map,received:n.parsedType}),be;const r=this._def.keyType,a=this._def.valueType,c=[...n.data.entries()].map(([h,y],g)=>({key:r._parse(new Oi(n,h,n.path,[g,"key"])),value:a._parse(new Oi(n,y,n.path,[g,"value"]))}));if(n.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const y of c){const g=await y.key,_=await y.value;if(g.status==="aborted"||_.status==="aborted")return be;(g.status==="dirty"||_.status==="dirty")&&t.dirty(),h.set(g.value,_.value)}return{status:t.value,value:h}})}else{const h=new Map;for(const y of c){const g=y.key,_=y.value;if(g.status==="aborted"||_.status==="aborted")return be;(g.status==="dirty"||_.status==="dirty")&&t.dirty(),h.set(g.value,_.value)}return{status:t.value,value:h}}}}i_.create=(i,e,t)=>new i_({valueType:e,keyType:i,typeName:we.ZodMap,...ke(t)});class Jl extends Ge{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pe.set)return de(n,{code:re.invalid_type,expected:pe.set,received:n.parsedType}),be;const r=this._def;r.minSize!==null&&n.data.size<r.minSize.value&&(de(n,{code:re.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&n.data.size>r.maxSize.value&&(de(n,{code:re.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function c(y){const g=new Set;for(const _ of y){if(_.status==="aborted")return be;_.status==="dirty"&&t.dirty(),g.add(_.value)}return{status:t.value,value:g}}const h=[...n.data.values()].map((y,g)=>a._parse(new Oi(n,y,n.path,g)));return n.common.async?Promise.all(h).then(y=>c(y)):c(h)}min(e,t){return new Jl({...this._def,minSize:{value:e,message:ge.toString(t)}})}max(e,t){return new Jl({...this._def,maxSize:{value:e,message:ge.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Jl.create=(i,e)=>new Jl({valueType:i,minSize:null,maxSize:null,typeName:we.ZodSet,...ke(e)});class om extends Ge{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}om.create=(i,e)=>new om({getter:i,typeName:we.ZodLazy,...ke(e)});class s_ extends Ge{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return de(t,{received:t.data,code:re.invalid_literal,expected:this._def.value}),be}return{status:"valid",value:e.data}}get value(){return this._def.value}}s_.create=(i,e)=>new s_({value:i,typeName:we.ZodLiteral,...ke(e)});function B0(i,e){return new la({values:i,typeName:we.ZodEnum,...ke(e)})}class la extends Ge{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),n=this._def.values;return de(t,{expected:Je.joinValues(n),received:t.parsedType,code:re.invalid_type}),be}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return de(t,{received:t.data,code:re.invalid_enum_value,options:n}),be}return ei(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return la.create(e,{...this._def,...t})}exclude(e,t=this._def){return la.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}}la.create=B0;class r_ extends Ge{_parse(e){const t=Je.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==pe.string&&n.parsedType!==pe.number){const r=Je.objectValues(t);return de(n,{expected:Je.joinValues(r),received:n.parsedType,code:re.invalid_type}),be}if(this._cache||(this._cache=new Set(Je.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=Je.objectValues(t);return de(n,{received:n.data,code:re.invalid_enum_value,options:r}),be}return ei(e.data)}get enum(){return this._def.values}}r_.create=(i,e)=>new r_({values:i,typeName:we.ZodNativeEnum,...ke(e)});class rf extends Ge{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==pe.promise&&t.common.async===!1)return de(t,{code:re.invalid_type,expected:pe.promise,received:t.parsedType}),be;const n=t.parsedType===pe.promise?t.data:Promise.resolve(t.data);return ei(n.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}}rf.create=(i,e)=>new rf({type:i,typeName:we.ZodPromise,...ke(e)});class ua extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===we.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:c=>{de(n,c),c.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),r.type==="preprocess"){const c=r.transform(n.data,a);if(n.common.async)return Promise.resolve(c).then(async h=>{if(t.value==="aborted")return be;const y=await this._def.schema._parseAsync({data:h,path:n.path,parent:n});return y.status==="aborted"?be:y.status==="dirty"||t.value==="dirty"?Fl(y.value):y});{if(t.value==="aborted")return be;const h=this._def.schema._parseSync({data:c,path:n.path,parent:n});return h.status==="aborted"?be:h.status==="dirty"||t.value==="dirty"?Fl(h.value):h}}if(r.type==="refinement"){const c=h=>{const y=r.refinement(h,a);if(n.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(n.common.async===!1){const h=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return h.status==="aborted"?be:(h.status==="dirty"&&t.dirty(),c(h.value),{status:t.value,value:h.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(h=>h.status==="aborted"?be:(h.status==="dirty"&&t.dirty(),c(h.value).then(()=>({status:t.value,value:h.value}))))}if(r.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!oa(c))return be;const h=r.transform(c.value,a);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:h}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>oa(c)?Promise.resolve(r.transform(c.value,a)).then(h=>({status:t.value,value:h})):be);Je.assertNever(r)}}ua.create=(i,e,t)=>new ua({schema:i,typeName:we.ZodEffects,effect:e,...ke(t)});ua.createWithPreprocess=(i,e,t)=>new ua({schema:e,effect:{type:"preprocess",transform:i},typeName:we.ZodEffects,...ke(t)});class Hs extends Ge{_parse(e){return this._getType(e)===pe.undefined?ei(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hs.create=(i,e)=>new Hs({innerType:i,typeName:we.ZodOptional,...ke(e)});class ca extends Ge{_parse(e){return this._getType(e)===pe.null?ei(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ca.create=(i,e)=>new ca({innerType:i,typeName:we.ZodNullable,...ke(e)});class am extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===pe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}am.create=(i,e)=>new am({innerType:i,typeName:we.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ke(e)});class lm extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Wc(r)?r.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new rs(n.common.issues)},input:n.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new rs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}lm.create=(i,e)=>new lm({innerType:i,typeName:we.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ke(e)});class o_ extends Ge{_parse(e){if(this._getType(e)!==pe.nan){const n=this._getOrReturnCtx(e);return de(n,{code:re.invalid_type,expected:pe.nan,received:n.parsedType}),be}return{status:"valid",value:e.data}}}o_.create=i=>new o_({typeName:we.ZodNaN,...ke(i)});class gx extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Hm extends Ge{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?be:a.status==="dirty"?(t.dirty(),Fl(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const r=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return r.status==="aborted"?be:r.status==="dirty"?(t.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:n.path,parent:n})}}static create(e,t){return new Hm({in:e,out:t,typeName:we.ZodPipeline})}}class um extends Ge{_parse(e){const t=this._def.innerType._parse(e),n=r=>(oa(r)&&(r.value=Object.freeze(r.value)),r);return Wc(t)?t.then(r=>n(r)):n(t)}unwrap(){return this._def.innerType}}um.create=(i,e)=>new um({innerType:i,typeName:we.ZodReadonly,...ke(e)});var we;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(we||(we={}));const Hr=Ni.create,a_=Xr.create;Jr.create;const yx=ef.create;aa.create;const l_=sm.create;Zs.create;const Bl=Mi.create,vx=kt.create,_x=tf.create;nf.create;jr.create;const Tx=sf.create,Ex=om.create,Cx=la.create;rf.create;Hs.create;ca.create;const Ko={string:(i=>Ni.create({...i,coerce:!0})),number:(i=>Xr.create({...i,coerce:!0})),boolean:(i=>ef.create({...i,coerce:!0})),bigint:(i=>Jr.create({...i,coerce:!0})),date:(i=>aa.create({...i,coerce:!0}))};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ax,Sx;function xx(){return{geminiUrl:Ax,vertexUrl:Sx}}function wx(i,e,t){var n,r,a;if(!(!((n=i.httpOptions)===null||n===void 0)&&n.baseUrl)){const c=xx();return i.vertexai?(r=c.vertexUrl)!==null&&r!==void 0?r:e:(a=c.geminiUrl)!==null&&a!==void 0?a:t}return i.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class va{}function xe(i,e){const t=/\{([^}]+)\}/g;return i.replace(t,(n,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function d(i,e,t){for(let a=0;a<e.length-1;a++){const c=e[a];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in i))if(Array.isArray(t))i[h]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(i[h])){const y=i[h];if(Array.isArray(t))for(let g=0;g<y.length;g++){const _=y[g];d(_,e.slice(a+1),t[g])}else for(const g of y)d(g,e.slice(a+1),t)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in i||(i[h]=[{}]);const y=i[h];d(y[0],e.slice(a+1),t);return}(!i[c]||typeof i[c]!="object")&&(i[c]={}),i=i[c]}const n=e[e.length-1],r=i[n];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else i[n]=t}function f(i,e){try{if(e.length===1&&e[0]==="_self")return i;for(let t=0;t<e.length;t++){if(typeof i!="object"||i===null)return;const n=e[t];if(n.endsWith("[]")){const r=n.slice(0,-2);if(r in i){const a=i[r];return Array.isArray(a)?a.map(c=>f(c,e.slice(t+1))):void 0}else return}else i=i[n]}return i}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var u_;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(u_||(u_={}));var c_;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(c_||(c_={}));var Jn;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Jn||(Jn={}));var f_;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(f_||(f_={}));var d_;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(d_||(d_={}));var h_;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(h_||(h_={}));var m_;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(m_||(m_={}));var p_;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(p_||(p_={}));var g_;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(g_||(g_={}));var y_;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(y_||(y_={}));var v_;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(v_||(v_={}));var __;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(__||(__={}));var T_;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(T_||(T_={}));var of;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(of||(of={}));var E_;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(E_||(E_={}));var cm;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(cm||(cm={}));var C_;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(C_||(C_={}));var A_;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(A_||(A_={}));var S_;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(S_||(S_={}));var x_;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(x_||(x_={}));var w_;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE"})(w_||(w_={}));var R_;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(R_||(R_={}));var b_;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(b_||(b_={}));var I_;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(I_||(I_={}));var N_;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi"})(N_||(N_={}));var M_;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(M_||(M_={}));var D_;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(D_||(D_={}));var V_;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(V_||(V_={}));var P_;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(P_||(P_={}));var k_;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(k_||(k_={}));var L_;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(L_||(L_={}));var O_;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(O_||(O_={}));var U_;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(U_||(U_={}));var F_;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(F_||(F_={}));var B_;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(B_||(B_={}));var q_;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(q_||(q_={}));var z_;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(z_||(z_={}));var G_;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(G_||(G_={}));var Wo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Wo||(Wo={}));class Ul{get text(){var e,t,n,r,a,c,h,y;if(((r=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",_=!1;const E=[];for(const S of(y=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[M,L]of Object.entries(S))M!=="text"&&M!=="thought"&&(L!==null||L!==void 0)&&E.push(M);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;_=!0,g+=S.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),_?g:void 0}get data(){var e,t,n,r,a,c,h,y;if(((r=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const _=[];for(const E of(y=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[S,M]of Object.entries(E))S!=="inlineData"&&(M!==null||M!==void 0)&&_.push(S);E.inlineData&&typeof E.inlineData.data=="string"&&(g+=atob(E.inlineData.data))}return _.length>0&&console.warn(`there are non-data parts ${_} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,t,n,r,a,c,h,y;if(((r=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(_=>_.functionCall).map(_=>_.functionCall).filter(_=>_!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,t,n,r,a,c,h,y,g;if(((r=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const _=(y=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((_==null?void 0:_.length)!==0)return(g=_==null?void 0:_[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,t,n,r,a,c,h,y,g;if(((r=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const _=(y=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((_==null?void 0:_.length)!==0)return(g=_==null?void 0:_[0])===null||g===void 0?void 0:g.output}}class H_{}class $_{}class Rx{}class bx{}class Y_{}class K_{}class Q_{}class Ix{}class Z_{}class X_{}class J_{}class Nx{}class fm{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Mx{}class Dx{}class Vx{get text(){var e,t,n;let r="",a=!1;const c=[];for(const h of(n=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&n!==void 0?n:[]){for(const[y,g]of Object.entries(h))y!=="text"&&y!=="thought"&&g!==null&&c.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;a=!0,r+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var e,t,n;let r="";const a=[];for(const c of(n=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&n!==void 0?n:[]){for(const[h,y]of Object.entries(c))h!=="inlineData"&&y!==null&&a.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(r+=atob(c.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Px{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dt(i,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(i.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function q0(i,e){const t=dt(i,e);return t?t.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:t.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${t}`:t:""}function z0(i,e){return Array.isArray(e)?e.map(t=>af(i,t)):[af(i,e)]}function af(i,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function kx(i,e){const t=af(i,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Lx(i,e){const t=af(i,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function j_(i,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function G0(i,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>j_(i,t)):[j_(i,e)]}function dm(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function W_(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function eT(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function _n(i,e){if(e==null)throw new Error("ContentUnion is required");return dm(e)?e:{role:"user",parts:G0(i,e)}}function H0(i,e){if(!e)return[];if(i.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const n=_n(i,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(i.isVertexAI()){const t=_n(i,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>_n(i,t)):[_n(i,e)]}function di(i,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(W_(e)||eT(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[_n(i,e)]}const t=[],n=[],r=dm(e[0]);for(const a of e){const c=dm(a);if(c!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(a);else{if(W_(a)||eT(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return r||t.push({role:"user",parts:G0(i,n)}),t}const Ox=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),tT=Cx(["string","number","integer","object","array","boolean","null"]),Ux=_x([tT,Bl(tT)]);function Fx(i=!0){const e=Ex(()=>{const t=vx({type:Ux.optional(),format:Hr().optional(),title:Hr().optional(),description:Hr().optional(),default:l_().optional(),items:e.optional(),minItems:Ko.string().optional(),maxItems:Ko.string().optional(),enum:Bl(l_()).optional(),properties:Tx(Hr(),e).optional(),required:Bl(Hr()).optional(),minProperties:Ko.string().optional(),maxProperties:Ko.string().optional(),propertyOrdering:Bl(Hr()).optional(),minimum:a_().optional(),maximum:a_().optional(),minLength:Ko.string().optional(),maxLength:Ko.string().optional(),pattern:Hr().optional(),anyOf:Bl(e).optional(),additionalProperties:yx().optional()});return i?t.strict():t});return e}function Bx(i,e){i.includes("null")&&(e.nullable=!0);const t=i.filter(n=>n!=="null");if(t.length===1)e.type=Object.keys(Jn).includes(t[0].toUpperCase())?Jn[t[0].toUpperCase()]:Jn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of t)e.anyOf.push({type:Object.keys(Jn).includes(n.toUpperCase())?Jn[n.toUpperCase()]:Jn.TYPE_UNSPECIFIED})}}function ea(i){const e={},t=["items"],n=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=i.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,i=a[1]):a[1].type==="null"&&(e.nullable=!0,i=a[0])),i.type instanceof Array&&Bx(i.type,e);for(const[c,h]of Object.entries(i))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.keys(Jn).includes(h.toUpperCase())?h.toUpperCase():Jn.TYPE_UNSPECIFIED}else if(t.includes(c))e[c]=ea(h);else if(n.includes(c)){const y=[];for(const g of h){if(g.type=="null"){e.nullable=!0;continue}y.push(ea(g))}e[c]=y}else if(r.includes(c)){const y={};for(const[g,_]of Object.entries(h))y[g]=ea(_);e[c]=y}else{if(c==="additionalProperties")continue;e[c]=h}return e}function lf(i,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=Fx().parse(e);return ea(t)}else return ea(e)}function $0(i,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function $m(i,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function uu(i,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=lf(i,t.parameters)),t.response&&(t.response=lf(i,t.response));return e}function cu(i,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function qx(i,e,t,n=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===n;return i.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${i.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${e}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function nr(i,e){if(typeof e!="string")throw new Error("name must be a string");return qx(i,e,"cachedContents")}function Y0(i,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ir(i,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function zx(i){return i!=null&&typeof i=="object"&&"name"in i}function Gx(i){return i!=null&&typeof i=="object"&&"video"in i}function Hx(i){return i!=null&&typeof i=="object"&&"uri"in i}function K0(i,e){var t;let n;if(zx(e)&&(n=e.name),!(Hx(e)&&(n=e.uri,n===void 0))&&!(Gx(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Q0(i,e){let t;return i.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function Z0(i,e){for(const t of["models","tunedModels","publisherModels"])if($x(e,t))return e[t];return[]}function $x(i,e){return i!==null&&typeof i=="object"&&e in i}function Yx(i,e={}){const t=i,n={name:t.name,description:t.description,parameters:ea(Cf(t.inputSchema))};return e.behavior&&(n.behavior=e.behavior),{functionDeclarations:[n]}}function Kx(i,e={}){const t=[],n=new Set;for(const r of i){const a=r.name;if(n.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);n.add(a);const c=Yx(r,e);c.functionDeclarations&&t.push(...c.functionDeclarations)}return{functionDeclarations:t}}function Qx(i){const e=[];for(const t of i)e.push(Cf(t));return e}function Zx(i){const e={};for(const[t,n]of Object.entries(i)){const r=n;e[t]=Cf(r)}return e}function Cf(i){const e=new Set(["items"]),t=new Set(["anyOf"]),n=new Set(["properties"]),r={};for(const[a,c]of Object.entries(i))if(e.has(a))r[a]=Cf(c);else if(t.has(a))r[a]=Qx(c);else if(n.has(a))r[a]=Zx(c);else if(a==="type"){const h=c.toUpperCase();r[a]=Object.keys(Jn).includes(h)?h:Jn.TYPE_UNSPECIFIED}else Ox.has(a)&&(r[a]=c);return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xx(i,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function Jx(i,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&d(t,["data"],n);const r=f(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function jx(i,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function Wx(i,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],Xx(i,n));const r=f(e,["thought"]);r!=null&&d(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],Jx(i,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],jx(i,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const _=f(e,["functionCall"]);_!=null&&d(t,["functionCall"],_);const E=f(e,["functionResponse"]);E!=null&&d(t,["functionResponse"],E);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function nT(i,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>Wx(i,c))),d(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&d(t,["role"],r),t}function e1(i,e){const t={},n=f(e,["behavior"]);n!=null&&d(t,["behavior"],n);const r=f(e,["description"]);r!=null&&d(t,["description"],r);const a=f(e,["name"]);a!=null&&d(t,["name"],a);const c=f(e,["parameters"]);c!=null&&d(t,["parameters"],c);const h=f(e,["response"]);return h!=null&&d(t,["response"],h),t}function t1(i,e){const t={},n=f(e,["startTime"]);n!=null&&d(t,["startTime"],n);const r=f(e,["endTime"]);return r!=null&&d(t,["endTime"],r),t}function n1(i,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],t1(i,n)),t}function i1(i,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const r=f(e,["dynamicThreshold"]);return r!=null&&d(t,["dynamicThreshold"],r),t}function s1(i,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&d(t,["dynamicRetrievalConfig"],i1(i,n)),t}function r1(){return{}}function o1(i,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(g=>e1(i,g))),d(t,["functionDeclarations"],y)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(e,["googleSearch"]);r!=null&&d(t,["googleSearch"],n1(i,r));const a=f(e,["googleSearchRetrieval"]);if(a!=null&&d(t,["googleSearchRetrieval"],s1(i,a)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&d(t,["urlContext"],r1());const h=f(e,["codeExecution"]);return h!=null&&d(t,["codeExecution"],h),t}function a1(i,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const r=f(e,["allowedFunctionNames"]);return r!=null&&d(t,["allowedFunctionNames"],r),t}function l1(i,e){const t={},n=f(e,["latitude"]);n!=null&&d(t,["latitude"],n);const r=f(e,["longitude"]);return r!=null&&d(t,["longitude"],r),t}function u1(i,e){const t={},n=f(e,["latLng"]);n!=null&&d(t,["latLng"],l1(i,n));const r=f(e,["languageCode"]);return r!=null&&d(t,["languageCode"],r),t}function c1(i,e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&d(t,["functionCallingConfig"],a1(i,n));const r=f(e,["retrievalConfig"]);return r!=null&&d(t,["retrievalConfig"],u1(i,r)),t}function f1(i,e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&d(t,["ttl"],r);const a=f(e,["expireTime"]);t!==void 0&&a!=null&&d(t,["expireTime"],a);const c=f(e,["displayName"]);t!==void 0&&c!=null&&d(t,["displayName"],c);const h=f(e,["contents"]);if(t!==void 0&&h!=null){let E=di(i,h);Array.isArray(E)&&(E=E.map(S=>nT(i,S))),d(t,["contents"],E)}const y=f(e,["systemInstruction"]);t!==void 0&&y!=null&&d(t,["systemInstruction"],nT(i,_n(i,y)));const g=f(e,["tools"]);if(t!==void 0&&g!=null){let E=g;Array.isArray(E)&&(E=E.map(S=>o1(i,S))),d(t,["tools"],E)}const _=f(e,["toolConfig"]);if(t!==void 0&&_!=null&&d(t,["toolConfig"],c1(i,_)),f(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function d1(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["model"],q0(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],f1(i,r,t)),t}function h1(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","name"],nr(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],r),t}function m1(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","name"],nr(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],r),t}function p1(i,e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&d(t,["ttl"],r);const a=f(e,["expireTime"]);return t!==void 0&&a!=null&&d(t,["expireTime"],a),n}function g1(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","name"],nr(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],p1(i,r,t)),t}function y1(i,e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),n}function v1(i,e){const t={},n=f(e,["config"]);return n!=null&&d(t,["config"],y1(i,n,t)),t}function _1(i,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function T1(i,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const r=f(e,["data"]);r!=null&&d(t,["data"],r);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function E1(i,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const r=f(e,["fileUri"]);r!=null&&d(t,["fileUri"],r);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function C1(i,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],_1(i,n));const r=f(e,["thought"]);r!=null&&d(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],T1(i,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],E1(i,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const _=f(e,["functionCall"]);_!=null&&d(t,["functionCall"],_);const E=f(e,["functionResponse"]);E!=null&&d(t,["functionResponse"],E);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function iT(i,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>C1(i,c))),d(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&d(t,["role"],r),t}function A1(i,e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(e,["description"]);n!=null&&d(t,["description"],n);const r=f(e,["name"]);r!=null&&d(t,["name"],r);const a=f(e,["parameters"]);a!=null&&d(t,["parameters"],a);const c=f(e,["response"]);return c!=null&&d(t,["response"],c),t}function S1(i,e){const t={},n=f(e,["startTime"]);n!=null&&d(t,["startTime"],n);const r=f(e,["endTime"]);return r!=null&&d(t,["endTime"],r),t}function x1(i,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],S1(i,n)),t}function w1(i,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const r=f(e,["dynamicThreshold"]);return r!=null&&d(t,["dynamicThreshold"],r),t}function R1(i,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&d(t,["dynamicRetrievalConfig"],w1(i,n)),t}function b1(){return{}}function I1(i,e){const t={},n=f(e,["apiKeyString"]);return n!=null&&d(t,["apiKeyString"],n),t}function N1(i,e){const t={},n=f(e,["apiKeyConfig"]);n!=null&&d(t,["apiKeyConfig"],I1(i,n));const r=f(e,["authType"]);r!=null&&d(t,["authType"],r);const a=f(e,["googleServiceAccountConfig"]);a!=null&&d(t,["googleServiceAccountConfig"],a);const c=f(e,["httpBasicAuthConfig"]);c!=null&&d(t,["httpBasicAuthConfig"],c);const h=f(e,["oauthConfig"]);h!=null&&d(t,["oauthConfig"],h);const y=f(e,["oidcConfig"]);return y!=null&&d(t,["oidcConfig"],y),t}function M1(i,e){const t={},n=f(e,["authConfig"]);return n!=null&&d(t,["authConfig"],N1(i,n)),t}function D1(i,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(E=>A1(i,E))),d(t,["functionDeclarations"],_)}const r=f(e,["retrieval"]);r!=null&&d(t,["retrieval"],r);const a=f(e,["googleSearch"]);a!=null&&d(t,["googleSearch"],x1(i,a));const c=f(e,["googleSearchRetrieval"]);c!=null&&d(t,["googleSearchRetrieval"],R1(i,c)),f(e,["enterpriseWebSearch"])!=null&&d(t,["enterpriseWebSearch"],b1());const y=f(e,["googleMaps"]);if(y!=null&&d(t,["googleMaps"],M1(i,y)),f(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const g=f(e,["codeExecution"]);return g!=null&&d(t,["codeExecution"],g),t}function V1(i,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const r=f(e,["allowedFunctionNames"]);return r!=null&&d(t,["allowedFunctionNames"],r),t}function P1(i,e){const t={},n=f(e,["latitude"]);n!=null&&d(t,["latitude"],n);const r=f(e,["longitude"]);return r!=null&&d(t,["longitude"],r),t}function k1(i,e){const t={},n=f(e,["latLng"]);n!=null&&d(t,["latLng"],P1(i,n));const r=f(e,["languageCode"]);return r!=null&&d(t,["languageCode"],r),t}function L1(i,e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&d(t,["functionCallingConfig"],V1(i,n));const r=f(e,["retrievalConfig"]);return r!=null&&d(t,["retrievalConfig"],k1(i,r)),t}function O1(i,e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&d(t,["ttl"],r);const a=f(e,["expireTime"]);t!==void 0&&a!=null&&d(t,["expireTime"],a);const c=f(e,["displayName"]);t!==void 0&&c!=null&&d(t,["displayName"],c);const h=f(e,["contents"]);if(t!==void 0&&h!=null){let S=di(i,h);Array.isArray(S)&&(S=S.map(M=>iT(i,M))),d(t,["contents"],S)}const y=f(e,["systemInstruction"]);t!==void 0&&y!=null&&d(t,["systemInstruction"],iT(i,_n(i,y)));const g=f(e,["tools"]);if(t!==void 0&&g!=null){let S=g;Array.isArray(S)&&(S=S.map(M=>D1(i,M))),d(t,["tools"],S)}const _=f(e,["toolConfig"]);t!==void 0&&_!=null&&d(t,["toolConfig"],L1(i,_));const E=f(e,["kmsKeyName"]);return t!==void 0&&E!=null&&d(t,["encryption_spec","kmsKeyName"],E),n}function U1(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["model"],q0(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],O1(i,r,t)),t}function F1(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","name"],nr(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],r),t}function B1(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","name"],nr(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],r),t}function q1(i,e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&d(t,["ttl"],r);const a=f(e,["expireTime"]);return t!==void 0&&a!=null&&d(t,["expireTime"],a),n}function z1(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","name"],nr(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],q1(i,r,t)),t}function G1(i,e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),n}function H1(i,e){const t={},n=f(e,["config"]);return n!=null&&d(t,["config"],G1(i,n,t)),t}function Hc(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const r=f(e,["displayName"]);r!=null&&d(t,["displayName"],r);const a=f(e,["model"]);a!=null&&d(t,["model"],a);const c=f(e,["createTime"]);c!=null&&d(t,["createTime"],c);const h=f(e,["updateTime"]);h!=null&&d(t,["updateTime"],h);const y=f(e,["expireTime"]);y!=null&&d(t,["expireTime"],y);const g=f(e,["usageMetadata"]);return g!=null&&d(t,["usageMetadata"],g),t}function $1(){return{}}function Y1(i,e){const t={},n=f(e,["nextPageToken"]);n!=null&&d(t,["nextPageToken"],n);const r=f(e,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>Hc(i,c))),d(t,["cachedContents"],a)}return t}function $c(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const r=f(e,["displayName"]);r!=null&&d(t,["displayName"],r);const a=f(e,["model"]);a!=null&&d(t,["model"],a);const c=f(e,["createTime"]);c!=null&&d(t,["createTime"],c);const h=f(e,["updateTime"]);h!=null&&d(t,["updateTime"],h);const y=f(e,["expireTime"]);y!=null&&d(t,["expireTime"],y);const g=f(e,["usageMetadata"]);return g!=null&&d(t,["usageMetadata"],g),t}function K1(){return{}}function Q1(i,e){const t={},n=f(e,["nextPageToken"]);n!=null&&d(t,["nextPageToken"],n);const r=f(e,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>$c(i,c))),d(t,["cachedContents"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fa;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(fa||(fa={}));class Af{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){var r,a;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};n?typeof n=="object"?c=Object.assign({},n):c=n:c={config:{}},c.config&&(c.config.pageToken=t.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(a=(r=c.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z1 extends va{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Af(fa.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(t),t)}async create(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=U1(this.apiClient,e);return h=xe("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(_=>_.json()),c.then(_=>$c(this.apiClient,_))}else{const g=d1(this.apiClient,e);return h=xe("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(_=>_.json()),c.then(_=>Hc(this.apiClient,_))}}async get(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=F1(this.apiClient,e);return h=xe("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(_=>_.json()),c.then(_=>$c(this.apiClient,_))}else{const g=h1(this.apiClient,e);return h=xe("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(_=>_.json()),c.then(_=>Hc(this.apiClient,_))}}async delete(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=B1(this.apiClient,e);return h=xe("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(_=>_.json()),c.then(()=>{const _=K1(),E=new X_;return Object.assign(E,_),E})}else{const g=m1(this.apiClient,e);return h=xe("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(_=>_.json()),c.then(()=>{const _=$1(),E=new X_;return Object.assign(E,_),E})}}async update(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=z1(this.apiClient,e);return h=xe("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(_=>_.json()),c.then(_=>$c(this.apiClient,_))}else{const g=g1(this.apiClient,e);return h=xe("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(_=>_.json()),c.then(_=>Hc(this.apiClient,_))}}async listInternal(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=H1(this.apiClient,e);return h=xe("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(_=>_.json()),c.then(_=>{const E=Q1(this.apiClient,_),S=new J_;return Object.assign(S,E),S})}else{const g=v1(this.apiClient,e);return h=xe("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(_=>_.json()),c.then(_=>{const E=Y1(this.apiClient,_),S=new J_;return Object.assign(S,E),S})}}}function sT(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mt(i){return this instanceof mt?(this.v=i,this):new mt(i)}function ta(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(i,e||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(M){return function(L){return Promise.resolve(L).then(M,E)}}function h(M,L){n[M]&&(r[M]=function(z){return new Promise(function(H,X){a.push([M,z,H,X])>1||y(M,z)})},L&&(r[M]=L(r[M])))}function y(M,L){try{g(n[M](L))}catch(z){S(a[0][3],z)}}function g(M){M.value instanceof mt?Promise.resolve(M.value.v).then(_,E):S(a[0][2],M)}function _(M){y("next",M)}function E(M){y("throw",M)}function S(M,L){M(L),a.shift(),a.length&&y(a[0][0],a[0][1])}}function $l(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof sT=="function"?sT(i):i[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=i[a]&&function(c){return new Promise(function(h,y){c=i[a](c),r(h,y,c.done,c.value)})}}function r(a,c,h,y){Promise.resolve(y).then(function(g){a({value:g,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X1(i){var e;if(i.candidates==null||i.candidates.length===0)return!1;const t=(e=i.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:X0(t)}function X0(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const e of i.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function J1(i){if(i.length!==0){for(const e of i)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function rT(i){if(i===void 0||i.length===0)return[];const e=[],t=i.length;let n=0;for(;n<t;)if(i[n].role==="user")e.push(i[n]),n++;else{const r=[];let a=!0;for(;n<t&&i[n].role==="model";)r.push(i[n]),a&&!X0(i[n])&&(a=!1),n++;a?e.push(...r):e.pop()}return e}class j1{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new W1(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class W1{constructor(e,t,n,r={},a=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),J1(a)}async sendMessage(e){var t;await this.sendPromise;const n=_n(this.apiClient,e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var a,c,h;const y=await r,g=(c=(a=y.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content,_=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let S=[];_!=null&&(S=(h=_.slice(E))!==null&&h!==void 0?h:[]);const M=g?[g]:[];this.recordHistory(n,M,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const n=_n(this.apiClient,e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,n)}getHistory(e=!1){const t=e?rT(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var n,r;return ta(this,arguments,function*(){var c,h,y,g;const _=[];try{for(var E=!0,S=$l(e),M;M=yield mt(S.next()),c=M.done,!c;E=!0){g=M.value,E=!1;const L=g;if(X1(L)){const z=(r=(n=L.candidates)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.content;z!==void 0&&_.push(z)}yield yield mt(L)}}catch(L){h={error:L}}finally{try{!E&&!c&&(y=S.return)&&(yield mt(y.call(S)))}finally{if(h)throw h.error}}this.recordHistory(t,_)})}recordHistory(e,t,n){let r=[];t.length>0&&t.every(a=>a.role!==void 0)?r=t:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...rT(n)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ew(i,e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),n}function tw(i,e){const t={},n=f(e,["config"]);return n!=null&&d(t,["config"],ew(i,n,t)),t}function nw(i,e){const t={},n=f(e,["details"]);n!=null&&d(t,["details"],n);const r=f(e,["message"]);r!=null&&d(t,["message"],r);const a=f(e,["code"]);return a!=null&&d(t,["code"],a),t}function iw(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const r=f(e,["displayName"]);r!=null&&d(t,["displayName"],r);const a=f(e,["mimeType"]);a!=null&&d(t,["mimeType"],a);const c=f(e,["sizeBytes"]);c!=null&&d(t,["sizeBytes"],c);const h=f(e,["createTime"]);h!=null&&d(t,["createTime"],h);const y=f(e,["expirationTime"]);y!=null&&d(t,["expirationTime"],y);const g=f(e,["updateTime"]);g!=null&&d(t,["updateTime"],g);const _=f(e,["sha256Hash"]);_!=null&&d(t,["sha256Hash"],_);const E=f(e,["uri"]);E!=null&&d(t,["uri"],E);const S=f(e,["downloadUri"]);S!=null&&d(t,["downloadUri"],S);const M=f(e,["state"]);M!=null&&d(t,["state"],M);const L=f(e,["source"]);L!=null&&d(t,["source"],L);const z=f(e,["videoMetadata"]);z!=null&&d(t,["videoMetadata"],z);const H=f(e,["error"]);return H!=null&&d(t,["error"],nw(i,H)),t}function sw(i,e){const t={},n=f(e,["file"]);n!=null&&d(t,["file"],iw(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],r),t}function rw(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","file"],K0(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],r),t}function ow(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","file"],K0(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],r),t}function aw(i,e){const t={},n=f(e,["details"]);n!=null&&d(t,["details"],n);const r=f(e,["message"]);r!=null&&d(t,["message"],r);const a=f(e,["code"]);return a!=null&&d(t,["code"],a),t}function hm(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const r=f(e,["displayName"]);r!=null&&d(t,["displayName"],r);const a=f(e,["mimeType"]);a!=null&&d(t,["mimeType"],a);const c=f(e,["sizeBytes"]);c!=null&&d(t,["sizeBytes"],c);const h=f(e,["createTime"]);h!=null&&d(t,["createTime"],h);const y=f(e,["expirationTime"]);y!=null&&d(t,["expirationTime"],y);const g=f(e,["updateTime"]);g!=null&&d(t,["updateTime"],g);const _=f(e,["sha256Hash"]);_!=null&&d(t,["sha256Hash"],_);const E=f(e,["uri"]);E!=null&&d(t,["uri"],E);const S=f(e,["downloadUri"]);S!=null&&d(t,["downloadUri"],S);const M=f(e,["state"]);M!=null&&d(t,["state"],M);const L=f(e,["source"]);L!=null&&d(t,["source"],L);const z=f(e,["videoMetadata"]);z!=null&&d(t,["videoMetadata"],z);const H=f(e,["error"]);return H!=null&&d(t,["error"],aw(i,H)),t}function lw(i,e){const t={},n=f(e,["nextPageToken"]);n!=null&&d(t,["nextPageToken"],n);const r=f(e,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>hm(i,c))),d(t,["files"],a)}return t}function uw(){return{}}function cw(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fw extends va{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Af(fa.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>hm(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tw(this.apiClient,e);return a=xe("files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),r.then(y=>{const g=lw(this.apiClient,y),_=new Nx;return Object.assign(_,g),_})}}async createInternal(e){var t,n;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=sw(this.apiClient,e);return a=xe("upload/v1beta/files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),r.then(()=>{const y=uw(),g=new Mx;return Object.assign(g,y),g})}}async get(e){var t,n;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=rw(this.apiClient,e);return a=xe("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),r.then(y=>hm(this.apiClient,y))}}async delete(e){var t,n;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ow(this.apiClient,e);return a=xe("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),r.then(()=>{const y=cw(),g=new Dx;return Object.assign(g,y),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dw(i,e){const t={},n=f(e,["voiceName"]);return n!=null&&d(t,["voiceName"],n),t}function hw(i,e){const t={},n=f(e,["voiceName"]);return n!=null&&d(t,["voiceName"],n),t}function J0(i,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&d(t,["prebuiltVoiceConfig"],dw(i,n)),t}function mw(i,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&d(t,["prebuiltVoiceConfig"],hw(i,n)),t}function pw(i,e){const t={},n=f(e,["speaker"]);n!=null&&d(t,["speaker"],n);const r=f(e,["voiceConfig"]);return r!=null&&d(t,["voiceConfig"],J0(i,r)),t}function gw(i,e){const t={},n=f(e,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>pw(i,a))),d(t,["speakerVoiceConfigs"],r)}return t}function yw(i,e){const t={},n=f(e,["voiceConfig"]);n!=null&&d(t,["voiceConfig"],J0(i,n));const r=f(e,["multiSpeakerVoiceConfig"]);r!=null&&d(t,["multiSpeakerVoiceConfig"],gw(i,r));const a=f(e,["languageCode"]);return a!=null&&d(t,["languageCode"],a),t}function vw(i,e){const t={},n=f(e,["voiceConfig"]);if(n!=null&&d(t,["voiceConfig"],mw(i,n)),f(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=f(e,["languageCode"]);return r!=null&&d(t,["languageCode"],r),t}function _w(i,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function Tw(i,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function Ew(i,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&d(t,["data"],n);const r=f(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function Cw(i,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const r=f(e,["data"]);r!=null&&d(t,["data"],r);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function Aw(i,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function Sw(i,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const r=f(e,["fileUri"]);r!=null&&d(t,["fileUri"],r);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function xw(i,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],_w(i,n));const r=f(e,["thought"]);r!=null&&d(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],Ew(i,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],Aw(i,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const _=f(e,["functionCall"]);_!=null&&d(t,["functionCall"],_);const E=f(e,["functionResponse"]);E!=null&&d(t,["functionResponse"],E);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function ww(i,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],Tw(i,n));const r=f(e,["thought"]);r!=null&&d(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],Cw(i,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],Sw(i,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const _=f(e,["functionCall"]);_!=null&&d(t,["functionCall"],_);const E=f(e,["functionResponse"]);E!=null&&d(t,["functionResponse"],E);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function Rw(i,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>xw(i,c))),d(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&d(t,["role"],r),t}function bw(i,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>ww(i,c))),d(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&d(t,["role"],r),t}function Iw(i,e){const t={},n=f(e,["behavior"]);n!=null&&d(t,["behavior"],n);const r=f(e,["description"]);r!=null&&d(t,["description"],r);const a=f(e,["name"]);a!=null&&d(t,["name"],a);const c=f(e,["parameters"]);c!=null&&d(t,["parameters"],c);const h=f(e,["response"]);return h!=null&&d(t,["response"],h),t}function Nw(i,e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(e,["description"]);n!=null&&d(t,["description"],n);const r=f(e,["name"]);r!=null&&d(t,["name"],r);const a=f(e,["parameters"]);a!=null&&d(t,["parameters"],a);const c=f(e,["response"]);return c!=null&&d(t,["response"],c),t}function Mw(i,e){const t={},n=f(e,["startTime"]);n!=null&&d(t,["startTime"],n);const r=f(e,["endTime"]);return r!=null&&d(t,["endTime"],r),t}function Dw(i,e){const t={},n=f(e,["startTime"]);n!=null&&d(t,["startTime"],n);const r=f(e,["endTime"]);return r!=null&&d(t,["endTime"],r),t}function Vw(i,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],Mw(i,n)),t}function Pw(i,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],Dw(i,n)),t}function kw(i,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const r=f(e,["dynamicThreshold"]);return r!=null&&d(t,["dynamicThreshold"],r),t}function Lw(i,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const r=f(e,["dynamicThreshold"]);return r!=null&&d(t,["dynamicThreshold"],r),t}function Ow(i,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&d(t,["dynamicRetrievalConfig"],kw(i,n)),t}function Uw(i,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&d(t,["dynamicRetrievalConfig"],Lw(i,n)),t}function Fw(){return{}}function Bw(i,e){const t={},n=f(e,["apiKeyString"]);return n!=null&&d(t,["apiKeyString"],n),t}function qw(i,e){const t={},n=f(e,["apiKeyConfig"]);n!=null&&d(t,["apiKeyConfig"],Bw(i,n));const r=f(e,["authType"]);r!=null&&d(t,["authType"],r);const a=f(e,["googleServiceAccountConfig"]);a!=null&&d(t,["googleServiceAccountConfig"],a);const c=f(e,["httpBasicAuthConfig"]);c!=null&&d(t,["httpBasicAuthConfig"],c);const h=f(e,["oauthConfig"]);h!=null&&d(t,["oauthConfig"],h);const y=f(e,["oidcConfig"]);return y!=null&&d(t,["oidcConfig"],y),t}function zw(i,e){const t={},n=f(e,["authConfig"]);return n!=null&&d(t,["authConfig"],qw(i,n)),t}function Gw(){return{}}function Hw(i,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(g=>Iw(i,g))),d(t,["functionDeclarations"],y)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(e,["googleSearch"]);r!=null&&d(t,["googleSearch"],Vw(i,r));const a=f(e,["googleSearchRetrieval"]);if(a!=null&&d(t,["googleSearchRetrieval"],Ow(i,a)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&d(t,["urlContext"],Gw());const h=f(e,["codeExecution"]);return h!=null&&d(t,["codeExecution"],h),t}function $w(i,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(E=>Nw(i,E))),d(t,["functionDeclarations"],_)}const r=f(e,["retrieval"]);r!=null&&d(t,["retrieval"],r);const a=f(e,["googleSearch"]);a!=null&&d(t,["googleSearch"],Pw(i,a));const c=f(e,["googleSearchRetrieval"]);c!=null&&d(t,["googleSearchRetrieval"],Uw(i,c)),f(e,["enterpriseWebSearch"])!=null&&d(t,["enterpriseWebSearch"],Fw());const y=f(e,["googleMaps"]);if(y!=null&&d(t,["googleMaps"],zw(i,y)),f(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const g=f(e,["codeExecution"]);return g!=null&&d(t,["codeExecution"],g),t}function Yw(i,e){const t={},n=f(e,["handle"]);if(n!=null&&d(t,["handle"],n),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Kw(i,e){const t={},n=f(e,["handle"]);n!=null&&d(t,["handle"],n);const r=f(e,["transparent"]);return r!=null&&d(t,["transparent"],r),t}function oT(){return{}}function aT(){return{}}function Qw(i,e){const t={},n=f(e,["disabled"]);n!=null&&d(t,["disabled"],n);const r=f(e,["startOfSpeechSensitivity"]);r!=null&&d(t,["startOfSpeechSensitivity"],r);const a=f(e,["endOfSpeechSensitivity"]);a!=null&&d(t,["endOfSpeechSensitivity"],a);const c=f(e,["prefixPaddingMs"]);c!=null&&d(t,["prefixPaddingMs"],c);const h=f(e,["silenceDurationMs"]);return h!=null&&d(t,["silenceDurationMs"],h),t}function Zw(i,e){const t={},n=f(e,["disabled"]);n!=null&&d(t,["disabled"],n);const r=f(e,["startOfSpeechSensitivity"]);r!=null&&d(t,["startOfSpeechSensitivity"],r);const a=f(e,["endOfSpeechSensitivity"]);a!=null&&d(t,["endOfSpeechSensitivity"],a);const c=f(e,["prefixPaddingMs"]);c!=null&&d(t,["prefixPaddingMs"],c);const h=f(e,["silenceDurationMs"]);return h!=null&&d(t,["silenceDurationMs"],h),t}function Xw(i,e){const t={},n=f(e,["automaticActivityDetection"]);n!=null&&d(t,["automaticActivityDetection"],Qw(i,n));const r=f(e,["activityHandling"]);r!=null&&d(t,["activityHandling"],r);const a=f(e,["turnCoverage"]);return a!=null&&d(t,["turnCoverage"],a),t}function Jw(i,e){const t={},n=f(e,["automaticActivityDetection"]);n!=null&&d(t,["automaticActivityDetection"],Zw(i,n));const r=f(e,["activityHandling"]);r!=null&&d(t,["activityHandling"],r);const a=f(e,["turnCoverage"]);return a!=null&&d(t,["turnCoverage"],a),t}function jw(i,e){const t={},n=f(e,["targetTokens"]);return n!=null&&d(t,["targetTokens"],n),t}function Ww(i,e){const t={},n=f(e,["targetTokens"]);return n!=null&&d(t,["targetTokens"],n),t}function eR(i,e){const t={},n=f(e,["triggerTokens"]);n!=null&&d(t,["triggerTokens"],n);const r=f(e,["slidingWindow"]);return r!=null&&d(t,["slidingWindow"],jw(i,r)),t}function tR(i,e){const t={},n=f(e,["triggerTokens"]);n!=null&&d(t,["triggerTokens"],n);const r=f(e,["slidingWindow"]);return r!=null&&d(t,["slidingWindow"],Ww(i,r)),t}function nR(i,e){const t={},n=f(e,["proactiveAudio"]);return n!=null&&d(t,["proactiveAudio"],n),t}function iR(i,e){const t={},n=f(e,["proactiveAudio"]);return n!=null&&d(t,["proactiveAudio"],n),t}function sR(i,e,t){const n={},r=f(e,["generationConfig"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig"],r);const a=f(e,["responseModalities"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","responseModalities"],a);const c=f(e,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const h=f(e,["topP"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","topP"],h);const y=f(e,["topK"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","topK"],y);const g=f(e,["maxOutputTokens"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","maxOutputTokens"],g);const _=f(e,["mediaResolution"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","mediaResolution"],_);const E=f(e,["seed"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","seed"],E);const S=f(e,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],yw(i,$m(i,S)));const M=f(e,["enableAffectiveDialog"]);t!==void 0&&M!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],M);const L=f(e,["systemInstruction"]);t!==void 0&&L!=null&&d(t,["setup","systemInstruction"],Rw(i,_n(i,L)));const z=f(e,["tools"]);if(t!==void 0&&z!=null){let le=cu(i,z);Array.isArray(le)&&(le=le.map(k=>Hw(i,uu(i,k)))),d(t,["setup","tools"],le)}const H=f(e,["sessionResumption"]);t!==void 0&&H!=null&&d(t,["setup","sessionResumption"],Yw(i,H));const X=f(e,["inputAudioTranscription"]);t!==void 0&&X!=null&&d(t,["setup","inputAudioTranscription"],oT());const j=f(e,["outputAudioTranscription"]);t!==void 0&&j!=null&&d(t,["setup","outputAudioTranscription"],oT());const ne=f(e,["realtimeInputConfig"]);t!==void 0&&ne!=null&&d(t,["setup","realtimeInputConfig"],Xw(i,ne));const oe=f(e,["contextWindowCompression"]);t!==void 0&&oe!=null&&d(t,["setup","contextWindowCompression"],eR(i,oe));const te=f(e,["proactivity"]);return t!==void 0&&te!=null&&d(t,["setup","proactivity"],nR(i,te)),n}function rR(i,e,t){const n={},r=f(e,["generationConfig"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig"],r);const a=f(e,["responseModalities"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","responseModalities"],a);const c=f(e,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const h=f(e,["topP"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","topP"],h);const y=f(e,["topK"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","topK"],y);const g=f(e,["maxOutputTokens"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","maxOutputTokens"],g);const _=f(e,["mediaResolution"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","mediaResolution"],_);const E=f(e,["seed"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","seed"],E);const S=f(e,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],vw(i,$m(i,S)));const M=f(e,["enableAffectiveDialog"]);t!==void 0&&M!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],M);const L=f(e,["systemInstruction"]);t!==void 0&&L!=null&&d(t,["setup","systemInstruction"],bw(i,_n(i,L)));const z=f(e,["tools"]);if(t!==void 0&&z!=null){let le=cu(i,z);Array.isArray(le)&&(le=le.map(k=>$w(i,uu(i,k)))),d(t,["setup","tools"],le)}const H=f(e,["sessionResumption"]);t!==void 0&&H!=null&&d(t,["setup","sessionResumption"],Kw(i,H));const X=f(e,["inputAudioTranscription"]);t!==void 0&&X!=null&&d(t,["setup","inputAudioTranscription"],aT());const j=f(e,["outputAudioTranscription"]);t!==void 0&&j!=null&&d(t,["setup","outputAudioTranscription"],aT());const ne=f(e,["realtimeInputConfig"]);t!==void 0&&ne!=null&&d(t,["setup","realtimeInputConfig"],Jw(i,ne));const oe=f(e,["contextWindowCompression"]);t!==void 0&&oe!=null&&d(t,["setup","contextWindowCompression"],tR(i,oe));const te=f(e,["proactivity"]);return t!==void 0&&te!=null&&d(t,["setup","proactivity"],iR(i,te)),n}function oR(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["setup","model"],dt(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],sR(i,r,t)),t}function aR(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["setup","model"],dt(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],rR(i,r,t)),t}function lR(){return{}}function uR(){return{}}function cR(){return{}}function fR(){return{}}function dR(i,e){const t={},n=f(e,["media"]);n!=null&&d(t,["mediaChunks"],z0(i,n));const r=f(e,["audio"]);r!=null&&d(t,["audio"],Lx(i,r));const a=f(e,["audioStreamEnd"]);a!=null&&d(t,["audioStreamEnd"],a);const c=f(e,["video"]);c!=null&&d(t,["video"],kx(i,c));const h=f(e,["text"]);return h!=null&&d(t,["text"],h),f(e,["activityStart"])!=null&&d(t,["activityStart"],lR()),f(e,["activityEnd"])!=null&&d(t,["activityEnd"],cR()),t}function hR(i,e){const t={},n=f(e,["media"]);if(n!=null&&d(t,["mediaChunks"],z0(i,n)),f(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=f(e,["audioStreamEnd"]);if(r!=null&&d(t,["audioStreamEnd"],r),f(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(f(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return f(e,["activityStart"])!=null&&d(t,["activityStart"],uR()),f(e,["activityEnd"])!=null&&d(t,["activityEnd"],fR()),t}function j0(i,e){const t={},n=f(e,["text"]);n!=null&&d(t,["text"],n);const r=f(e,["weight"]);return r!=null&&d(t,["weight"],r),t}function mR(i,e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>j0(i,a))),d(t,["weightedPrompts"],r)}return t}function W0(i,e){const t={},n=f(e,["temperature"]);n!=null&&d(t,["temperature"],n);const r=f(e,["topK"]);r!=null&&d(t,["topK"],r);const a=f(e,["seed"]);a!=null&&d(t,["seed"],a);const c=f(e,["guidance"]);c!=null&&d(t,["guidance"],c);const h=f(e,["bpm"]);h!=null&&d(t,["bpm"],h);const y=f(e,["density"]);y!=null&&d(t,["density"],y);const g=f(e,["brightness"]);g!=null&&d(t,["brightness"],g);const _=f(e,["scale"]);_!=null&&d(t,["scale"],_);const E=f(e,["muteBass"]);E!=null&&d(t,["muteBass"],E);const S=f(e,["muteDrums"]);S!=null&&d(t,["muteDrums"],S);const M=f(e,["onlyBassAndDrums"]);return M!=null&&d(t,["onlyBassAndDrums"],M),t}function pR(i,e){const t={},n=f(e,["musicGenerationConfig"]);return n!=null&&d(t,["musicGenerationConfig"],W0(i,n)),t}function eE(i,e){const t={},n=f(e,["model"]);return n!=null&&d(t,["model"],n),t}function tE(i,e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>j0(i,a))),d(t,["weightedPrompts"],r)}return t}function mm(i,e){const t={},n=f(e,["setup"]);n!=null&&d(t,["setup"],eE(i,n));const r=f(e,["clientContent"]);r!=null&&d(t,["clientContent"],tE(i,r));const a=f(e,["musicGenerationConfig"]);a!=null&&d(t,["musicGenerationConfig"],W0(i,a));const c=f(e,["playbackControl"]);return c!=null&&d(t,["playbackControl"],c),t}function gR(){return{}}function yR(){return{}}function vR(i,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function _R(i,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function TR(i,e){const t={},n=f(e,["data"]);n!=null&&d(t,["data"],n);const r=f(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function ER(i,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const r=f(e,["data"]);r!=null&&d(t,["data"],r);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function CR(i,e){const t={},n=f(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function AR(i,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const r=f(e,["fileUri"]);r!=null&&d(t,["fileUri"],r);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function SR(i,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],vR(i,n));const r=f(e,["thought"]);r!=null&&d(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],TR(i,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],CR(i,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const _=f(e,["functionCall"]);_!=null&&d(t,["functionCall"],_);const E=f(e,["functionResponse"]);E!=null&&d(t,["functionResponse"],E);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function xR(i,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],_R(i,n));const r=f(e,["thought"]);r!=null&&d(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],ER(i,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],AR(i,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const _=f(e,["functionCall"]);_!=null&&d(t,["functionCall"],_);const E=f(e,["functionResponse"]);E!=null&&d(t,["functionResponse"],E);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function wR(i,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>SR(i,c))),d(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&d(t,["role"],r),t}function RR(i,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>xR(i,c))),d(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&d(t,["role"],r),t}function lT(i,e){const t={},n=f(e,["text"]);n!=null&&d(t,["text"],n);const r=f(e,["finished"]);return r!=null&&d(t,["finished"],r),t}function uT(i,e){const t={},n=f(e,["text"]);n!=null&&d(t,["text"],n);const r=f(e,["finished"]);return r!=null&&d(t,["finished"],r),t}function bR(i,e){const t={},n=f(e,["retrievedUrl"]);n!=null&&d(t,["retrievedUrl"],n);const r=f(e,["urlRetrievalStatus"]);return r!=null&&d(t,["urlRetrievalStatus"],r),t}function IR(i,e){const t={},n=f(e,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>bR(i,a))),d(t,["urlMetadata"],r)}return t}function NR(i,e){const t={},n=f(e,["modelTurn"]);n!=null&&d(t,["modelTurn"],wR(i,n));const r=f(e,["turnComplete"]);r!=null&&d(t,["turnComplete"],r);const a=f(e,["interrupted"]);a!=null&&d(t,["interrupted"],a);const c=f(e,["groundingMetadata"]);c!=null&&d(t,["groundingMetadata"],c);const h=f(e,["generationComplete"]);h!=null&&d(t,["generationComplete"],h);const y=f(e,["inputTranscription"]);y!=null&&d(t,["inputTranscription"],lT(i,y));const g=f(e,["outputTranscription"]);g!=null&&d(t,["outputTranscription"],lT(i,g));const _=f(e,["urlContextMetadata"]);return _!=null&&d(t,["urlContextMetadata"],IR(i,_)),t}function MR(i,e){const t={},n=f(e,["modelTurn"]);n!=null&&d(t,["modelTurn"],RR(i,n));const r=f(e,["turnComplete"]);r!=null&&d(t,["turnComplete"],r);const a=f(e,["interrupted"]);a!=null&&d(t,["interrupted"],a);const c=f(e,["groundingMetadata"]);c!=null&&d(t,["groundingMetadata"],c);const h=f(e,["generationComplete"]);h!=null&&d(t,["generationComplete"],h);const y=f(e,["inputTranscription"]);y!=null&&d(t,["inputTranscription"],uT(i,y));const g=f(e,["outputTranscription"]);return g!=null&&d(t,["outputTranscription"],uT(i,g)),t}function DR(i,e){const t={},n=f(e,["id"]);n!=null&&d(t,["id"],n);const r=f(e,["args"]);r!=null&&d(t,["args"],r);const a=f(e,["name"]);return a!=null&&d(t,["name"],a),t}function VR(i,e){const t={},n=f(e,["args"]);n!=null&&d(t,["args"],n);const r=f(e,["name"]);return r!=null&&d(t,["name"],r),t}function PR(i,e){const t={},n=f(e,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>DR(i,a))),d(t,["functionCalls"],r)}return t}function kR(i,e){const t={},n=f(e,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>VR(i,a))),d(t,["functionCalls"],r)}return t}function LR(i,e){const t={},n=f(e,["ids"]);return n!=null&&d(t,["ids"],n),t}function OR(i,e){const t={},n=f(e,["ids"]);return n!=null&&d(t,["ids"],n),t}function Oc(i,e){const t={},n=f(e,["modality"]);n!=null&&d(t,["modality"],n);const r=f(e,["tokenCount"]);return r!=null&&d(t,["tokenCount"],r),t}function Uc(i,e){const t={},n=f(e,["modality"]);n!=null&&d(t,["modality"],n);const r=f(e,["tokenCount"]);return r!=null&&d(t,["tokenCount"],r),t}function UR(i,e){const t={},n=f(e,["promptTokenCount"]);n!=null&&d(t,["promptTokenCount"],n);const r=f(e,["cachedContentTokenCount"]);r!=null&&d(t,["cachedContentTokenCount"],r);const a=f(e,["responseTokenCount"]);a!=null&&d(t,["responseTokenCount"],a);const c=f(e,["toolUsePromptTokenCount"]);c!=null&&d(t,["toolUsePromptTokenCount"],c);const h=f(e,["thoughtsTokenCount"]);h!=null&&d(t,["thoughtsTokenCount"],h);const y=f(e,["totalTokenCount"]);y!=null&&d(t,["totalTokenCount"],y);const g=f(e,["promptTokensDetails"]);if(g!=null){let M=g;Array.isArray(M)&&(M=M.map(L=>Oc(i,L))),d(t,["promptTokensDetails"],M)}const _=f(e,["cacheTokensDetails"]);if(_!=null){let M=_;Array.isArray(M)&&(M=M.map(L=>Oc(i,L))),d(t,["cacheTokensDetails"],M)}const E=f(e,["responseTokensDetails"]);if(E!=null){let M=E;Array.isArray(M)&&(M=M.map(L=>Oc(i,L))),d(t,["responseTokensDetails"],M)}const S=f(e,["toolUsePromptTokensDetails"]);if(S!=null){let M=S;Array.isArray(M)&&(M=M.map(L=>Oc(i,L))),d(t,["toolUsePromptTokensDetails"],M)}return t}function FR(i,e){const t={},n=f(e,["promptTokenCount"]);n!=null&&d(t,["promptTokenCount"],n);const r=f(e,["cachedContentTokenCount"]);r!=null&&d(t,["cachedContentTokenCount"],r);const a=f(e,["candidatesTokenCount"]);a!=null&&d(t,["responseTokenCount"],a);const c=f(e,["toolUsePromptTokenCount"]);c!=null&&d(t,["toolUsePromptTokenCount"],c);const h=f(e,["thoughtsTokenCount"]);h!=null&&d(t,["thoughtsTokenCount"],h);const y=f(e,["totalTokenCount"]);y!=null&&d(t,["totalTokenCount"],y);const g=f(e,["promptTokensDetails"]);if(g!=null){let L=g;Array.isArray(L)&&(L=L.map(z=>Uc(i,z))),d(t,["promptTokensDetails"],L)}const _=f(e,["cacheTokensDetails"]);if(_!=null){let L=_;Array.isArray(L)&&(L=L.map(z=>Uc(i,z))),d(t,["cacheTokensDetails"],L)}const E=f(e,["candidatesTokensDetails"]);if(E!=null){let L=E;Array.isArray(L)&&(L=L.map(z=>Uc(i,z))),d(t,["responseTokensDetails"],L)}const S=f(e,["toolUsePromptTokensDetails"]);if(S!=null){let L=S;Array.isArray(L)&&(L=L.map(z=>Uc(i,z))),d(t,["toolUsePromptTokensDetails"],L)}const M=f(e,["trafficType"]);return M!=null&&d(t,["trafficType"],M),t}function BR(i,e){const t={},n=f(e,["timeLeft"]);return n!=null&&d(t,["timeLeft"],n),t}function qR(i,e){const t={},n=f(e,["timeLeft"]);return n!=null&&d(t,["timeLeft"],n),t}function zR(i,e){const t={},n=f(e,["newHandle"]);n!=null&&d(t,["newHandle"],n);const r=f(e,["resumable"]);r!=null&&d(t,["resumable"],r);const a=f(e,["lastConsumedClientMessageIndex"]);return a!=null&&d(t,["lastConsumedClientMessageIndex"],a),t}function GR(i,e){const t={},n=f(e,["newHandle"]);n!=null&&d(t,["newHandle"],n);const r=f(e,["resumable"]);r!=null&&d(t,["resumable"],r);const a=f(e,["lastConsumedClientMessageIndex"]);return a!=null&&d(t,["lastConsumedClientMessageIndex"],a),t}function HR(i,e){const t={};f(e,["setupComplete"])!=null&&d(t,["setupComplete"],gR());const r=f(e,["serverContent"]);r!=null&&d(t,["serverContent"],NR(i,r));const a=f(e,["toolCall"]);a!=null&&d(t,["toolCall"],PR(i,a));const c=f(e,["toolCallCancellation"]);c!=null&&d(t,["toolCallCancellation"],LR(i,c));const h=f(e,["usageMetadata"]);h!=null&&d(t,["usageMetadata"],UR(i,h));const y=f(e,["goAway"]);y!=null&&d(t,["goAway"],BR(i,y));const g=f(e,["sessionResumptionUpdate"]);return g!=null&&d(t,["sessionResumptionUpdate"],zR(i,g)),t}function $R(i,e){const t={};f(e,["setupComplete"])!=null&&d(t,["setupComplete"],yR());const r=f(e,["serverContent"]);r!=null&&d(t,["serverContent"],MR(i,r));const a=f(e,["toolCall"]);a!=null&&d(t,["toolCall"],kR(i,a));const c=f(e,["toolCallCancellation"]);c!=null&&d(t,["toolCallCancellation"],OR(i,c));const h=f(e,["usageMetadata"]);h!=null&&d(t,["usageMetadata"],FR(i,h));const y=f(e,["goAway"]);y!=null&&d(t,["goAway"],qR(i,y));const g=f(e,["sessionResumptionUpdate"]);return g!=null&&d(t,["sessionResumptionUpdate"],GR(i,g)),t}function YR(){return{}}function KR(i,e){const t={},n=f(e,["text"]);n!=null&&d(t,["text"],n);const r=f(e,["weight"]);return r!=null&&d(t,["weight"],r),t}function QR(i,e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>KR(i,a))),d(t,["weightedPrompts"],r)}return t}function ZR(i,e){const t={},n=f(e,["temperature"]);n!=null&&d(t,["temperature"],n);const r=f(e,["topK"]);r!=null&&d(t,["topK"],r);const a=f(e,["seed"]);a!=null&&d(t,["seed"],a);const c=f(e,["guidance"]);c!=null&&d(t,["guidance"],c);const h=f(e,["bpm"]);h!=null&&d(t,["bpm"],h);const y=f(e,["density"]);y!=null&&d(t,["density"],y);const g=f(e,["brightness"]);g!=null&&d(t,["brightness"],g);const _=f(e,["scale"]);_!=null&&d(t,["scale"],_);const E=f(e,["muteBass"]);E!=null&&d(t,["muteBass"],E);const S=f(e,["muteDrums"]);S!=null&&d(t,["muteDrums"],S);const M=f(e,["onlyBassAndDrums"]);return M!=null&&d(t,["onlyBassAndDrums"],M),t}function XR(i,e){const t={},n=f(e,["clientContent"]);n!=null&&d(t,["clientContent"],QR(i,n));const r=f(e,["musicGenerationConfig"]);return r!=null&&d(t,["musicGenerationConfig"],ZR(i,r)),t}function JR(i,e){const t={},n=f(e,["data"]);n!=null&&d(t,["data"],n);const r=f(e,["mimeType"]);r!=null&&d(t,["mimeType"],r);const a=f(e,["sourceMetadata"]);return a!=null&&d(t,["sourceMetadata"],XR(i,a)),t}function jR(i,e){const t={},n=f(e,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>JR(i,a))),d(t,["audioChunks"],r)}return t}function WR(i,e){const t={},n=f(e,["text"]);n!=null&&d(t,["text"],n);const r=f(e,["filteredReason"]);return r!=null&&d(t,["filteredReason"],r),t}function eb(i,e){const t={};f(e,["setupComplete"])!=null&&d(t,["setupComplete"],YR());const r=f(e,["serverContent"]);r!=null&&d(t,["serverContent"],jR(i,r));const a=f(e,["filteredPrompt"]);return a!=null&&d(t,["filteredPrompt"],WR(i,a)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tb(i,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function nb(i,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&d(t,["data"],n);const r=f(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function ib(i,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function sb(i,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],tb(i,n));const r=f(e,["thought"]);r!=null&&d(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],nb(i,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],ib(i,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const _=f(e,["functionCall"]);_!=null&&d(t,["functionCall"],_);const E=f(e,["functionResponse"]);E!=null&&d(t,["functionResponse"],E);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function Sf(i,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>sb(i,c))),d(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&d(t,["role"],r),t}function rb(i,e){const t={},n=f(e,["anyOf"]);n!=null&&d(t,["anyOf"],n);const r=f(e,["default"]);r!=null&&d(t,["default"],r);const a=f(e,["description"]);a!=null&&d(t,["description"],a);const c=f(e,["enum"]);c!=null&&d(t,["enum"],c);const h=f(e,["example"]);h!=null&&d(t,["example"],h);const y=f(e,["format"]);y!=null&&d(t,["format"],y);const g=f(e,["items"]);g!=null&&d(t,["items"],g);const _=f(e,["maxItems"]);_!=null&&d(t,["maxItems"],_);const E=f(e,["maxLength"]);E!=null&&d(t,["maxLength"],E);const S=f(e,["maxProperties"]);S!=null&&d(t,["maxProperties"],S);const M=f(e,["maximum"]);M!=null&&d(t,["maximum"],M);const L=f(e,["minItems"]);L!=null&&d(t,["minItems"],L);const z=f(e,["minLength"]);z!=null&&d(t,["minLength"],z);const H=f(e,["minProperties"]);H!=null&&d(t,["minProperties"],H);const X=f(e,["minimum"]);X!=null&&d(t,["minimum"],X);const j=f(e,["nullable"]);j!=null&&d(t,["nullable"],j);const ne=f(e,["pattern"]);ne!=null&&d(t,["pattern"],ne);const oe=f(e,["properties"]);oe!=null&&d(t,["properties"],oe);const te=f(e,["propertyOrdering"]);te!=null&&d(t,["propertyOrdering"],te);const le=f(e,["required"]);le!=null&&d(t,["required"],le);const k=f(e,["title"]);k!=null&&d(t,["title"],k);const b=f(e,["type"]);return b!=null&&d(t,["type"],b),t}function ob(i,e){const t={};if(f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=f(e,["category"]);n!=null&&d(t,["category"],n);const r=f(e,["threshold"]);return r!=null&&d(t,["threshold"],r),t}function ab(i,e){const t={},n=f(e,["behavior"]);n!=null&&d(t,["behavior"],n);const r=f(e,["description"]);r!=null&&d(t,["description"],r);const a=f(e,["name"]);a!=null&&d(t,["name"],a);const c=f(e,["parameters"]);c!=null&&d(t,["parameters"],c);const h=f(e,["response"]);return h!=null&&d(t,["response"],h),t}function lb(i,e){const t={},n=f(e,["startTime"]);n!=null&&d(t,["startTime"],n);const r=f(e,["endTime"]);return r!=null&&d(t,["endTime"],r),t}function ub(i,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],lb(i,n)),t}function cb(i,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const r=f(e,["dynamicThreshold"]);return r!=null&&d(t,["dynamicThreshold"],r),t}function fb(i,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&d(t,["dynamicRetrievalConfig"],cb(i,n)),t}function db(){return{}}function hb(i,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(g=>ab(i,g))),d(t,["functionDeclarations"],y)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(e,["googleSearch"]);r!=null&&d(t,["googleSearch"],ub(i,r));const a=f(e,["googleSearchRetrieval"]);if(a!=null&&d(t,["googleSearchRetrieval"],fb(i,a)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&d(t,["urlContext"],db());const h=f(e,["codeExecution"]);return h!=null&&d(t,["codeExecution"],h),t}function mb(i,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const r=f(e,["allowedFunctionNames"]);return r!=null&&d(t,["allowedFunctionNames"],r),t}function pb(i,e){const t={},n=f(e,["latitude"]);n!=null&&d(t,["latitude"],n);const r=f(e,["longitude"]);return r!=null&&d(t,["longitude"],r),t}function gb(i,e){const t={},n=f(e,["latLng"]);n!=null&&d(t,["latLng"],pb(i,n));const r=f(e,["languageCode"]);return r!=null&&d(t,["languageCode"],r),t}function yb(i,e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&d(t,["functionCallingConfig"],mb(i,n));const r=f(e,["retrievalConfig"]);return r!=null&&d(t,["retrievalConfig"],gb(i,r)),t}function vb(i,e){const t={},n=f(e,["voiceName"]);return n!=null&&d(t,["voiceName"],n),t}function nE(i,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&d(t,["prebuiltVoiceConfig"],vb(i,n)),t}function _b(i,e){const t={},n=f(e,["speaker"]);n!=null&&d(t,["speaker"],n);const r=f(e,["voiceConfig"]);return r!=null&&d(t,["voiceConfig"],nE(i,r)),t}function Tb(i,e){const t={},n=f(e,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>_b(i,a))),d(t,["speakerVoiceConfigs"],r)}return t}function Eb(i,e){const t={},n=f(e,["voiceConfig"]);n!=null&&d(t,["voiceConfig"],nE(i,n));const r=f(e,["multiSpeakerVoiceConfig"]);r!=null&&d(t,["multiSpeakerVoiceConfig"],Tb(i,r));const a=f(e,["languageCode"]);return a!=null&&d(t,["languageCode"],a),t}function Cb(i,e){const t={},n=f(e,["includeThoughts"]);n!=null&&d(t,["includeThoughts"],n);const r=f(e,["thinkingBudget"]);return r!=null&&d(t,["thinkingBudget"],r),t}function Ab(i,e,t){const n={},r=f(e,["systemInstruction"]);t!==void 0&&r!=null&&d(t,["systemInstruction"],Sf(i,_n(i,r)));const a=f(e,["temperature"]);a!=null&&d(n,["temperature"],a);const c=f(e,["topP"]);c!=null&&d(n,["topP"],c);const h=f(e,["topK"]);h!=null&&d(n,["topK"],h);const y=f(e,["candidateCount"]);y!=null&&d(n,["candidateCount"],y);const g=f(e,["maxOutputTokens"]);g!=null&&d(n,["maxOutputTokens"],g);const _=f(e,["stopSequences"]);_!=null&&d(n,["stopSequences"],_);const E=f(e,["responseLogprobs"]);E!=null&&d(n,["responseLogprobs"],E);const S=f(e,["logprobs"]);S!=null&&d(n,["logprobs"],S);const M=f(e,["presencePenalty"]);M!=null&&d(n,["presencePenalty"],M);const L=f(e,["frequencyPenalty"]);L!=null&&d(n,["frequencyPenalty"],L);const z=f(e,["seed"]);z!=null&&d(n,["seed"],z);const H=f(e,["responseMimeType"]);H!=null&&d(n,["responseMimeType"],H);const X=f(e,["responseSchema"]);if(X!=null&&d(n,["responseSchema"],rb(i,lf(i,X))),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=f(e,["safetySettings"]);if(t!==void 0&&j!=null){let N=j;Array.isArray(N)&&(N=N.map(P=>ob(i,P))),d(t,["safetySettings"],N)}const ne=f(e,["tools"]);if(t!==void 0&&ne!=null){let N=cu(i,ne);Array.isArray(N)&&(N=N.map(P=>hb(i,uu(i,P)))),d(t,["tools"],N)}const oe=f(e,["toolConfig"]);if(t!==void 0&&oe!=null&&d(t,["toolConfig"],yb(i,oe)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=f(e,["cachedContent"]);t!==void 0&&te!=null&&d(t,["cachedContent"],nr(i,te));const le=f(e,["responseModalities"]);le!=null&&d(n,["responseModalities"],le);const k=f(e,["mediaResolution"]);k!=null&&d(n,["mediaResolution"],k);const b=f(e,["speechConfig"]);if(b!=null&&d(n,["speechConfig"],Eb(i,$0(i,b))),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const x=f(e,["thinkingConfig"]);return x!=null&&d(n,["thinkingConfig"],Cb(i,x)),n}function cT(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],dt(i,n));const r=f(e,["contents"]);if(r!=null){let c=di(i,r);Array.isArray(c)&&(c=c.map(h=>Sf(i,h))),d(t,["contents"],c)}const a=f(e,["config"]);return a!=null&&d(t,["generationConfig"],Ab(i,a,t)),t}function Sb(i,e,t){const n={},r=f(e,["taskType"]);t!==void 0&&r!=null&&d(t,["requests[]","taskType"],r);const a=f(e,["title"]);t!==void 0&&a!=null&&d(t,["requests[]","title"],a);const c=f(e,["outputDimensionality"]);if(t!==void 0&&c!=null&&d(t,["requests[]","outputDimensionality"],c),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function xb(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],dt(i,n));const r=f(e,["contents"]);r!=null&&d(t,["requests[]","content"],H0(i,r));const a=f(e,["config"]);a!=null&&d(t,["config"],Sb(i,a,t));const c=f(e,["model"]);return c!==void 0&&d(t,["requests[]","model"],dt(i,c)),t}function wb(i,e,t){const n={};if(f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(e,["numberOfImages"]);t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r);const a=f(e,["aspectRatio"]);t!==void 0&&a!=null&&d(t,["parameters","aspectRatio"],a);const c=f(e,["guidanceScale"]);if(t!==void 0&&c!=null&&d(t,["parameters","guidanceScale"],c),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=f(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&d(t,["parameters","safetySetting"],h);const y=f(e,["personGeneration"]);t!==void 0&&y!=null&&d(t,["parameters","personGeneration"],y);const g=f(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&d(t,["parameters","includeSafetyAttributes"],g);const _=f(e,["includeRaiReason"]);t!==void 0&&_!=null&&d(t,["parameters","includeRaiReason"],_);const E=f(e,["language"]);t!==void 0&&E!=null&&d(t,["parameters","language"],E);const S=f(e,["outputMimeType"]);t!==void 0&&S!=null&&d(t,["parameters","outputOptions","mimeType"],S);const M=f(e,["outputCompressionQuality"]);if(t!==void 0&&M!=null&&d(t,["parameters","outputOptions","compressionQuality"],M),f(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Rb(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],dt(i,n));const r=f(e,["prompt"]);r!=null&&d(t,["instances[0]","prompt"],r);const a=f(e,["config"]);return a!=null&&d(t,["config"],wb(i,a,t)),t}function bb(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","name"],dt(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],r),t}function Ib(i,e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const a=f(e,["pageToken"]);t!==void 0&&a!=null&&d(t,["_query","pageToken"],a);const c=f(e,["filter"]);t!==void 0&&c!=null&&d(t,["_query","filter"],c);const h=f(e,["queryBase"]);return t!==void 0&&h!=null&&d(t,["_url","models_url"],Q0(i,h)),n}function Nb(i,e){const t={},n=f(e,["config"]);return n!=null&&d(t,["config"],Ib(i,n,t)),t}function Mb(i,e,t){const n={},r=f(e,["displayName"]);t!==void 0&&r!=null&&d(t,["displayName"],r);const a=f(e,["description"]);t!==void 0&&a!=null&&d(t,["description"],a);const c=f(e,["defaultCheckpointId"]);return t!==void 0&&c!=null&&d(t,["defaultCheckpointId"],c),n}function Db(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","name"],dt(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],Mb(i,r,t)),t}function Vb(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","name"],dt(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],r),t}function Pb(i,e){const t={};if(f(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function kb(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],dt(i,n));const r=f(e,["contents"]);if(r!=null){let c=di(i,r);Array.isArray(c)&&(c=c.map(h=>Sf(i,h))),d(t,["contents"],c)}const a=f(e,["config"]);return a!=null&&d(t,["config"],Pb(i,a)),t}function Lb(i,e){const t={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(e,["imageBytes"]);n!=null&&d(t,["bytesBase64Encoded"],ir(i,n));const r=f(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function Ob(i,e,t){const n={},r=f(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r),f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=f(e,["durationSeconds"]);if(t!==void 0&&a!=null&&d(t,["parameters","durationSeconds"],a),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=f(e,["aspectRatio"]);if(t!==void 0&&c!=null&&d(t,["parameters","aspectRatio"],c),f(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const h=f(e,["personGeneration"]);if(t!==void 0&&h!=null&&d(t,["parameters","personGeneration"],h),f(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=f(e,["negativePrompt"]);if(t!==void 0&&y!=null&&d(t,["parameters","negativePrompt"],y),f(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");if(f(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return n}function Ub(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],dt(i,n));const r=f(e,["prompt"]);r!=null&&d(t,["instances[0]","prompt"],r);const a=f(e,["image"]);a!=null&&d(t,["instances[0]","image"],Lb(i,a));const c=f(e,["config"]);return c!=null&&d(t,["config"],Ob(i,c,t)),t}function Fb(i,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function Bb(i,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const r=f(e,["data"]);r!=null&&d(t,["data"],r);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function qb(i,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const r=f(e,["fileUri"]);r!=null&&d(t,["fileUri"],r);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function zb(i,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],Fb(i,n));const r=f(e,["thought"]);r!=null&&d(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],Bb(i,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],qb(i,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const _=f(e,["functionCall"]);_!=null&&d(t,["functionCall"],_);const E=f(e,["functionResponse"]);E!=null&&d(t,["functionResponse"],E);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function _a(i,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>zb(i,c))),d(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&d(t,["role"],r),t}function Gb(i,e){const t={},n=f(e,["anyOf"]);n!=null&&d(t,["anyOf"],n);const r=f(e,["default"]);r!=null&&d(t,["default"],r);const a=f(e,["description"]);a!=null&&d(t,["description"],a);const c=f(e,["enum"]);c!=null&&d(t,["enum"],c);const h=f(e,["example"]);h!=null&&d(t,["example"],h);const y=f(e,["format"]);y!=null&&d(t,["format"],y);const g=f(e,["items"]);g!=null&&d(t,["items"],g);const _=f(e,["maxItems"]);_!=null&&d(t,["maxItems"],_);const E=f(e,["maxLength"]);E!=null&&d(t,["maxLength"],E);const S=f(e,["maxProperties"]);S!=null&&d(t,["maxProperties"],S);const M=f(e,["maximum"]);M!=null&&d(t,["maximum"],M);const L=f(e,["minItems"]);L!=null&&d(t,["minItems"],L);const z=f(e,["minLength"]);z!=null&&d(t,["minLength"],z);const H=f(e,["minProperties"]);H!=null&&d(t,["minProperties"],H);const X=f(e,["minimum"]);X!=null&&d(t,["minimum"],X);const j=f(e,["nullable"]);j!=null&&d(t,["nullable"],j);const ne=f(e,["pattern"]);ne!=null&&d(t,["pattern"],ne);const oe=f(e,["properties"]);oe!=null&&d(t,["properties"],oe);const te=f(e,["propertyOrdering"]);te!=null&&d(t,["propertyOrdering"],te);const le=f(e,["required"]);le!=null&&d(t,["required"],le);const k=f(e,["title"]);k!=null&&d(t,["title"],k);const b=f(e,["type"]);return b!=null&&d(t,["type"],b),t}function Hb(i,e){const t={},n=f(e,["featureSelectionPreference"]);return n!=null&&d(t,["featureSelectionPreference"],n),t}function $b(i,e){const t={},n=f(e,["method"]);n!=null&&d(t,["method"],n);const r=f(e,["category"]);r!=null&&d(t,["category"],r);const a=f(e,["threshold"]);return a!=null&&d(t,["threshold"],a),t}function Yb(i,e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(e,["description"]);n!=null&&d(t,["description"],n);const r=f(e,["name"]);r!=null&&d(t,["name"],r);const a=f(e,["parameters"]);a!=null&&d(t,["parameters"],a);const c=f(e,["response"]);return c!=null&&d(t,["response"],c),t}function Kb(i,e){const t={},n=f(e,["startTime"]);n!=null&&d(t,["startTime"],n);const r=f(e,["endTime"]);return r!=null&&d(t,["endTime"],r),t}function Qb(i,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],Kb(i,n)),t}function Zb(i,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const r=f(e,["dynamicThreshold"]);return r!=null&&d(t,["dynamicThreshold"],r),t}function Xb(i,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&d(t,["dynamicRetrievalConfig"],Zb(i,n)),t}function Jb(){return{}}function jb(i,e){const t={},n=f(e,["apiKeyString"]);return n!=null&&d(t,["apiKeyString"],n),t}function Wb(i,e){const t={},n=f(e,["apiKeyConfig"]);n!=null&&d(t,["apiKeyConfig"],jb(i,n));const r=f(e,["authType"]);r!=null&&d(t,["authType"],r);const a=f(e,["googleServiceAccountConfig"]);a!=null&&d(t,["googleServiceAccountConfig"],a);const c=f(e,["httpBasicAuthConfig"]);c!=null&&d(t,["httpBasicAuthConfig"],c);const h=f(e,["oauthConfig"]);h!=null&&d(t,["oauthConfig"],h);const y=f(e,["oidcConfig"]);return y!=null&&d(t,["oidcConfig"],y),t}function eI(i,e){const t={},n=f(e,["authConfig"]);return n!=null&&d(t,["authConfig"],Wb(i,n)),t}function iE(i,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(E=>Yb(i,E))),d(t,["functionDeclarations"],_)}const r=f(e,["retrieval"]);r!=null&&d(t,["retrieval"],r);const a=f(e,["googleSearch"]);a!=null&&d(t,["googleSearch"],Qb(i,a));const c=f(e,["googleSearchRetrieval"]);c!=null&&d(t,["googleSearchRetrieval"],Xb(i,c)),f(e,["enterpriseWebSearch"])!=null&&d(t,["enterpriseWebSearch"],Jb());const y=f(e,["googleMaps"]);if(y!=null&&d(t,["googleMaps"],eI(i,y)),f(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const g=f(e,["codeExecution"]);return g!=null&&d(t,["codeExecution"],g),t}function tI(i,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const r=f(e,["allowedFunctionNames"]);return r!=null&&d(t,["allowedFunctionNames"],r),t}function nI(i,e){const t={},n=f(e,["latitude"]);n!=null&&d(t,["latitude"],n);const r=f(e,["longitude"]);return r!=null&&d(t,["longitude"],r),t}function iI(i,e){const t={},n=f(e,["latLng"]);n!=null&&d(t,["latLng"],nI(i,n));const r=f(e,["languageCode"]);return r!=null&&d(t,["languageCode"],r),t}function sI(i,e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&d(t,["functionCallingConfig"],tI(i,n));const r=f(e,["retrievalConfig"]);return r!=null&&d(t,["retrievalConfig"],iI(i,r)),t}function rI(i,e){const t={},n=f(e,["voiceName"]);return n!=null&&d(t,["voiceName"],n),t}function oI(i,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&d(t,["prebuiltVoiceConfig"],rI(i,n)),t}function aI(i,e){const t={},n=f(e,["voiceConfig"]);if(n!=null&&d(t,["voiceConfig"],oI(i,n)),f(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=f(e,["languageCode"]);return r!=null&&d(t,["languageCode"],r),t}function lI(i,e){const t={},n=f(e,["includeThoughts"]);n!=null&&d(t,["includeThoughts"],n);const r=f(e,["thinkingBudget"]);return r!=null&&d(t,["thinkingBudget"],r),t}function uI(i,e,t){const n={},r=f(e,["systemInstruction"]);t!==void 0&&r!=null&&d(t,["systemInstruction"],_a(i,_n(i,r)));const a=f(e,["temperature"]);a!=null&&d(n,["temperature"],a);const c=f(e,["topP"]);c!=null&&d(n,["topP"],c);const h=f(e,["topK"]);h!=null&&d(n,["topK"],h);const y=f(e,["candidateCount"]);y!=null&&d(n,["candidateCount"],y);const g=f(e,["maxOutputTokens"]);g!=null&&d(n,["maxOutputTokens"],g);const _=f(e,["stopSequences"]);_!=null&&d(n,["stopSequences"],_);const E=f(e,["responseLogprobs"]);E!=null&&d(n,["responseLogprobs"],E);const S=f(e,["logprobs"]);S!=null&&d(n,["logprobs"],S);const M=f(e,["presencePenalty"]);M!=null&&d(n,["presencePenalty"],M);const L=f(e,["frequencyPenalty"]);L!=null&&d(n,["frequencyPenalty"],L);const z=f(e,["seed"]);z!=null&&d(n,["seed"],z);const H=f(e,["responseMimeType"]);H!=null&&d(n,["responseMimeType"],H);const X=f(e,["responseSchema"]);X!=null&&d(n,["responseSchema"],Gb(i,lf(i,X)));const j=f(e,["routingConfig"]);j!=null&&d(n,["routingConfig"],j);const ne=f(e,["modelSelectionConfig"]);ne!=null&&d(n,["modelConfig"],Hb(i,ne));const oe=f(e,["safetySettings"]);if(t!==void 0&&oe!=null){let He=oe;Array.isArray(He)&&(He=He.map(ot=>$b(i,ot))),d(t,["safetySettings"],He)}const te=f(e,["tools"]);if(t!==void 0&&te!=null){let He=cu(i,te);Array.isArray(He)&&(He=He.map(ot=>iE(i,uu(i,ot)))),d(t,["tools"],He)}const le=f(e,["toolConfig"]);t!==void 0&&le!=null&&d(t,["toolConfig"],sI(i,le));const k=f(e,["labels"]);t!==void 0&&k!=null&&d(t,["labels"],k);const b=f(e,["cachedContent"]);t!==void 0&&b!=null&&d(t,["cachedContent"],nr(i,b));const x=f(e,["responseModalities"]);x!=null&&d(n,["responseModalities"],x);const N=f(e,["mediaResolution"]);N!=null&&d(n,["mediaResolution"],N);const P=f(e,["speechConfig"]);P!=null&&d(n,["speechConfig"],aI(i,$0(i,P)));const B=f(e,["audioTimestamp"]);B!=null&&d(n,["audioTimestamp"],B);const V=f(e,["thinkingConfig"]);return V!=null&&d(n,["thinkingConfig"],lI(i,V)),n}function fT(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],dt(i,n));const r=f(e,["contents"]);if(r!=null){let c=di(i,r);Array.isArray(c)&&(c=c.map(h=>_a(i,h))),d(t,["contents"],c)}const a=f(e,["config"]);return a!=null&&d(t,["generationConfig"],uI(i,a,t)),t}function cI(i,e,t){const n={},r=f(e,["taskType"]);t!==void 0&&r!=null&&d(t,["instances[]","task_type"],r);const a=f(e,["title"]);t!==void 0&&a!=null&&d(t,["instances[]","title"],a);const c=f(e,["outputDimensionality"]);t!==void 0&&c!=null&&d(t,["parameters","outputDimensionality"],c);const h=f(e,["mimeType"]);t!==void 0&&h!=null&&d(t,["instances[]","mimeType"],h);const y=f(e,["autoTruncate"]);return t!==void 0&&y!=null&&d(t,["parameters","autoTruncate"],y),n}function fI(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],dt(i,n));const r=f(e,["contents"]);r!=null&&d(t,["instances[]","content"],H0(i,r));const a=f(e,["config"]);return a!=null&&d(t,["config"],cI(i,a,t)),t}function dI(i,e,t){const n={},r=f(e,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const a=f(e,["negativePrompt"]);t!==void 0&&a!=null&&d(t,["parameters","negativePrompt"],a);const c=f(e,["numberOfImages"]);t!==void 0&&c!=null&&d(t,["parameters","sampleCount"],c);const h=f(e,["aspectRatio"]);t!==void 0&&h!=null&&d(t,["parameters","aspectRatio"],h);const y=f(e,["guidanceScale"]);t!==void 0&&y!=null&&d(t,["parameters","guidanceScale"],y);const g=f(e,["seed"]);t!==void 0&&g!=null&&d(t,["parameters","seed"],g);const _=f(e,["safetyFilterLevel"]);t!==void 0&&_!=null&&d(t,["parameters","safetySetting"],_);const E=f(e,["personGeneration"]);t!==void 0&&E!=null&&d(t,["parameters","personGeneration"],E);const S=f(e,["includeSafetyAttributes"]);t!==void 0&&S!=null&&d(t,["parameters","includeSafetyAttributes"],S);const M=f(e,["includeRaiReason"]);t!==void 0&&M!=null&&d(t,["parameters","includeRaiReason"],M);const L=f(e,["language"]);t!==void 0&&L!=null&&d(t,["parameters","language"],L);const z=f(e,["outputMimeType"]);t!==void 0&&z!=null&&d(t,["parameters","outputOptions","mimeType"],z);const H=f(e,["outputCompressionQuality"]);t!==void 0&&H!=null&&d(t,["parameters","outputOptions","compressionQuality"],H);const X=f(e,["addWatermark"]);t!==void 0&&X!=null&&d(t,["parameters","addWatermark"],X);const j=f(e,["enhancePrompt"]);return t!==void 0&&j!=null&&d(t,["parameters","enhancePrompt"],j),n}function hI(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],dt(i,n));const r=f(e,["prompt"]);r!=null&&d(t,["instances[0]","prompt"],r);const a=f(e,["config"]);return a!=null&&d(t,["config"],dI(i,a,t)),t}function Ym(i,e){const t={},n=f(e,["gcsUri"]);n!=null&&d(t,["gcsUri"],n);const r=f(e,["imageBytes"]);r!=null&&d(t,["bytesBase64Encoded"],ir(i,r));const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function mI(i,e){const t={},n=f(e,["maskMode"]);n!=null&&d(t,["maskMode"],n);const r=f(e,["segmentationClasses"]);r!=null&&d(t,["maskClasses"],r);const a=f(e,["maskDilation"]);return a!=null&&d(t,["dilation"],a),t}function pI(i,e){const t={},n=f(e,["controlType"]);n!=null&&d(t,["controlType"],n);const r=f(e,["enableControlImageComputation"]);return r!=null&&d(t,["computeControl"],r),t}function gI(i,e){const t={},n=f(e,["styleDescription"]);return n!=null&&d(t,["styleDescription"],n),t}function yI(i,e){const t={},n=f(e,["subjectType"]);n!=null&&d(t,["subjectType"],n);const r=f(e,["subjectDescription"]);return r!=null&&d(t,["subjectDescription"],r),t}function vI(i,e){const t={},n=f(e,["referenceImage"]);n!=null&&d(t,["referenceImage"],Ym(i,n));const r=f(e,["referenceId"]);r!=null&&d(t,["referenceId"],r);const a=f(e,["referenceType"]);a!=null&&d(t,["referenceType"],a);const c=f(e,["maskImageConfig"]);c!=null&&d(t,["maskImageConfig"],mI(i,c));const h=f(e,["controlImageConfig"]);h!=null&&d(t,["controlImageConfig"],pI(i,h));const y=f(e,["styleImageConfig"]);y!=null&&d(t,["styleImageConfig"],gI(i,y));const g=f(e,["subjectImageConfig"]);return g!=null&&d(t,["subjectImageConfig"],yI(i,g)),t}function _I(i,e,t){const n={},r=f(e,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const a=f(e,["negativePrompt"]);t!==void 0&&a!=null&&d(t,["parameters","negativePrompt"],a);const c=f(e,["numberOfImages"]);t!==void 0&&c!=null&&d(t,["parameters","sampleCount"],c);const h=f(e,["aspectRatio"]);t!==void 0&&h!=null&&d(t,["parameters","aspectRatio"],h);const y=f(e,["guidanceScale"]);t!==void 0&&y!=null&&d(t,["parameters","guidanceScale"],y);const g=f(e,["seed"]);t!==void 0&&g!=null&&d(t,["parameters","seed"],g);const _=f(e,["safetyFilterLevel"]);t!==void 0&&_!=null&&d(t,["parameters","safetySetting"],_);const E=f(e,["personGeneration"]);t!==void 0&&E!=null&&d(t,["parameters","personGeneration"],E);const S=f(e,["includeSafetyAttributes"]);t!==void 0&&S!=null&&d(t,["parameters","includeSafetyAttributes"],S);const M=f(e,["includeRaiReason"]);t!==void 0&&M!=null&&d(t,["parameters","includeRaiReason"],M);const L=f(e,["language"]);t!==void 0&&L!=null&&d(t,["parameters","language"],L);const z=f(e,["outputMimeType"]);t!==void 0&&z!=null&&d(t,["parameters","outputOptions","mimeType"],z);const H=f(e,["outputCompressionQuality"]);t!==void 0&&H!=null&&d(t,["parameters","outputOptions","compressionQuality"],H);const X=f(e,["editMode"]);t!==void 0&&X!=null&&d(t,["parameters","editMode"],X);const j=f(e,["baseSteps"]);return t!==void 0&&j!=null&&d(t,["parameters","editConfig","baseSteps"],j),n}function TI(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],dt(i,n));const r=f(e,["prompt"]);r!=null&&d(t,["instances[0]","prompt"],r);const a=f(e,["referenceImages"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(y=>vI(i,y))),d(t,["instances[0]","referenceImages"],h)}const c=f(e,["config"]);return c!=null&&d(t,["config"],_I(i,c,t)),t}function EI(i,e,t){const n={},r=f(e,["includeRaiReason"]);t!==void 0&&r!=null&&d(t,["parameters","includeRaiReason"],r);const a=f(e,["outputMimeType"]);t!==void 0&&a!=null&&d(t,["parameters","outputOptions","mimeType"],a);const c=f(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&d(t,["parameters","outputOptions","compressionQuality"],c);const h=f(e,["numberOfImages"]);t!==void 0&&h!=null&&d(t,["parameters","sampleCount"],h);const y=f(e,["mode"]);return t!==void 0&&y!=null&&d(t,["parameters","mode"],y),n}function CI(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],dt(i,n));const r=f(e,["image"]);r!=null&&d(t,["instances[0]","image"],Ym(i,r));const a=f(e,["upscaleFactor"]);a!=null&&d(t,["parameters","upscaleConfig","upscaleFactor"],a);const c=f(e,["config"]);return c!=null&&d(t,["config"],EI(i,c,t)),t}function AI(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","name"],dt(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],r),t}function SI(i,e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const a=f(e,["pageToken"]);t!==void 0&&a!=null&&d(t,["_query","pageToken"],a);const c=f(e,["filter"]);t!==void 0&&c!=null&&d(t,["_query","filter"],c);const h=f(e,["queryBase"]);return t!==void 0&&h!=null&&d(t,["_url","models_url"],Q0(i,h)),n}function xI(i,e){const t={},n=f(e,["config"]);return n!=null&&d(t,["config"],SI(i,n,t)),t}function wI(i,e,t){const n={},r=f(e,["displayName"]);t!==void 0&&r!=null&&d(t,["displayName"],r);const a=f(e,["description"]);t!==void 0&&a!=null&&d(t,["description"],a);const c=f(e,["defaultCheckpointId"]);return t!==void 0&&c!=null&&d(t,["defaultCheckpointId"],c),n}function RI(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],dt(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],wI(i,r,t)),t}function bI(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","name"],dt(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],r),t}function II(i,e,t){const n={},r=f(e,["systemInstruction"]);t!==void 0&&r!=null&&d(t,["systemInstruction"],_a(i,_n(i,r)));const a=f(e,["tools"]);if(t!==void 0&&a!=null){let h=a;Array.isArray(h)&&(h=h.map(y=>iE(i,y))),d(t,["tools"],h)}const c=f(e,["generationConfig"]);return t!==void 0&&c!=null&&d(t,["generationConfig"],c),n}function NI(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],dt(i,n));const r=f(e,["contents"]);if(r!=null){let c=di(i,r);Array.isArray(c)&&(c=c.map(h=>_a(i,h))),d(t,["contents"],c)}const a=f(e,["config"]);return a!=null&&d(t,["config"],II(i,a,t)),t}function MI(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],dt(i,n));const r=f(e,["contents"]);if(r!=null){let c=di(i,r);Array.isArray(c)&&(c=c.map(h=>_a(i,h))),d(t,["contents"],c)}const a=f(e,["config"]);return a!=null&&d(t,["config"],a),t}function DI(i,e,t){const n={},r=f(e,["numberOfVideos"]);t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r);const a=f(e,["outputGcsUri"]);t!==void 0&&a!=null&&d(t,["parameters","storageUri"],a);const c=f(e,["fps"]);t!==void 0&&c!=null&&d(t,["parameters","fps"],c);const h=f(e,["durationSeconds"]);t!==void 0&&h!=null&&d(t,["parameters","durationSeconds"],h);const y=f(e,["seed"]);t!==void 0&&y!=null&&d(t,["parameters","seed"],y);const g=f(e,["aspectRatio"]);t!==void 0&&g!=null&&d(t,["parameters","aspectRatio"],g);const _=f(e,["resolution"]);t!==void 0&&_!=null&&d(t,["parameters","resolution"],_);const E=f(e,["personGeneration"]);t!==void 0&&E!=null&&d(t,["parameters","personGeneration"],E);const S=f(e,["pubsubTopic"]);t!==void 0&&S!=null&&d(t,["parameters","pubsubTopic"],S);const M=f(e,["negativePrompt"]);t!==void 0&&M!=null&&d(t,["parameters","negativePrompt"],M);const L=f(e,["enhancePrompt"]);t!==void 0&&L!=null&&d(t,["parameters","enhancePrompt"],L);const z=f(e,["generateAudio"]);return t!==void 0&&z!=null&&d(t,["parameters","generateAudio"],z),n}function VI(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],dt(i,n));const r=f(e,["prompt"]);r!=null&&d(t,["instances[0]","prompt"],r);const a=f(e,["image"]);a!=null&&d(t,["instances[0]","image"],Ym(i,a));const c=f(e,["config"]);return c!=null&&d(t,["config"],DI(i,c,t)),t}function PI(i,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function kI(i,e){const t={},n=f(e,["data"]);n!=null&&d(t,["data"],n);const r=f(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function LI(i,e){const t={},n=f(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function OI(i,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],PI(i,n));const r=f(e,["thought"]);r!=null&&d(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],kI(i,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],LI(i,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const _=f(e,["functionCall"]);_!=null&&d(t,["functionCall"],_);const E=f(e,["functionResponse"]);E!=null&&d(t,["functionResponse"],E);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function UI(i,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>OI(i,c))),d(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&d(t,["role"],r),t}function FI(i,e){const t={},n=f(e,["citationSources"]);return n!=null&&d(t,["citations"],n),t}function BI(i,e){const t={},n=f(e,["retrievedUrl"]);n!=null&&d(t,["retrievedUrl"],n);const r=f(e,["urlRetrievalStatus"]);return r!=null&&d(t,["urlRetrievalStatus"],r),t}function qI(i,e){const t={},n=f(e,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>BI(i,a))),d(t,["urlMetadata"],r)}return t}function zI(i,e){const t={},n=f(e,["content"]);n!=null&&d(t,["content"],UI(i,n));const r=f(e,["citationMetadata"]);r!=null&&d(t,["citationMetadata"],FI(i,r));const a=f(e,["tokenCount"]);a!=null&&d(t,["tokenCount"],a);const c=f(e,["finishReason"]);c!=null&&d(t,["finishReason"],c);const h=f(e,["urlContextMetadata"]);h!=null&&d(t,["urlContextMetadata"],qI(i,h));const y=f(e,["avgLogprobs"]);y!=null&&d(t,["avgLogprobs"],y);const g=f(e,["groundingMetadata"]);g!=null&&d(t,["groundingMetadata"],g);const _=f(e,["index"]);_!=null&&d(t,["index"],_);const E=f(e,["logprobsResult"]);E!=null&&d(t,["logprobsResult"],E);const S=f(e,["safetyRatings"]);return S!=null&&d(t,["safetyRatings"],S),t}function dT(i,e){const t={},n=f(e,["candidates"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>zI(i,y))),d(t,["candidates"],h)}const r=f(e,["modelVersion"]);r!=null&&d(t,["modelVersion"],r);const a=f(e,["promptFeedback"]);a!=null&&d(t,["promptFeedback"],a);const c=f(e,["usageMetadata"]);return c!=null&&d(t,["usageMetadata"],c),t}function GI(i,e){const t={},n=f(e,["values"]);return n!=null&&d(t,["values"],n),t}function HI(){return{}}function $I(i,e){const t={},n=f(e,["embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>GI(i,c))),d(t,["embeddings"],a)}return f(e,["metadata"])!=null&&d(t,["metadata"],HI()),t}function YI(i,e){const t={},n=f(e,["bytesBase64Encoded"]);n!=null&&d(t,["imageBytes"],ir(i,n));const r=f(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function sE(i,e){const t={},n=f(e,["safetyAttributes","categories"]);n!=null&&d(t,["categories"],n);const r=f(e,["safetyAttributes","scores"]);r!=null&&d(t,["scores"],r);const a=f(e,["contentType"]);return a!=null&&d(t,["contentType"],a),t}function KI(i,e){const t={},n=f(e,["_self"]);n!=null&&d(t,["image"],YI(i,n));const r=f(e,["raiFilteredReason"]);r!=null&&d(t,["raiFilteredReason"],r);const a=f(e,["_self"]);return a!=null&&d(t,["safetyAttributes"],sE(i,a)),t}function QI(i,e){const t={},n=f(e,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>KI(i,c))),d(t,["generatedImages"],a)}const r=f(e,["positivePromptSafetyAttributes"]);return r!=null&&d(t,["positivePromptSafetyAttributes"],sE(i,r)),t}function ZI(i,e){const t={},n=f(e,["baseModel"]);n!=null&&d(t,["baseModel"],n);const r=f(e,["createTime"]);r!=null&&d(t,["createTime"],r);const a=f(e,["updateTime"]);return a!=null&&d(t,["updateTime"],a),t}function pm(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const r=f(e,["displayName"]);r!=null&&d(t,["displayName"],r);const a=f(e,["description"]);a!=null&&d(t,["description"],a);const c=f(e,["version"]);c!=null&&d(t,["version"],c);const h=f(e,["_self"]);h!=null&&d(t,["tunedModelInfo"],ZI(i,h));const y=f(e,["inputTokenLimit"]);y!=null&&d(t,["inputTokenLimit"],y);const g=f(e,["outputTokenLimit"]);g!=null&&d(t,["outputTokenLimit"],g);const _=f(e,["supportedGenerationMethods"]);return _!=null&&d(t,["supportedActions"],_),t}function XI(i,e){const t={},n=f(e,["nextPageToken"]);n!=null&&d(t,["nextPageToken"],n);const r=f(e,["_self"]);if(r!=null){let a=Z0(i,r);Array.isArray(a)&&(a=a.map(c=>pm(i,c))),d(t,["models"],a)}return t}function JI(){return{}}function jI(i,e){const t={},n=f(e,["totalTokens"]);n!=null&&d(t,["totalTokens"],n);const r=f(e,["cachedContentTokenCount"]);return r!=null&&d(t,["cachedContentTokenCount"],r),t}function WI(i,e){const t={},n=f(e,["video","uri"]);n!=null&&d(t,["uri"],n);const r=f(e,["video","encodedVideo"]);r!=null&&d(t,["videoBytes"],ir(i,r));const a=f(e,["encoding"]);return a!=null&&d(t,["mimeType"],a),t}function eN(i,e){const t={},n=f(e,["_self"]);return n!=null&&d(t,["video"],WI(i,n)),t}function tN(i,e){const t={},n=f(e,["generatedSamples"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>eN(i,h))),d(t,["generatedVideos"],c)}const r=f(e,["raiMediaFilteredCount"]);r!=null&&d(t,["raiMediaFilteredCount"],r);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function nN(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const r=f(e,["metadata"]);r!=null&&d(t,["metadata"],r);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const c=f(e,["error"]);c!=null&&d(t,["error"],c);const h=f(e,["response","generateVideoResponse"]);return h!=null&&d(t,["response"],tN(i,h)),t}function iN(i,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function sN(i,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const r=f(e,["data"]);r!=null&&d(t,["data"],r);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function rN(i,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const r=f(e,["fileUri"]);r!=null&&d(t,["fileUri"],r);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function oN(i,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],iN(i,n));const r=f(e,["thought"]);r!=null&&d(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],sN(i,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],rN(i,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const _=f(e,["functionCall"]);_!=null&&d(t,["functionCall"],_);const E=f(e,["functionResponse"]);E!=null&&d(t,["functionResponse"],E);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function aN(i,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>oN(i,c))),d(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&d(t,["role"],r),t}function lN(i,e){const t={},n=f(e,["citations"]);return n!=null&&d(t,["citations"],n),t}function uN(i,e){const t={},n=f(e,["content"]);n!=null&&d(t,["content"],aN(i,n));const r=f(e,["citationMetadata"]);r!=null&&d(t,["citationMetadata"],lN(i,r));const a=f(e,["finishMessage"]);a!=null&&d(t,["finishMessage"],a);const c=f(e,["finishReason"]);c!=null&&d(t,["finishReason"],c);const h=f(e,["avgLogprobs"]);h!=null&&d(t,["avgLogprobs"],h);const y=f(e,["groundingMetadata"]);y!=null&&d(t,["groundingMetadata"],y);const g=f(e,["index"]);g!=null&&d(t,["index"],g);const _=f(e,["logprobsResult"]);_!=null&&d(t,["logprobsResult"],_);const E=f(e,["safetyRatings"]);return E!=null&&d(t,["safetyRatings"],E),t}function hT(i,e){const t={},n=f(e,["candidates"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(_=>uN(i,_))),d(t,["candidates"],g)}const r=f(e,["createTime"]);r!=null&&d(t,["createTime"],r);const a=f(e,["responseId"]);a!=null&&d(t,["responseId"],a);const c=f(e,["modelVersion"]);c!=null&&d(t,["modelVersion"],c);const h=f(e,["promptFeedback"]);h!=null&&d(t,["promptFeedback"],h);const y=f(e,["usageMetadata"]);return y!=null&&d(t,["usageMetadata"],y),t}function cN(i,e){const t={},n=f(e,["truncated"]);n!=null&&d(t,["truncated"],n);const r=f(e,["token_count"]);return r!=null&&d(t,["tokenCount"],r),t}function fN(i,e){const t={},n=f(e,["values"]);n!=null&&d(t,["values"],n);const r=f(e,["statistics"]);return r!=null&&d(t,["statistics"],cN(i,r)),t}function dN(i,e){const t={},n=f(e,["billableCharacterCount"]);return n!=null&&d(t,["billableCharacterCount"],n),t}function hN(i,e){const t={},n=f(e,["predictions[]","embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>fN(i,c))),d(t,["embeddings"],a)}const r=f(e,["metadata"]);return r!=null&&d(t,["metadata"],dN(i,r)),t}function mN(i,e){const t={},n=f(e,["gcsUri"]);n!=null&&d(t,["gcsUri"],n);const r=f(e,["bytesBase64Encoded"]);r!=null&&d(t,["imageBytes"],ir(i,r));const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function rE(i,e){const t={},n=f(e,["safetyAttributes","categories"]);n!=null&&d(t,["categories"],n);const r=f(e,["safetyAttributes","scores"]);r!=null&&d(t,["scores"],r);const a=f(e,["contentType"]);return a!=null&&d(t,["contentType"],a),t}function Km(i,e){const t={},n=f(e,["_self"]);n!=null&&d(t,["image"],mN(i,n));const r=f(e,["raiFilteredReason"]);r!=null&&d(t,["raiFilteredReason"],r);const a=f(e,["_self"]);a!=null&&d(t,["safetyAttributes"],rE(i,a));const c=f(e,["prompt"]);return c!=null&&d(t,["enhancedPrompt"],c),t}function pN(i,e){const t={},n=f(e,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>Km(i,c))),d(t,["generatedImages"],a)}const r=f(e,["positivePromptSafetyAttributes"]);return r!=null&&d(t,["positivePromptSafetyAttributes"],rE(i,r)),t}function gN(i,e){const t={},n=f(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>Km(i,a))),d(t,["generatedImages"],r)}return t}function yN(i,e){const t={},n=f(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>Km(i,a))),d(t,["generatedImages"],r)}return t}function vN(i,e){const t={},n=f(e,["endpoint"]);n!=null&&d(t,["name"],n);const r=f(e,["deployedModelId"]);return r!=null&&d(t,["deployedModelId"],r),t}function _N(i,e){const t={},n=f(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(t,["baseModel"],n);const r=f(e,["createTime"]);r!=null&&d(t,["createTime"],r);const a=f(e,["updateTime"]);return a!=null&&d(t,["updateTime"],a),t}function TN(i,e){const t={},n=f(e,["checkpointId"]);n!=null&&d(t,["checkpointId"],n);const r=f(e,["epoch"]);r!=null&&d(t,["epoch"],r);const a=f(e,["step"]);return a!=null&&d(t,["step"],a),t}function gm(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const r=f(e,["displayName"]);r!=null&&d(t,["displayName"],r);const a=f(e,["description"]);a!=null&&d(t,["description"],a);const c=f(e,["versionId"]);c!=null&&d(t,["version"],c);const h=f(e,["deployedModels"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(M=>vN(i,M))),d(t,["endpoints"],S)}const y=f(e,["labels"]);y!=null&&d(t,["labels"],y);const g=f(e,["_self"]);g!=null&&d(t,["tunedModelInfo"],_N(i,g));const _=f(e,["defaultCheckpointId"]);_!=null&&d(t,["defaultCheckpointId"],_);const E=f(e,["checkpoints"]);if(E!=null){let S=E;Array.isArray(S)&&(S=S.map(M=>TN(i,M))),d(t,["checkpoints"],S)}return t}function EN(i,e){const t={},n=f(e,["nextPageToken"]);n!=null&&d(t,["nextPageToken"],n);const r=f(e,["_self"]);if(r!=null){let a=Z0(i,r);Array.isArray(a)&&(a=a.map(c=>gm(i,c))),d(t,["models"],a)}return t}function CN(){return{}}function AN(i,e){const t={},n=f(e,["totalTokens"]);return n!=null&&d(t,["totalTokens"],n),t}function SN(i,e){const t={},n=f(e,["tokensInfo"]);return n!=null&&d(t,["tokensInfo"],n),t}function xN(i,e){const t={},n=f(e,["gcsUri"]);n!=null&&d(t,["uri"],n);const r=f(e,["bytesBase64Encoded"]);r!=null&&d(t,["videoBytes"],ir(i,r));const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function wN(i,e){const t={},n=f(e,["_self"]);return n!=null&&d(t,["video"],xN(i,n)),t}function RN(i,e){const t={},n=f(e,["videos"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>wN(i,h))),d(t,["generatedVideos"],c)}const r=f(e,["raiMediaFilteredCount"]);r!=null&&d(t,["raiMediaFilteredCount"],r);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function bN(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const r=f(e,["metadata"]);r!=null&&d(t,["metadata"],r);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const c=f(e,["error"]);c!=null&&d(t,["error"],c);const h=f(e,["response"]);return h!=null&&d(t,["response"],RN(i,h)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IN="Content-Type",NN="X-Server-Timeout",MN="User-Agent",ym="x-goog-api-client",DN="1.3.0",VN=`google-genai-sdk/${DN}`,PN="v1beta1",kN="v1beta",mT=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class oE extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class vm extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class LN{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:PN,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:kN,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,n){const r=[this.getRequestUrlInternal(t)];return n&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))r.searchParams.append(c,String(h));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,t,e.abortSignal),this.unaryApiCall(r,a,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[r,a]of Object.entries(t))typeof a=="object"?n[r]=Object.assign(Object.assign({},n[r]),a):a!==void 0&&(n[r]=a);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,t,e.abortSignal),this.streamApiCall(r,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n){if(t&&t.timeout||n){const r=new AbortController,a=r.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>r.abort(),t.timeout),n&&n.addEventListener("abort",()=>{r.abort()}),e.signal=a}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async r=>(await pT(r),new fm(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async r=>(await pT(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return ta(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:y}=yield mt(r.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=a.decode(y);try{const E=JSON.parse(g);if("error"in E){const S=JSON.parse(JSON.stringify(E.error)),M=S.status,L=S.code,z=`got status: ${M}. ${JSON.stringify(E)}`;if(L>=400&&L<500)throw new oE(z);if(L>=500&&L<600)throw new vm(z)}}catch(E){const S=E;if(S.name==="ClientError"||S.name==="ServerError")throw E}c+=g;let _=c.match(mT);for(;_;){const E=_[1];try{const S=new Response(E,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield mt(new fm(S)),c=c.slice(_[0].length),_=c.match(mT)}catch(S){throw new Error(`exception parsing stream chunk ${E}. ${S}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},t=VN+" "+this.clientOptions.userAgentExtra;return e[MN]=t,e[ym]=t,e[IN]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[n,r]of Object.entries(e.headers))t.append(n,r);e.timeout&&e.timeout>0&&t.append(NN,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var n;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,c=await a.stat(e);r.sizeBytes=String(c.size);const h=(n=t==null?void 0:t.mimeType)!==null&&n!==void 0?n:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const y=await this.fetchUploadUrl(r,t);return a.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var n;let r={};t!=null&&t.httpOptions?r=t.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},c=await this.request({path:xe("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:r});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(n=c==null?void 0:c.headers)===null||n===void 0?void 0:n["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function pT(i){var e;if(i===void 0)throw new vm("response is undefined");if(!i.ok){const t=i.status,n=i.statusText;let r;!((e=i.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await i.json():r={error:{message:await i.text(),code:i.status,status:i.statusText}};const a=`got status: ${t} ${n}. ${JSON.stringify(r)}`;throw t>=400&&t<500?new oE(a):t>=500&&t<600?new vm(a):new Error(a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ON="mcp_used/unknown";function aE(i){for(const e of i)if(Qm(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function lE(i){var e;const t=(e=i[ym])!==null&&e!==void 0?e:"";i[ym]=(t+` ${ON}`).trimStart()}function UN(i){var e,t,n;return(n=(t=(e=i.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>Qm(r)))!==null&&n!==void 0?n:!1}function FN(i){var e,t,n;return(n=(t=(e=i.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>!Qm(r)))!==null&&n!==void 0?n:!1}function Qm(i){return i!==null&&typeof i=="object"&&i instanceof Zm}function BN(i,e=100){return ta(this,arguments,function*(){let n,r=0;for(;r<e;){const a=yield mt(i.listTools({cursor:n}));for(const c of a.tools)yield yield mt(c),r++;if(!a.nextCursor)break;n=a.nextCursor}})}class Zm{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Zm(e,t)}async initialize(){var e,t,n,r;if(this.mcpTools.length>0)return;const a={},c=[];for(const _ of this.mcpClients)try{for(var h=!0,y=(t=void 0,$l(BN(_))),g;g=await y.next(),e=g.done,!e;h=!0){r=g.value,h=!1;const E=r;c.push(E);const S=E.name;if(a[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);a[S]=_}}catch(E){t={error:E}}finally{try{!h&&!e&&(n=y.return)&&await n.call(y)}finally{if(t)throw t.error}}this.mcpTools=c,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Kx(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const a=await this.functionNameToMcpClient[n.name].callTool({name:n.name,arguments:n.args});t.push({functionResponse:{name:n.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function qN(i,e,t){const n=new Px;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data);const a=eb(i,r);Object.assign(n,a),e(n)}class zN{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),c=$N(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${h}`;let g=()=>{};const _=new Promise(ne=>{g=ne}),E=e.callbacks,S=function(){g({})},M=this.apiClient,L={onopen:S,onmessage:ne=>{qN(M,E.onmessage,ne)},onerror:(t=E==null?void 0:E.onerror)!==null&&t!==void 0?t:function(ne){},onclose:(n=E==null?void 0:E.onclose)!==null&&n!==void 0?n:function(ne){}},z=this.webSocketFactory.create(y,HN(c),L);z.connect(),await _;const H=dt(this.apiClient,e.model),X=eE(this.apiClient,{model:H}),j=mm(this.apiClient,{setup:X});return z.send(JSON.stringify(j)),new GN(z,this.apiClient)}}class GN{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=mR(this.apiClient,e),n=tE(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=pR(this.apiClient,e),n=mm(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const t=mm(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Wo.PLAY)}pause(){this.sendPlaybackControl(Wo.PAUSE)}stop(){this.sendPlaybackControl(Wo.STOP)}resetContext(){this.sendPlaybackControl(Wo.RESET_CONTEXT)}close(){this.conn.close()}}function HN(i){const e={};return i.forEach((t,n)=>{e[n]=t}),e}function $N(i){const e=new Headers;for(const[t,n]of Object.entries(i))e.append(t,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function KN(i,e,t){const n=new Vx;let r;if(t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),i.isVertexAI()){const a=$R(i,r);Object.assign(n,a)}else{const a=HR(i,r);Object.assign(n,a)}e(n)}class QN{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new zN(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,r,a,c,h;const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let _;const E=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&aE(e.config.tools)&&lE(E);const S=jN(E);if(this.apiClient.isVertexAI())_=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const x=this.apiClient.getApiKey();let N="BidiGenerateContent",P="key";x!=null&&x.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),N="BidiGenerateContentConstrained",P="access_token"),_=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${N}?${P}=${x}`}let M=()=>{};const L=new Promise(x=>{M=x}),z=e.callbacks,H=function(){var x;(x=z==null?void 0:z.onopen)===null||x===void 0||x.call(z),M({})},X=this.apiClient,j={onopen:H,onmessage:x=>{KN(X,z.onmessage,x)},onerror:(t=z==null?void 0:z.onerror)!==null&&t!==void 0?t:function(x){},onclose:(n=z==null?void 0:z.onclose)!==null&&n!==void 0?n:function(x){}},ne=this.webSocketFactory.create(_,JN(S),j);ne.connect(),await L;let oe=dt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&oe.startsWith("publishers/")){const x=this.apiClient.getProject(),N=this.apiClient.getLocation();oe=`projects/${x}/locations/${N}/`+oe}let te={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[of.AUDIO]}:e.config.responseModalities=[of.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const le=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],k=[];for(const x of le)if(this.isCallableTool(x)){const N=x;k.push(await N.tool())}else k.push(x);k.length>0&&(e.config.tools=k);const b={model:oe,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?te=aR(this.apiClient,b):te=oR(this.apiClient,b),delete te.config,ne.send(JSON.stringify(te)),new XN(ne,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ZN={turnComplete:!0};class XN{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let n=[];try{n=di(e,t.turns),e.isVertexAI()?n=n.map(r=>_a(e,r)):n=n.map(r=>Sf(e,r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:n,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?n=t.functionResponses:n=[t.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const a of n){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(YN)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},ZN),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:hR(this.apiClient,e)}:t={realtimeInput:dR(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function JN(i){const e={};return i.forEach((t,n)=>{e[n]=t}),e}function jN(i){const e=new Headers;for(const[t,n]of Object.entries(i))e.append(t,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gT=10;function yT(i){var e,t,n;if(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const c of(t=i==null?void 0:i.tools)!==null&&t!==void 0?t:[])if(Yc(c)){r=!0;break}if(!r)return!0;const a=(n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Yc(i){return"callTool"in i&&typeof i.callTool=="function"}function vT(i){var e;return!(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WN extends va{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var n,r,a,c,h;const y=await this.processParamsForMcpUsage(t);if(!UN(t)||yT(t.config))return await this.generateContentInternal(y);if(FN(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let g,_;const E=di(this.apiClient,y.contents),S=(a=(r=(n=y.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:gT;let M=0;for(;M<S&&(g=await this.generateContentInternal(y),!(!g.functionCalls||g.functionCalls.length===0));){const L=g.candidates[0].content,z=[];for(const H of(h=(c=t.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(Yc(H)){const j=await H.callTool(g.functionCalls);z.push(...j)}M++,_={role:"user",parts:z},y.contents=di(this.apiClient,y.contents),y.contents.push(L),y.contents.push(_),vT(y.config)&&(E.push(L),E.push(_))}return vT(y.config)&&(g.automaticFunctionCallingHistory=E),g},this.generateContentStream=async t=>{if(yT(t.config)){const n=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(n)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(n=>{var r;let a;const c=[];if(n!=null&&n.generatedImages)for(const y of n.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=y==null?void 0:y.safetyAttributes:c.push(y);let h;return a?h={generatedImages:c,positivePromptSafetyAttributes:a}:h={generatedImages:c},h}),this.list=async t=>{var n;const c={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((n=c.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Af(fa.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async t=>{const n={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(n.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async t=>{let n={numberOfImages:1,mode:"upscale"};t.config&&(n=Object.assign(Object.assign({},n),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:n};return await this.upscaleImageInternal(r)}}async processParamsForMcpUsage(e){var t,n,r;const a=(t=e.config)===null||t===void 0?void 0:t.tools;if(!a)return e;const c=await Promise.all(a.map(async y=>Yc(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&aE(e.config.tools)){const y=(r=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&r!==void 0?r:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),lE(g),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return h}async initAfcToolsMap(e){var t,n,r;const a=new Map;for(const c of(n=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&n!==void 0?n:[])if(Yc(c)){const h=c,y=await h.tool();for(const g of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!g.name)throw new Error("Function declaration name is required.");if(a.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);a.set(g.name,h)}}return a}async processAfcStream(e){var t,n,r;const a=(r=(n=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&r!==void 0?r:gT;let c=!1,h=0;const y=await this.initAfcToolsMap(e);return(function(g,_,E){var S,M;return ta(this,arguments,function*(){for(var L,z,H,X;h<a;){c&&(h++,c=!1);const te=yield mt(g.processParamsForMcpUsage(E)),le=yield mt(g.generateContentStreamInternal(te)),k=[],b=[];try{for(var j=!0,ne=(z=void 0,$l(le)),oe;oe=yield mt(ne.next()),L=oe.done,!L;j=!0){X=oe.value,j=!1;const x=X;if(yield yield mt(x),x.candidates&&(!((S=x.candidates[0])===null||S===void 0)&&S.content)){b.push(x.candidates[0].content);for(const N of(M=x.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(h<a&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(_.has(N.functionCall.name)){const P=yield mt(_.get(N.functionCall.name).callTool([N.functionCall]));k.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${_.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(x){z={error:x}}finally{try{!j&&!L&&(H=ne.return)&&(yield mt(H.call(ne)))}finally{if(z)throw z.error}}if(k.length>0){c=!0;const x=new Ul;x.candidates=[{content:{role:"user",parts:k}}],yield yield mt(x);const N=[];N.push(...b),N.push({role:"user",parts:k});const P=di(g.apiClient,E.contents).concat(N);E.contents=P}else break}})})(this,y,e)}async generateContentInternal(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=fT(this.apiClient,e);return h=xe("{model}:generateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(_=>_.json()),c.then(_=>{const E=hT(this.apiClient,_),S=new Ul;return Object.assign(S,E),S})}else{const g=cT(this.apiClient,e);return h=xe("{model}:generateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(_=>_.json()),c.then(_=>{const E=dT(this.apiClient,_),S=new Ul;return Object.assign(S,E),S})}}async generateContentStreamInternal(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=fT(this.apiClient,e);h=xe("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g.config,delete g._url,delete g._query;const _=this.apiClient;return c=_.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),c.then(function(E){return ta(this,arguments,function*(){var S,M,L,z;try{for(var H=!0,X=$l(E),j;j=yield mt(X.next()),S=j.done,!S;H=!0){z=j.value,H=!1;const oe=hT(_,yield mt(z.json())),te=new Ul;Object.assign(te,oe),yield yield mt(te)}}catch(ne){M={error:ne}}finally{try{!H&&!S&&(L=X.return)&&(yield mt(L.call(X)))}finally{if(M)throw M.error}}})})}else{const g=cT(this.apiClient,e);h=xe("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g.config,delete g._url,delete g._query;const _=this.apiClient;return c=_.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),c.then(function(E){return ta(this,arguments,function*(){var S,M,L,z;try{for(var H=!0,X=$l(E),j;j=yield mt(X.next()),S=j.done,!S;H=!0){z=j.value,H=!1;const oe=dT(_,yield mt(z.json())),te=new Ul;Object.assign(te,oe),yield yield mt(te)}}catch(ne){M={error:ne}}finally{try{!H&&!S&&(L=X.return)&&(yield mt(L.call(X)))}finally{if(M)throw M.error}}})})}}async embedContent(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=fI(this.apiClient,e);return h=xe("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(_=>_.json()),c.then(_=>{const E=hN(this.apiClient,_),S=new H_;return Object.assign(S,E),S})}else{const g=xb(this.apiClient,e);return h=xe("{model}:batchEmbedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(_=>_.json()),c.then(_=>{const E=$I(this.apiClient,_),S=new H_;return Object.assign(S,E),S})}}async generateImagesInternal(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=hI(this.apiClient,e);return h=xe("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(_=>_.json()),c.then(_=>{const E=pN(this.apiClient,_),S=new $_;return Object.assign(S,E),S})}else{const g=Rb(this.apiClient,e);return h=xe("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(_=>_.json()),c.then(_=>{const E=QI(this.apiClient,_),S=new $_;return Object.assign(S,E),S})}}async editImageInternal(e){var t,n;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=TI(this.apiClient,e);return a=xe("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),r.then(y=>{const g=gN(this.apiClient,y),_=new Rx;return Object.assign(_,g),_})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=CI(this.apiClient,e);return a=xe("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),r.then(y=>{const g=yN(this.apiClient,y),_=new bx;return Object.assign(_,g),_})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=AI(this.apiClient,e);return h=xe("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(_=>_.json()),c.then(_=>gm(this.apiClient,_))}else{const g=bb(this.apiClient,e);return h=xe("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(_=>_.json()),c.then(_=>pm(this.apiClient,_))}}async listInternal(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=xI(this.apiClient,e);return h=xe("{models_url}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(_=>_.json()),c.then(_=>{const E=EN(this.apiClient,_),S=new Y_;return Object.assign(S,E),S})}else{const g=Nb(this.apiClient,e);return h=xe("{models_url}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(_=>_.json()),c.then(_=>{const E=XI(this.apiClient,_),S=new Y_;return Object.assign(S,E),S})}}async update(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=RI(this.apiClient,e);return h=xe("{model}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(_=>_.json()),c.then(_=>gm(this.apiClient,_))}else{const g=Db(this.apiClient,e);return h=xe("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(_=>_.json()),c.then(_=>pm(this.apiClient,_))}}async delete(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=bI(this.apiClient,e);return h=xe("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(_=>_.json()),c.then(()=>{const _=CN(),E=new K_;return Object.assign(E,_),E})}else{const g=Vb(this.apiClient,e);return h=xe("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(_=>_.json()),c.then(()=>{const _=JI(),E=new K_;return Object.assign(E,_),E})}}async countTokens(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=NI(this.apiClient,e);return h=xe("{model}:countTokens",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(_=>_.json()),c.then(_=>{const E=AN(this.apiClient,_),S=new Q_;return Object.assign(S,E),S})}else{const g=kb(this.apiClient,e);return h=xe("{model}:countTokens",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(_=>_.json()),c.then(_=>{const E=jI(this.apiClient,_),S=new Q_;return Object.assign(S,E),S})}}async computeTokens(e){var t,n;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=MI(this.apiClient,e);return a=xe("{model}:computeTokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),r.then(y=>{const g=SN(this.apiClient,y),_=new Ix;return Object.assign(_,g),_})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=VI(this.apiClient,e);return h=xe("{model}:predictLongRunning",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(_=>_.json()),c.then(_=>bN(this.apiClient,_))}else{const g=Ub(this.apiClient,e);return h=xe("{model}:predictLongRunning",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(_=>_.json()),c.then(_=>nN(this.apiClient,_))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eM(i,e){const t={},n=f(e,["operationName"]);n!=null&&d(t,["_url","operationName"],n);const r=f(e,["config"]);return r!=null&&d(t,["config"],r),t}function tM(i,e){const t={},n=f(e,["operationName"]);n!=null&&d(t,["_url","operationName"],n);const r=f(e,["config"]);return r!=null&&d(t,["config"],r),t}function nM(i,e){const t={},n=f(e,["operationName"]);n!=null&&d(t,["operationName"],n);const r=f(e,["resourceName"]);r!=null&&d(t,["_url","resourceName"],r);const a=f(e,["config"]);return a!=null&&d(t,["config"],a),t}function iM(i,e){const t={},n=f(e,["video","uri"]);n!=null&&d(t,["uri"],n);const r=f(e,["video","encodedVideo"]);r!=null&&d(t,["videoBytes"],ir(i,r));const a=f(e,["encoding"]);return a!=null&&d(t,["mimeType"],a),t}function sM(i,e){const t={},n=f(e,["_self"]);return n!=null&&d(t,["video"],iM(i,n)),t}function rM(i,e){const t={},n=f(e,["generatedSamples"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>sM(i,h))),d(t,["generatedVideos"],c)}const r=f(e,["raiMediaFilteredCount"]);r!=null&&d(t,["raiMediaFilteredCount"],r);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function oM(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const r=f(e,["metadata"]);r!=null&&d(t,["metadata"],r);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const c=f(e,["error"]);c!=null&&d(t,["error"],c);const h=f(e,["response","generateVideoResponse"]);return h!=null&&d(t,["response"],rM(i,h)),t}function aM(i,e){const t={},n=f(e,["gcsUri"]);n!=null&&d(t,["uri"],n);const r=f(e,["bytesBase64Encoded"]);r!=null&&d(t,["videoBytes"],ir(i,r));const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function lM(i,e){const t={},n=f(e,["_self"]);return n!=null&&d(t,["video"],aM(i,n)),t}function uM(i,e){const t={},n=f(e,["videos"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>lM(i,h))),d(t,["generatedVideos"],c)}const r=f(e,["raiMediaFilteredCount"]);r!=null&&d(t,["raiMediaFilteredCount"],r);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function _T(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const r=f(e,["metadata"]);r!=null&&d(t,["metadata"],r);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const c=f(e,["error"]);c!=null&&d(t,["error"],c);const h=f(e,["response"]);return h!=null&&d(t,["response"],uM(i,h)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cM extends va{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let a;return n&&"httpOptions"in n&&(a=n.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:t.name,config:n})}async getVideosOperationInternal(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=tM(this.apiClient,e);return h=xe("{operationName}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(_=>_.json()),c.then(_=>_T(this.apiClient,_))}else{const g=eM(this.apiClient,e);return h=xe("{operationName}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(_=>_.json()),c.then(_=>oM(this.apiClient,_))}}async fetchPredictVideosOperationInternal(e){var t,n;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=nM(this.apiClient,e);return a=xe("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),r.then(y=>_T(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fM(i,e){const t={},n=f(e,["voiceName"]);return n!=null&&d(t,["voiceName"],n),t}function uE(i,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&d(t,["prebuiltVoiceConfig"],fM(i,n)),t}function dM(i,e){const t={},n=f(e,["speaker"]);n!=null&&d(t,["speaker"],n);const r=f(e,["voiceConfig"]);return r!=null&&d(t,["voiceConfig"],uE(i,r)),t}function hM(i,e){const t={},n=f(e,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>dM(i,a))),d(t,["speakerVoiceConfigs"],r)}return t}function mM(i,e){const t={},n=f(e,["voiceConfig"]);n!=null&&d(t,["voiceConfig"],uE(i,n));const r=f(e,["multiSpeakerVoiceConfig"]);r!=null&&d(t,["multiSpeakerVoiceConfig"],hM(i,r));const a=f(e,["languageCode"]);return a!=null&&d(t,["languageCode"],a),t}function pM(i,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function gM(i,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&d(t,["data"],n);const r=f(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function yM(i,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function vM(i,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],pM(i,n));const r=f(e,["thought"]);r!=null&&d(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],gM(i,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],yM(i,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const _=f(e,["functionCall"]);_!=null&&d(t,["functionCall"],_);const E=f(e,["functionResponse"]);E!=null&&d(t,["functionResponse"],E);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function _M(i,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>vM(i,c))),d(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&d(t,["role"],r),t}function TM(i,e){const t={},n=f(e,["behavior"]);n!=null&&d(t,["behavior"],n);const r=f(e,["description"]);r!=null&&d(t,["description"],r);const a=f(e,["name"]);a!=null&&d(t,["name"],a);const c=f(e,["parameters"]);c!=null&&d(t,["parameters"],c);const h=f(e,["response"]);return h!=null&&d(t,["response"],h),t}function EM(i,e){const t={},n=f(e,["startTime"]);n!=null&&d(t,["startTime"],n);const r=f(e,["endTime"]);return r!=null&&d(t,["endTime"],r),t}function CM(i,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],EM(i,n)),t}function AM(i,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const r=f(e,["dynamicThreshold"]);return r!=null&&d(t,["dynamicThreshold"],r),t}function SM(i,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&d(t,["dynamicRetrievalConfig"],AM(i,n)),t}function xM(){return{}}function wM(i,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(g=>TM(i,g))),d(t,["functionDeclarations"],y)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(e,["googleSearch"]);r!=null&&d(t,["googleSearch"],CM(i,r));const a=f(e,["googleSearchRetrieval"]);if(a!=null&&d(t,["googleSearchRetrieval"],SM(i,a)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&d(t,["urlContext"],xM());const h=f(e,["codeExecution"]);return h!=null&&d(t,["codeExecution"],h),t}function RM(i,e){const t={},n=f(e,["handle"]);if(n!=null&&d(t,["handle"],n),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function TT(){return{}}function bM(i,e){const t={},n=f(e,["disabled"]);n!=null&&d(t,["disabled"],n);const r=f(e,["startOfSpeechSensitivity"]);r!=null&&d(t,["startOfSpeechSensitivity"],r);const a=f(e,["endOfSpeechSensitivity"]);a!=null&&d(t,["endOfSpeechSensitivity"],a);const c=f(e,["prefixPaddingMs"]);c!=null&&d(t,["prefixPaddingMs"],c);const h=f(e,["silenceDurationMs"]);return h!=null&&d(t,["silenceDurationMs"],h),t}function IM(i,e){const t={},n=f(e,["automaticActivityDetection"]);n!=null&&d(t,["automaticActivityDetection"],bM(i,n));const r=f(e,["activityHandling"]);r!=null&&d(t,["activityHandling"],r);const a=f(e,["turnCoverage"]);return a!=null&&d(t,["turnCoverage"],a),t}function NM(i,e){const t={},n=f(e,["targetTokens"]);return n!=null&&d(t,["targetTokens"],n),t}function MM(i,e){const t={},n=f(e,["triggerTokens"]);n!=null&&d(t,["triggerTokens"],n);const r=f(e,["slidingWindow"]);return r!=null&&d(t,["slidingWindow"],NM(i,r)),t}function DM(i,e){const t={},n=f(e,["proactiveAudio"]);return n!=null&&d(t,["proactiveAudio"],n),t}function VM(i,e,t){const n={},r=f(e,["generationConfig"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig"],r);const a=f(e,["responseModalities"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","responseModalities"],a);const c=f(e,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const h=f(e,["topP"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","topP"],h);const y=f(e,["topK"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","topK"],y);const g=f(e,["maxOutputTokens"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","maxOutputTokens"],g);const _=f(e,["mediaResolution"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","mediaResolution"],_);const E=f(e,["seed"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","seed"],E);const S=f(e,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],mM(i,$m(i,S)));const M=f(e,["enableAffectiveDialog"]);t!==void 0&&M!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],M);const L=f(e,["systemInstruction"]);t!==void 0&&L!=null&&d(t,["setup","systemInstruction"],_M(i,_n(i,L)));const z=f(e,["tools"]);if(t!==void 0&&z!=null){let le=cu(i,z);Array.isArray(le)&&(le=le.map(k=>wM(i,uu(i,k)))),d(t,["setup","tools"],le)}const H=f(e,["sessionResumption"]);t!==void 0&&H!=null&&d(t,["setup","sessionResumption"],RM(i,H));const X=f(e,["inputAudioTranscription"]);t!==void 0&&X!=null&&d(t,["setup","inputAudioTranscription"],TT());const j=f(e,["outputAudioTranscription"]);t!==void 0&&j!=null&&d(t,["setup","outputAudioTranscription"],TT());const ne=f(e,["realtimeInputConfig"]);t!==void 0&&ne!=null&&d(t,["setup","realtimeInputConfig"],IM(i,ne));const oe=f(e,["contextWindowCompression"]);t!==void 0&&oe!=null&&d(t,["setup","contextWindowCompression"],MM(i,oe));const te=f(e,["proactivity"]);return t!==void 0&&te!=null&&d(t,["setup","proactivity"],DM(i,te)),n}function PM(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["setup","model"],dt(i,n));const r=f(e,["config"]);return r!=null&&d(t,["config"],VM(i,r,t)),t}function kM(i,e,t){const n={},r=f(e,["expireTime"]);t!==void 0&&r!=null&&d(t,["expireTime"],r);const a=f(e,["newSessionExpireTime"]);t!==void 0&&a!=null&&d(t,["newSessionExpireTime"],a);const c=f(e,["uses"]);t!==void 0&&c!=null&&d(t,["uses"],c);const h=f(e,["liveConnectConstraints"]);t!==void 0&&h!=null&&d(t,["bidiGenerateContentSetup"],PM(i,h));const y=f(e,["lockAdditionalFields"]);return t!==void 0&&y!=null&&d(t,["fieldMask"],y),n}function LM(i,e){const t={},n=f(e,["config"]);return n!=null&&d(t,["config"],kM(i,n,t)),t}function OM(i,e){const t={},n=f(e,["name"]);return n!=null&&d(t,["name"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UM(i){const e=[];for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)){const n=i[t];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const r=Object.keys(n).map(a=>`${t}.${a}`);e.push(...r)}else e.push(t)}return e.join(",")}function FM(i,e){let t=null;const n=i.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const a=n.setup;typeof a=="object"&&a!==null?(i.bidiGenerateContentSetup=a,t=a):delete i.bidiGenerateContentSetup}else n!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(t){const a=UM(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?i.fieldMask=a:delete i.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(g=>c.includes(g)?`generationConfig.${g}`:g));const y=[];a&&y.push(a),h.length>0&&y.push(...h),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class BM extends va{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=LM(this.apiClient,e);a=xe("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const y=FM(h,e.config);return r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),r.then(g=>OM(this.apiClient,g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qM(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","name"],n);const r=f(e,["config"]);return r!=null&&d(t,["config"],r),t}function zM(i,e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const a=f(e,["pageToken"]);t!==void 0&&a!=null&&d(t,["_query","pageToken"],a);const c=f(e,["filter"]);return t!==void 0&&c!=null&&d(t,["_query","filter"],c),n}function GM(i,e){const t={},n=f(e,["config"]);return n!=null&&d(t,["config"],zM(i,n,t)),t}function HM(i,e){const t={},n=f(e,["textInput"]);n!=null&&d(t,["textInput"],n);const r=f(e,["output"]);return r!=null&&d(t,["output"],r),t}function $M(i,e){const t={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(e,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>HM(i,a))),d(t,["examples","examples"],r)}return t}function YM(i,e,t){const n={};if(f(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=f(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&d(t,["displayName"],r),f(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=f(e,["epochCount"]);t!==void 0&&a!=null&&d(t,["tuningTask","hyperparameters","epochCount"],a);const c=f(e,["learningRateMultiplier"]);if(c!=null&&d(n,["tuningTask","hyperparameters","learningRateMultiplier"],c),f(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=f(e,["batchSize"]);t!==void 0&&h!=null&&d(t,["tuningTask","hyperparameters","batchSize"],h);const y=f(e,["learningRate"]);return t!==void 0&&y!=null&&d(t,["tuningTask","hyperparameters","learningRate"],y),n}function KM(i,e){const t={},n=f(e,["baseModel"]);n!=null&&d(t,["baseModel"],n);const r=f(e,["trainingDataset"]);r!=null&&d(t,["tuningTask","trainingData"],$M(i,r));const a=f(e,["config"]);return a!=null&&d(t,["config"],YM(i,a,t)),t}function QM(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","name"],n);const r=f(e,["config"]);return r!=null&&d(t,["config"],r),t}function ZM(i,e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const a=f(e,["pageToken"]);t!==void 0&&a!=null&&d(t,["_query","pageToken"],a);const c=f(e,["filter"]);return t!==void 0&&c!=null&&d(t,["_query","filter"],c),n}function XM(i,e){const t={},n=f(e,["config"]);return n!=null&&d(t,["config"],ZM(i,n,t)),t}function JM(i,e,t){const n={},r=f(e,["gcsUri"]);if(t!==void 0&&r!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],r),f(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function jM(i,e){const t={},n=f(e,["gcsUri"]);return n!=null&&d(t,["validationDatasetUri"],n),t}function WM(i,e,t){const n={},r=f(e,["validationDataset"]);t!==void 0&&r!=null&&d(t,["supervisedTuningSpec"],jM(i,r));const a=f(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&d(t,["tunedModelDisplayName"],a);const c=f(e,["description"]);t!==void 0&&c!=null&&d(t,["description"],c);const h=f(e,["epochCount"]);t!==void 0&&h!=null&&d(t,["supervisedTuningSpec","hyperParameters","epochCount"],h);const y=f(e,["learningRateMultiplier"]);t!==void 0&&y!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const g=f(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&d(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g);const _=f(e,["adapterSize"]);if(t!==void 0&&_!=null&&d(t,["supervisedTuningSpec","hyperParameters","adapterSize"],_),f(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function e2(i,e){const t={},n=f(e,["baseModel"]);n!=null&&d(t,["baseModel"],n);const r=f(e,["trainingDataset"]);r!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],JM(i,r,t));const a=f(e,["config"]);return a!=null&&d(t,["config"],WM(i,a,t)),t}function t2(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["model"],n);const r=f(e,["name"]);return r!=null&&d(t,["endpoint"],r),t}function cE(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const r=f(e,["state"]);r!=null&&d(t,["state"],Y0(i,r));const a=f(e,["createTime"]);a!=null&&d(t,["createTime"],a);const c=f(e,["tuningTask","startTime"]);c!=null&&d(t,["startTime"],c);const h=f(e,["tuningTask","completeTime"]);h!=null&&d(t,["endTime"],h);const y=f(e,["updateTime"]);y!=null&&d(t,["updateTime"],y);const g=f(e,["description"]);g!=null&&d(t,["description"],g);const _=f(e,["baseModel"]);_!=null&&d(t,["baseModel"],_);const E=f(e,["_self"]);E!=null&&d(t,["tunedModel"],t2(i,E));const S=f(e,["distillationSpec"]);S!=null&&d(t,["distillationSpec"],S);const M=f(e,["experiment"]);M!=null&&d(t,["experiment"],M);const L=f(e,["labels"]);L!=null&&d(t,["labels"],L);const z=f(e,["pipelineJob"]);z!=null&&d(t,["pipelineJob"],z);const H=f(e,["serviceAccount"]);H!=null&&d(t,["serviceAccount"],H);const X=f(e,["tunedModelDisplayName"]);return X!=null&&d(t,["tunedModelDisplayName"],X),t}function n2(i,e){const t={},n=f(e,["nextPageToken"]);n!=null&&d(t,["nextPageToken"],n);const r=f(e,["tunedModels"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>cE(i,c))),d(t,["tuningJobs"],a)}return t}function i2(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const r=f(e,["metadata"]);r!=null&&d(t,["metadata"],r);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const c=f(e,["error"]);return c!=null&&d(t,["error"],c),t}function s2(i,e){const t={},n=f(e,["checkpointId"]);n!=null&&d(t,["checkpointId"],n);const r=f(e,["epoch"]);r!=null&&d(t,["epoch"],r);const a=f(e,["step"]);a!=null&&d(t,["step"],a);const c=f(e,["endpoint"]);return c!=null&&d(t,["endpoint"],c),t}function r2(i,e){const t={},n=f(e,["model"]);n!=null&&d(t,["model"],n);const r=f(e,["endpoint"]);r!=null&&d(t,["endpoint"],r);const a=f(e,["checkpoints"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>s2(i,h))),d(t,["checkpoints"],c)}return t}function _m(i,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const r=f(e,["state"]);r!=null&&d(t,["state"],Y0(i,r));const a=f(e,["createTime"]);a!=null&&d(t,["createTime"],a);const c=f(e,["startTime"]);c!=null&&d(t,["startTime"],c);const h=f(e,["endTime"]);h!=null&&d(t,["endTime"],h);const y=f(e,["updateTime"]);y!=null&&d(t,["updateTime"],y);const g=f(e,["error"]);g!=null&&d(t,["error"],g);const _=f(e,["description"]);_!=null&&d(t,["description"],_);const E=f(e,["baseModel"]);E!=null&&d(t,["baseModel"],E);const S=f(e,["tunedModel"]);S!=null&&d(t,["tunedModel"],r2(i,S));const M=f(e,["supervisedTuningSpec"]);M!=null&&d(t,["supervisedTuningSpec"],M);const L=f(e,["tuningDataStats"]);L!=null&&d(t,["tuningDataStats"],L);const z=f(e,["encryptionSpec"]);z!=null&&d(t,["encryptionSpec"],z);const H=f(e,["partnerModelTuningSpec"]);H!=null&&d(t,["partnerModelTuningSpec"],H);const X=f(e,["distillationSpec"]);X!=null&&d(t,["distillationSpec"],X);const j=f(e,["experiment"]);j!=null&&d(t,["experiment"],j);const ne=f(e,["labels"]);ne!=null&&d(t,["labels"],ne);const oe=f(e,["pipelineJob"]);oe!=null&&d(t,["pipelineJob"],oe);const te=f(e,["serviceAccount"]);te!=null&&d(t,["serviceAccount"],te);const le=f(e,["tunedModelDisplayName"]);return le!=null&&d(t,["tunedModelDisplayName"],le),t}function o2(i,e){const t={},n=f(e,["nextPageToken"]);n!=null&&d(t,["nextPageToken"],n);const r=f(e,["tuningJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>_m(i,c))),d(t,["tuningJobs"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a2 extends va{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Af(fa.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const n=await this.tuneMldevInternal(t);let r="";return n.metadata!==void 0&&n.metadata.tunedModel!==void 0?r=n.metadata.tunedModel:n.name!==void 0&&n.name.includes("/operations/")&&(r=n.name.split("/operations/")[0]),{name:r,state:cm.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=QM(this.apiClient,e);return h=xe("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(_=>_.json()),c.then(_=>_m(this.apiClient,_))}else{const g=qM(this.apiClient,e);return h=xe("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(_=>_.json()),c.then(_=>cE(this.apiClient,_))}}async listInternal(e){var t,n,r,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=XM(this.apiClient,e);return h=xe("tuningJobs",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(_=>_.json()),c.then(_=>{const E=o2(this.apiClient,_),S=new Z_;return Object.assign(S,E),S})}else{const g=GM(this.apiClient,e);return h=xe("tunedModels",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(_=>_.json()),c.then(_=>{const E=n2(this.apiClient,_),S=new Z_;return Object.assign(S,E),S})}}async tuneInternal(e){var t,n;let r,a="",c={};if(this.apiClient.isVertexAI()){const h=e2(this.apiClient,e);return a=xe("tuningJobs",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),r.then(y=>_m(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=KM(this.apiClient,e);return a=xe("tunedModels",h._url),c=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),r.then(y=>i2(this.apiClient,y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l2{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const u2=1024*1024*8,c2=3,f2=1e3,d2=2,$h="x-goog-upload-status";async function h2(i,e,t){var n,r,a;let c=0,h=0,y=new fm(new Response),g="upload";for(c=i.size;h<c;){const E=Math.min(u2,c-h),S=i.slice(h,h+E);h+E>=c&&(g+=", finalize");let M=0,L=f2;for(;M<c2&&(y=await t.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(h),"Content-Length":String(E)}}}),!(!((n=y==null?void 0:y.headers)===null||n===void 0)&&n[$h]));)M++,await p2(L),L=L*d2;if(h+=E,((r=y==null?void 0:y.headers)===null||r===void 0?void 0:r[$h])!=="active")break;if(c<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const _=await(y==null?void 0:y.json());if(((a=y==null?void 0:y.headers)===null||a===void 0?void 0:a[$h])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return _.file}async function m2(i){return{size:i.size,type:i.type}}function p2(i){return new Promise(e=>setTimeout(e,i))}class g2{async upload(e,t,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await h2(e,t,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await m2(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y2{create(e,t,n){return new v2(e,t,n)}}class v2{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ET="x-goog-api-key";class _2{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(ET)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ET,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T2="gl-node/";class E2{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const n=wx(e,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const r=new _2(this.apiKey);this.apiClient=new LN({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:T2+"web",uploader:new g2,downloader:new l2}),this.models=new WN(this.apiClient),this.live=new QN(this.apiClient,r,new y2),this.chats=new j1(this.models,this.apiClient),this.caches=new Z1(this.apiClient),this.files=new fw(this.apiClient),this.operations=new cM(this.apiClient),this.authTokens=new BM(this.apiClient),this.tunings=new a2(this.apiClient)}}const C2=async i=>{const e=new E2({apiKey:void 0}),t=Object.entries(i).map(([n,r])=>`${n}: ${r.join(", ")}`).join(`
`);try{return(await e.models.generateContent({model:"gemini-3-flash-preview",contents:`O usurio montou o seguinte kit semanal de marmitas congeladas organizado por dias da semana:
      ${t}
      
      Como um nutricionista especialista, d um feedback curto e motivador sobre esse planejamento semanal em portugus brasileiro. 
      Analise se a distribuio das refeies ao longo dos dias est variada e equilibrada.
      Mantenha o tom profissional mas acolhedor. No mximo 3 pargrafos curtos.`,config:{maxOutputTokens:500,temperature:.7}})).text||"Seu planejamento semanal est excelente! Uma jornada nutritiva e saborosa te espera."}catch(n){return console.error("Gemini Insight Error:",n),"Sua escolha foi excelente! Equilbrio e sabor para todos os seus dias."}},CT=({selection:i,onFinish:e})=>{const[t,n]=et.useState(null),[r,a]=et.useState(!1),c=Object.values(i).reduce((_,E)=>_+Object.keys(E).length,0),h=c===35,y=et.useMemo(()=>Object.values(i).reduce((_,E)=>_+Object.values(E).reduce((S,M)=>S+((M==null?void 0:M.price)||0),0),0),[i]),g=async()=>{a(!0);const _={};Kr.forEach(S=>{const M=i[S]||{};_[S]=Object.values(M).map(L=>L.name)});const E=await C2(_);n(E),a(!1)};return w.jsxs("div",{className:"h-fit",children:[w.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-3 text-slate-800 border-b pb-2",children:[w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-[#A61919]",children:w.jsx("path",{fillRule:"evenodd",d:"M7.5 6v.75H5.513c-.96 0-1.764.724-1.865 1.679l-1.263 12A1.875 1.875 0 0 0 4.25 22.5h15.5a1.875 1.875 0 0 0 1.865-2.071l-1.263-12a1.875 1.875 0 0 0-1.865-1.679H16.5V6a4.5 4.5 0 1 0-9 0ZM12 3a3 3 0 0 0-3 3v.75h6V6a3 3 0 0 0-3-3Zm-3 8.25a.75.75 0 0 1 .75-.75H13.5a.75.75 0 0 1 0 1.5H9.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),"Progresso do Kit"]}),w.jsx("div",{className:"space-y-3 mb-8",children:Kr.map(_=>{const E=Object.keys(i[_]||{}).length,S=E===O0.length;return w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("span",{className:`text-[11px] font-bold tracking-tight ${S?"text-[#009246]":"text-slate-400 uppercase"}`,children:_}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("span",{className:`text-[10px] font-black ${S?"text-[#009246]":"text-slate-300"}`,children:[E,"/5"]}),S?w.jsx("div",{className:"w-2 h-2 rounded-full bg-[#009246] shadow-lg shadow-[#009246]/30 animate-pulse"}):w.jsx("div",{className:"w-2 h-2 rounded-full border-2 border-slate-100"})]})]},_)})}),w.jsxs("div",{className:"bg-[#F9F4ED] rounded-2xl p-4 mb-6 text-center border border-[#A61919]/5",children:[w.jsx("div",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest mb-1",children:"Total Estimado"}),w.jsxs("div",{className:"text-3xl font-black text-[#A61919] tracking-tighter",children:["R$ ",y.toFixed(2)]}),w.jsxs("div",{className:"text-[8px] text-slate-300 font-bold uppercase mt-1",children:[c,"/35 Itens"]})]}),w.jsx("button",{disabled:!h,onClick:e,className:`w-full py-4 rounded-xl font-bold text-base transition-all shadow-lg ${h?"bg-[#A61919] text-white hover:bg-[#8C1515] shadow-[#A61919]/30":"bg-slate-100 text-slate-300 cursor-not-allowed"}`,children:"FINALIZAR KIT"}),h&&w.jsx("button",{onClick:g,disabled:r,className:"mt-4 w-full flex items-center justify-center gap-2 text-[#009246] font-bold text-xs hover:underline",children:r?w.jsx("div",{className:"w-3 h-3 border-2 border-[#009246] border-t-transparent rounded-full animate-spin"}):"Anlise Nutricional Matelli"}),t&&w.jsx("div",{className:"mt-6 p-4 bg-[#F9F4ED] rounded-2xl border-l-4 border-[#009246] animate-fade-in",children:w.jsxs("p",{className:"text-[11px] text-slate-700 leading-relaxed font-medium italic",children:['"',t,'"']})})]})},A2=({category:i,selectedMeal:e,onSelect:t,customCatalog:n})=>{const[r,a]=L0.useState(!1),c=(n||[]).filter(h=>h.category===i);return w.jsxs("div",{className:"mb-6",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[w.jsx("h3",{className:"text-xl font-bold text-[#A61919] min-w-[120px]",children:i}),w.jsx("div",{className:"h-px flex-grow bg-slate-100"})]}),e&&!r?w.jsxs("div",{className:"bg-[#F9F4ED] rounded-[2rem] p-4 sm:p-6 border border-[#A61919]/10 flex flex-col sm:flex-row items-start sm:items-center gap-4 sm:gap-6 animate-fade-in hover:shadow-lg transition-all",children:[w.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[w.jsx("img",{src:e.image,className:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-2xl shadow-md border-2 border-white flex-shrink-0",alt:e.name}),w.jsxs("div",{className:"flex-grow sm:hidden",children:[w.jsx("h4",{className:"text-lg font-bold text-slate-800 leading-tight",children:e.name}),w.jsxs("div",{className:"flex gap-2 mt-1 items-center",children:[w.jsx("span",{className:"text-[8px] bg-white px-2 py-0.5 rounded-full text-[#A61919] font-black uppercase tracking-widest border border-[#A61919]/10",children:e.weight}),w.jsxs("span",{className:"text-[10px] font-black text-[#A61919]",children:["R$ ",e.price.toFixed(2)]})]})]})]}),w.jsxs("div",{className:"flex-grow hidden sm:block",children:[w.jsx("h4",{className:"text-xl font-bold text-slate-800",children:e.name}),w.jsxs("div",{className:"mt-2 flex gap-3 items-center",children:[w.jsx("span",{className:"text-[9px] bg-white px-3 py-1 rounded-full text-[#A61919] font-black uppercase tracking-widest border border-[#A61919]/20",children:e.weight}),w.jsxs("span",{className:"text-lg font-black text-[#A61919]",children:["R$ ",e.price.toFixed(2)]}),w.jsx("span",{className:"text-[9px] bg-[#009246] px-3 py-1 rounded-full text-white font-black uppercase tracking-widest",children:"Selecionado"})]})]}),w.jsx("button",{onClick:()=>a(!0),className:"w-full sm:w-auto text-[#A61919] font-black text-[10px] uppercase tracking-widest bg-white sm:bg-transparent hover:bg-white px-6 py-3 rounded-xl border border-[#A61919]/10 transition-all text-center",children:"TROCAR"})]}):w.jsxs("div",{className:"bg-white rounded-[2rem] p-6 border-2 border-dashed border-slate-100 hover:border-[#A61919]/20 transition-all",children:[w.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.map(h=>w.jsxs("button",{onClick:()=>{t(h),a(!1)},className:`flex flex-col text-left group transition-all rounded-2xl overflow-hidden border-2 ${(e==null?void 0:e.id)===h.id?"border-[#A61919] ring-4 ring-[#A61919]/5":"border-[#F9F4ED] hover:border-[#A61919]/20"}`,children:[w.jsxs("div",{className:"relative h-24 sm:h-28 overflow-hidden",children:[w.jsx("img",{src:h.image,className:"h-full w-full object-cover group-hover:scale-110 transition-transform duration-700"}),w.jsx("div",{className:"absolute bottom-2 right-2 bg-white/90 backdrop-blur-sm px-2 py-0.5 rounded text-[8px] font-black text-[#A61919] uppercase tracking-widest",children:h.weight})]}),w.jsxs("div",{className:"p-3 bg-white",children:[w.jsx("h5",{className:"font-bold text-[11px] sm:text-sm text-slate-800 line-clamp-1",children:h.name}),w.jsxs("p",{className:"text-[11px] text-[#A61919] font-black mt-1",children:["R$ ",h.price.toFixed(2)]})]})]},h.id)),c.length===0&&w.jsx("p",{className:"col-span-full text-slate-300 font-bold uppercase text-[9px] tracking-widest text-center py-6",children:"Nenhum item disponvel"})]}),r&&w.jsx("button",{onClick:()=>a(!1),className:"mt-4 w-full text-slate-400 text-[10px] font-black uppercase tracking-widest hover:text-[#A61919] transition-colors",children:"Fechar Opes"})]})]})},S2=({meal:i,count:e,onAdd:t,onRemove:n,isMaxed:r})=>w.jsxs("div",{className:"bg-white rounded-[2rem] shadow-sm hover:shadow-2xl transition-all duration-500 overflow-hidden border border-[#A61919]/5 flex flex-col h-full group",children:[w.jsxs("div",{className:"relative h-64 overflow-hidden",children:[w.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000"}),w.jsx("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:i.tags.map(a=>w.jsx("span",{className:"px-3 py-1 bg-[#009246] text-[9px] font-black uppercase tracking-widest text-white rounded-lg shadow-lg",children:a},a))}),w.jsx("div",{className:"absolute top-4 right-4",children:w.jsx("span",{className:"bg-white/90 backdrop-blur-sm px-3 py-1 rounded-lg text-[10px] font-black text-[#A61919] uppercase tracking-widest border border-[#A61919]/20 shadow-sm",children:i.weight})}),e>0&&w.jsx("div",{className:"absolute inset-0 bg-[#A61919]/5 backdrop-blur-[1px]"})]}),w.jsxs("div",{className:"p-8 flex flex-col flex-grow",children:[w.jsx("div",{className:"mb-3",children:w.jsx("h3",{className:"text-2xl font-bold text-slate-800 leading-tight group-hover:text-[#A61919] transition-colors",children:i.name})}),w.jsx("p",{className:"text-slate-500 text-sm line-clamp-2 mb-8 flex-grow leading-relaxed font-medium",children:i.description}),w.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"Preo"}),w.jsxs("span",{className:"text-[#A61919] font-black text-2xl tracking-tighter",children:["R$ ",i.price.toFixed(2)]})]}),w.jsxs("div",{className:"flex items-center bg-[#F9F4ED] p-1.5 rounded-2xl border border-[#A61919]/5",children:[w.jsx("button",{onClick:()=>n(i),disabled:e===0,className:`p-2.5 rounded-xl transition-all ${e===0?"text-slate-300":"text-slate-600 hover:bg-white active:scale-90"}`,children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:"currentColor",className:"w-5 h-5",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12H6"})})}),w.jsx("span",{className:`text-lg font-black w-10 text-center ${e>0?"text-[#A61919]":"text-slate-300"}`,children:e}),w.jsx("button",{onClick:()=>t(i),disabled:r,className:`p-2.5 rounded-xl transition-all ${r?"text-slate-200":"text-[#A61919] hover:bg-white active:scale-90"}`,children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:"currentColor",className:"w-5 h-5",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})]})]})]})]}),x2=()=>{};var AT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=function(i){const e=[];let t=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},w2=function(i){const e=[];let t=0,n=0;for(;t<i.length;){const r=i[t++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const a=i[t++];e[n++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=i[t++],c=i[t++],h=i[t++],y=((r&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[n++]=String.fromCharCode(55296+(y>>10)),e[n++]=String.fromCharCode(56320+(y&1023))}else{const a=i[t++],c=i[t++];e[n++]=String.fromCharCode((r&15)<<12|(a&63)<<6|c&63)}}return e.join("")},dE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){const a=i[r],c=r+1<i.length,h=c?i[r+1]:0,y=r+2<i.length,g=y?i[r+2]:0,_=a>>2,E=(a&3)<<4|h>>4;let S=(h&15)<<2|g>>6,M=g&63;y||(M=64,c||(S=64)),n.push(t[_],t[E],t[S],t[M])}return n.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(fE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):w2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){const a=t[i.charAt(r++)],h=r<i.length?t[i.charAt(r)]:0;++r;const g=r<i.length?t[i.charAt(r)]:64;++r;const E=r<i.length?t[i.charAt(r)]:64;if(++r,a==null||h==null||g==null||E==null)throw new R2;const S=a<<2|h>>4;if(n.push(S),g!==64){const M=h<<4&240|g>>2;if(n.push(M),E!==64){const L=g<<6&192|E;n.push(L)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class R2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b2=function(i){const e=fE(i);return dE.encodeByteArray(e,!0)},uf=function(i){return b2(i).replace(/\./g,"")},I2=function(i){try{return dE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=()=>N2().__FIREBASE_DEFAULTS__,D2=()=>{if(typeof process>"u"||typeof AT>"u")return;const i=AT.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},V2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&I2(i[1]);return e&&JSON.parse(e)},Xm=()=>{try{return x2()||M2()||D2()||V2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},P2=i=>{var e,t;return(t=(e=Xm())==null?void 0:e.emulatorHosts)==null?void 0:t[i]},k2=i=>{const e=P2(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},hE=()=>{var i;return(i=Xm())==null?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O2(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",r=i.iat||0,a=i.sub||i.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...i};return[uf(JSON.stringify(t)),uf(JSON.stringify(c)),""].join(".")}const Yl={};function F2(){const i={prod:[],emulator:[]};for(const e of Object.keys(Yl))Yl[e]?i.emulator.push(e):i.prod.push(e);return i}function B2(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let ST=!1;function q2(i,e){if(typeof window>"u"||typeof document>"u"||!Jm(window.location.host)||Yl[i]===e||Yl[i]||ST)return;Yl[i]=e;function t(S){return`__firebase__banner__${S}`}const n="__firebase__banner",a=F2().prod.length>0;function c(){const S=document.getElementById(n);S&&S.remove()}function h(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{ST=!0,c()},S}function _(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=B2(n),M=t("text"),L=document.getElementById(M)||document.createElement("span"),z=t("learnmore"),H=document.getElementById(z)||document.createElement("a"),X=t("preprendIcon"),j=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ne=S.element;h(ne),_(H,z);const oe=g();y(j,X),ne.append(j,L,H,oe),document.body.appendChild(ne)}a?(L.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G2(){var e;const i=(e=Xm())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H2(){return!G2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $2(){try{return typeof indexedDB=="object"}catch{return!1}}function Y2(){return new Promise((i,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var a;e(((a=r.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="FirebaseError";class Ta extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=K2,Object.setPrototypeOf(this,Ta.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mE.prototype.create)}}class mE{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],c=a?Q2(a,n):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Ta(r,h,n)}}function Q2(i,e){return i.replace(Z2,(t,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const Z2=/\{\$([^}]+)}/g;function cf(i,e){if(i===e)return!0;const t=Object.keys(i),n=Object.keys(e);for(const r of t){if(!n.includes(r))return!1;const a=i[r],c=e[r];if(xT(a)&&xT(c)){if(!cf(a,c))return!1}else if(a!==c)return!1}for(const r of n)if(!t.includes(r))return!1;return!0}function xT(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(i){return i&&i._delegate?i._delegate:i}class jl{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new L2;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(n)return null;throw r}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j2(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:r});n.resolve(a)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);n===h&&c.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const a=this.instances.get(n);return a&&e(a,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:J2(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J2(i){return i===$r?void 0:i}function j2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new X2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Qe||(Qe={}));const eD={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},tD=Qe.INFO,nD={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},iD=(i,e,...t)=>{if(e<i.logLevel)return;const n=new Date().toISOString(),r=nD[e];if(r)console[r](`[${n}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pE{constructor(e){this.name=e,this._logLevel=tD,this._logHandler=iD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const sD=(i,e)=>e.some(t=>i instanceof t);let wT,RT;function rD(){return wT||(wT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oD(){return RT||(RT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gE=new WeakMap,Tm=new WeakMap,yE=new WeakMap,Yh=new WeakMap,jm=new WeakMap;function aD(i){const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("success",a),i.removeEventListener("error",c)},a=()=>{t($s(i.result)),r()},c=()=>{n(i.error),r()};i.addEventListener("success",a),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&gE.set(t,i)}).catch(()=>{}),jm.set(e,i),e}function lD(i){if(Tm.has(i))return;const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("complete",a),i.removeEventListener("error",c),i.removeEventListener("abort",c)},a=()=>{t(),r()},c=()=>{n(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",a),i.addEventListener("error",c),i.addEventListener("abort",c)});Tm.set(i,e)}let Em={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Tm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||yE.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $s(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function uD(i){Em=i(Em)}function cD(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=i.call(Kh(this),e,...t);return yE.set(n,e.sort?e.sort():[e]),$s(n)}:oD().includes(i)?function(...e){return i.apply(Kh(this),e),$s(gE.get(this))}:function(...e){return $s(i.apply(Kh(this),e))}}function fD(i){return typeof i=="function"?cD(i):(i instanceof IDBTransaction&&lD(i),sD(i,rD())?new Proxy(i,Em):i)}function $s(i){if(i instanceof IDBRequest)return aD(i);if(Yh.has(i))return Yh.get(i);const e=fD(i);return e!==i&&(Yh.set(i,e),jm.set(e,i)),e}const Kh=i=>jm.get(i);function dD(i,e,{blocked:t,upgrade:n,blocking:r,terminated:a}={}){const c=indexedDB.open(i,e),h=$s(c);return n&&c.addEventListener("upgradeneeded",y=>{n($s(c.result),y.oldVersion,y.newVersion,$s(c.transaction),y)}),t&&c.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),h.then(y=>{a&&y.addEventListener("close",()=>a()),r&&y.addEventListener("versionchange",g=>r(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const hD=["get","getKey","getAll","getAllKeys","count"],mD=["put","add","delete","clear"],Qh=new Map;function bT(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Qh.get(e))return Qh.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,r=mD.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(r||hD.includes(t)))return;const a=async function(c,...h){const y=this.transaction(c,r?"readwrite":"readonly");let g=y.store;return n&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),r&&y.done]))[0]};return Qh.set(e,a),a}uD(i=>({...i,get:(e,t,n)=>bT(e,t)||i.get(e,t,n),has:(e,t)=>!!bT(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(gD(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function gD(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cm="@firebase/app",IT="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new pE("@firebase/app"),yD="@firebase/app-compat",vD="@firebase/analytics-compat",_D="@firebase/analytics",TD="@firebase/app-check-compat",ED="@firebase/app-check",CD="@firebase/auth",AD="@firebase/auth-compat",SD="@firebase/database",xD="@firebase/data-connect",wD="@firebase/database-compat",RD="@firebase/functions",bD="@firebase/functions-compat",ID="@firebase/installations",ND="@firebase/installations-compat",MD="@firebase/messaging",DD="@firebase/messaging-compat",VD="@firebase/performance",PD="@firebase/performance-compat",kD="@firebase/remote-config",LD="@firebase/remote-config-compat",OD="@firebase/storage",UD="@firebase/storage-compat",FD="@firebase/firestore",BD="@firebase/ai",qD="@firebase/firestore-compat",zD="firebase",GD="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",HD={[Cm]:"fire-core",[yD]:"fire-core-compat",[_D]:"fire-analytics",[vD]:"fire-analytics-compat",[ED]:"fire-app-check",[TD]:"fire-app-check-compat",[CD]:"fire-auth",[AD]:"fire-auth-compat",[SD]:"fire-rtdb",[xD]:"fire-data-connect",[wD]:"fire-rtdb-compat",[RD]:"fire-fn",[bD]:"fire-fn-compat",[ID]:"fire-iid",[ND]:"fire-iid-compat",[MD]:"fire-fcm",[DD]:"fire-fcm-compat",[VD]:"fire-perf",[PD]:"fire-perf-compat",[kD]:"fire-rc",[LD]:"fire-rc-compat",[OD]:"fire-gcs",[UD]:"fire-gcs-compat",[FD]:"fire-fst",[qD]:"fire-fst-compat",[BD]:"fire-vertex","fire-js":"fire-js",[zD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new Map,$D=new Map,Sm=new Map;function NT(i,e){try{i.container.addComponent(e)}catch(t){os.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ff(i){const e=i.name;if(Sm.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,i);for(const t of Wl.values())NT(t,i);for(const t of $D.values())NT(t,i);return!0}function YD(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function KD(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new mE("app","Firebase",QD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=GD;function vE(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const n={name:Am,automaticDataCollectionEnabled:!0,...e},r=n.name;if(typeof r!="string"||!r)throw Ys.create("bad-app-name",{appName:String(r)});if(t||(t=hE()),!t)throw Ys.create("no-options");const a=Wl.get(r);if(a){if(cf(t,a.options)&&cf(n,a.config))return a;throw Ys.create("duplicate-app",{appName:r})}const c=new W2(r);for(const y of Sm.values())c.addComponent(y);const h=new ZD(t,n,c);return Wl.set(r,h),h}function _E(i=Am){const e=Wl.get(i);if(!e&&i===Am&&hE())return vE();if(!e)throw Ys.create("no-app",{appName:i});return e}function JD(){return Array.from(Wl.values())}function na(i,e,t){let n=HD[i]??i;t&&(n+=`-${t}`);const r=n.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const c=[`Unable to register library "${n}" with version "${e}":`];r&&c.push(`library name "${n}" contains illegal characters (whitespace or "/")`),r&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(c.join(" "));return}ff(new jl(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="firebase-heartbeat-database",WD=1,eu="firebase-heartbeat-store";let Zh=null;function TE(){return Zh||(Zh=dD(jD,WD,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(eu)}catch(t){console.warn(t)}}}}).catch(i=>{throw Ys.create("idb-open",{originalErrorMessage:i.message})})),Zh}async function eV(i){try{const t=(await TE()).transaction(eu),n=await t.objectStore(eu).get(EE(i));return await t.done,n}catch(e){if(e instanceof Ta)os.warn(e.message);else{const t=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});os.warn(t.message)}}}async function MT(i,e){try{const n=(await TE()).transaction(eu,"readwrite");await n.objectStore(eu).put(e,EE(i)),await n.done}catch(t){if(t instanceof Ta)os.warn(t.message);else{const n=Ys.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});os.warn(n.message)}}}function EE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=1024,nV=30;class iV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rV(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=DT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>nV){const c=oV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){os.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=DT(),{heartbeatsToSend:n,unsentEntries:r}=sV(this._heartbeatsCache.heartbeats),a=uf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return os.warn(t),""}}}function DT(){return new Date().toISOString().substring(0,10)}function sV(i,e=tV){const t=[];let n=i.slice();for(const r of i){const a=t.find(c=>c.agent===r.agent);if(a){if(a.dates.push(r.date),VT(t)>e){a.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),VT(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class rV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $2()?Y2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await eV(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return MT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return MT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function VT(i){return uf(JSON.stringify({version:2,heartbeats:i})).length}function oV(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let n=1;n<i.length;n++)i[n].date<t&&(t=i[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(i){ff(new jl("platform-logger",e=>new pD(e),"PRIVATE")),ff(new jl("heartbeat",e=>new iV(e),"PRIVATE")),na(Cm,IT,i),na(Cm,IT,"esm2020"),na("fire-js","")}aV("");var lV="firebase",uV="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */na(lV,uV,"app");var PT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,CE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,b){function x(){}x.prototype=b.prototype,k.F=b.prototype,k.prototype=new x,k.prototype.constructor=k,k.D=function(N,P,B){for(var V=Array(arguments.length-2),He=2;He<arguments.length;He++)V[He-2]=arguments[He];return b.prototype[P].apply(N,V)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(k,b,x){x||(x=0);const N=Array(16);if(typeof b=="string")for(var P=0;P<16;++P)N[P]=b.charCodeAt(x++)|b.charCodeAt(x++)<<8|b.charCodeAt(x++)<<16|b.charCodeAt(x++)<<24;else for(P=0;P<16;++P)N[P]=b[x++]|b[x++]<<8|b[x++]<<16|b[x++]<<24;b=k.g[0],x=k.g[1],P=k.g[2];let B=k.g[3],V;V=b+(B^x&(P^B))+N[0]+3614090360&4294967295,b=x+(V<<7&4294967295|V>>>25),V=B+(P^b&(x^P))+N[1]+3905402710&4294967295,B=b+(V<<12&4294967295|V>>>20),V=P+(x^B&(b^x))+N[2]+606105819&4294967295,P=B+(V<<17&4294967295|V>>>15),V=x+(b^P&(B^b))+N[3]+3250441966&4294967295,x=P+(V<<22&4294967295|V>>>10),V=b+(B^x&(P^B))+N[4]+4118548399&4294967295,b=x+(V<<7&4294967295|V>>>25),V=B+(P^b&(x^P))+N[5]+1200080426&4294967295,B=b+(V<<12&4294967295|V>>>20),V=P+(x^B&(b^x))+N[6]+2821735955&4294967295,P=B+(V<<17&4294967295|V>>>15),V=x+(b^P&(B^b))+N[7]+4249261313&4294967295,x=P+(V<<22&4294967295|V>>>10),V=b+(B^x&(P^B))+N[8]+1770035416&4294967295,b=x+(V<<7&4294967295|V>>>25),V=B+(P^b&(x^P))+N[9]+2336552879&4294967295,B=b+(V<<12&4294967295|V>>>20),V=P+(x^B&(b^x))+N[10]+4294925233&4294967295,P=B+(V<<17&4294967295|V>>>15),V=x+(b^P&(B^b))+N[11]+2304563134&4294967295,x=P+(V<<22&4294967295|V>>>10),V=b+(B^x&(P^B))+N[12]+1804603682&4294967295,b=x+(V<<7&4294967295|V>>>25),V=B+(P^b&(x^P))+N[13]+4254626195&4294967295,B=b+(V<<12&4294967295|V>>>20),V=P+(x^B&(b^x))+N[14]+2792965006&4294967295,P=B+(V<<17&4294967295|V>>>15),V=x+(b^P&(B^b))+N[15]+1236535329&4294967295,x=P+(V<<22&4294967295|V>>>10),V=b+(P^B&(x^P))+N[1]+4129170786&4294967295,b=x+(V<<5&4294967295|V>>>27),V=B+(x^P&(b^x))+N[6]+3225465664&4294967295,B=b+(V<<9&4294967295|V>>>23),V=P+(b^x&(B^b))+N[11]+643717713&4294967295,P=B+(V<<14&4294967295|V>>>18),V=x+(B^b&(P^B))+N[0]+3921069994&4294967295,x=P+(V<<20&4294967295|V>>>12),V=b+(P^B&(x^P))+N[5]+3593408605&4294967295,b=x+(V<<5&4294967295|V>>>27),V=B+(x^P&(b^x))+N[10]+38016083&4294967295,B=b+(V<<9&4294967295|V>>>23),V=P+(b^x&(B^b))+N[15]+3634488961&4294967295,P=B+(V<<14&4294967295|V>>>18),V=x+(B^b&(P^B))+N[4]+3889429448&4294967295,x=P+(V<<20&4294967295|V>>>12),V=b+(P^B&(x^P))+N[9]+568446438&4294967295,b=x+(V<<5&4294967295|V>>>27),V=B+(x^P&(b^x))+N[14]+3275163606&4294967295,B=b+(V<<9&4294967295|V>>>23),V=P+(b^x&(B^b))+N[3]+4107603335&4294967295,P=B+(V<<14&4294967295|V>>>18),V=x+(B^b&(P^B))+N[8]+1163531501&4294967295,x=P+(V<<20&4294967295|V>>>12),V=b+(P^B&(x^P))+N[13]+2850285829&4294967295,b=x+(V<<5&4294967295|V>>>27),V=B+(x^P&(b^x))+N[2]+4243563512&4294967295,B=b+(V<<9&4294967295|V>>>23),V=P+(b^x&(B^b))+N[7]+1735328473&4294967295,P=B+(V<<14&4294967295|V>>>18),V=x+(B^b&(P^B))+N[12]+2368359562&4294967295,x=P+(V<<20&4294967295|V>>>12),V=b+(x^P^B)+N[5]+4294588738&4294967295,b=x+(V<<4&4294967295|V>>>28),V=B+(b^x^P)+N[8]+2272392833&4294967295,B=b+(V<<11&4294967295|V>>>21),V=P+(B^b^x)+N[11]+1839030562&4294967295,P=B+(V<<16&4294967295|V>>>16),V=x+(P^B^b)+N[14]+4259657740&4294967295,x=P+(V<<23&4294967295|V>>>9),V=b+(x^P^B)+N[1]+2763975236&4294967295,b=x+(V<<4&4294967295|V>>>28),V=B+(b^x^P)+N[4]+1272893353&4294967295,B=b+(V<<11&4294967295|V>>>21),V=P+(B^b^x)+N[7]+4139469664&4294967295,P=B+(V<<16&4294967295|V>>>16),V=x+(P^B^b)+N[10]+3200236656&4294967295,x=P+(V<<23&4294967295|V>>>9),V=b+(x^P^B)+N[13]+681279174&4294967295,b=x+(V<<4&4294967295|V>>>28),V=B+(b^x^P)+N[0]+3936430074&4294967295,B=b+(V<<11&4294967295|V>>>21),V=P+(B^b^x)+N[3]+3572445317&4294967295,P=B+(V<<16&4294967295|V>>>16),V=x+(P^B^b)+N[6]+76029189&4294967295,x=P+(V<<23&4294967295|V>>>9),V=b+(x^P^B)+N[9]+3654602809&4294967295,b=x+(V<<4&4294967295|V>>>28),V=B+(b^x^P)+N[12]+3873151461&4294967295,B=b+(V<<11&4294967295|V>>>21),V=P+(B^b^x)+N[15]+530742520&4294967295,P=B+(V<<16&4294967295|V>>>16),V=x+(P^B^b)+N[2]+3299628645&4294967295,x=P+(V<<23&4294967295|V>>>9),V=b+(P^(x|~B))+N[0]+4096336452&4294967295,b=x+(V<<6&4294967295|V>>>26),V=B+(x^(b|~P))+N[7]+1126891415&4294967295,B=b+(V<<10&4294967295|V>>>22),V=P+(b^(B|~x))+N[14]+2878612391&4294967295,P=B+(V<<15&4294967295|V>>>17),V=x+(B^(P|~b))+N[5]+4237533241&4294967295,x=P+(V<<21&4294967295|V>>>11),V=b+(P^(x|~B))+N[12]+1700485571&4294967295,b=x+(V<<6&4294967295|V>>>26),V=B+(x^(b|~P))+N[3]+2399980690&4294967295,B=b+(V<<10&4294967295|V>>>22),V=P+(b^(B|~x))+N[10]+4293915773&4294967295,P=B+(V<<15&4294967295|V>>>17),V=x+(B^(P|~b))+N[1]+2240044497&4294967295,x=P+(V<<21&4294967295|V>>>11),V=b+(P^(x|~B))+N[8]+1873313359&4294967295,b=x+(V<<6&4294967295|V>>>26),V=B+(x^(b|~P))+N[15]+4264355552&4294967295,B=b+(V<<10&4294967295|V>>>22),V=P+(b^(B|~x))+N[6]+2734768916&4294967295,P=B+(V<<15&4294967295|V>>>17),V=x+(B^(P|~b))+N[13]+1309151649&4294967295,x=P+(V<<21&4294967295|V>>>11),V=b+(P^(x|~B))+N[4]+4149444226&4294967295,b=x+(V<<6&4294967295|V>>>26),V=B+(x^(b|~P))+N[11]+3174756917&4294967295,B=b+(V<<10&4294967295|V>>>22),V=P+(b^(B|~x))+N[2]+718787259&4294967295,P=B+(V<<15&4294967295|V>>>17),V=x+(B^(P|~b))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+b&4294967295,k.g[1]=k.g[1]+(P+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+B&4294967295}n.prototype.v=function(k,b){b===void 0&&(b=k.length);const x=b-this.blockSize,N=this.C;let P=this.h,B=0;for(;B<b;){if(P==0)for(;B<=x;)r(this,k,B),B+=this.blockSize;if(typeof k=="string"){for(;B<b;)if(N[P++]=k.charCodeAt(B++),P==this.blockSize){r(this,N),P=0;break}}else for(;B<b;)if(N[P++]=k[B++],P==this.blockSize){r(this,N),P=0;break}}this.h=P,this.o+=b},n.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var b=1;b<k.length-8;++b)k[b]=0;b=this.o*8;for(var x=k.length-8;x<k.length;++x)k[x]=b&255,b/=256;for(this.v(k),k=Array(16),b=0,x=0;x<4;++x)for(let N=0;N<32;N+=8)k[b++]=this.g[x]>>>N&255;return k};function a(k,b){var x=h;return Object.prototype.hasOwnProperty.call(x,k)?x[k]:x[k]=b(k)}function c(k,b){this.h=b;const x=[];let N=!0;for(let P=k.length-1;P>=0;P--){const B=k[P]|0;N&&B==b||(x[P]=B,N=!1)}this.g=x}var h={};function y(k){return-128<=k&&k<128?a(k,function(b){return new c([b|0],b<0?-1:0)}):new c([k|0],k<0?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return E;if(k<0)return H(g(-k));const b=[];let x=1;for(let N=0;k>=x;N++)b[N]=k/x|0,x*=4294967296;return new c(b,0)}function _(k,b){if(k.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(k.charAt(0)=="-")return H(_(k.substring(1),b));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(b,8));let N=E;for(let B=0;B<k.length;B+=8){var P=Math.min(8,k.length-B);const V=parseInt(k.substring(B,B+P),b);P<8?(P=g(Math.pow(b,P)),N=N.j(P).add(g(V))):(N=N.j(x),N=N.add(g(V)))}return N}var E=y(0),S=y(1),M=y(16777216);i=c.prototype,i.m=function(){if(z(this))return-H(this).m();let k=0,b=1;for(let x=0;x<this.g.length;x++){const N=this.i(x);k+=(N>=0?N:4294967296+N)*b,b*=4294967296}return k},i.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(L(this))return"0";if(z(this))return"-"+H(this).toString(k);const b=g(Math.pow(k,6));var x=this;let N="";for(;;){const P=oe(x,b).g;x=X(x,P.j(b));let B=((x.g.length>0?x.g[0]:x.h)>>>0).toString(k);if(x=P,L(x))return B+N;for(;B.length<6;)B="0"+B;N=B+N}},i.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function L(k){if(k.h!=0)return!1;for(let b=0;b<k.g.length;b++)if(k.g[b]!=0)return!1;return!0}function z(k){return k.h==-1}i.l=function(k){return k=X(this,k),z(k)?-1:L(k)?0:1};function H(k){const b=k.g.length,x=[];for(let N=0;N<b;N++)x[N]=~k.g[N];return new c(x,~k.h).add(S)}i.abs=function(){return z(this)?H(this):this},i.add=function(k){const b=Math.max(this.g.length,k.g.length),x=[];let N=0;for(let P=0;P<=b;P++){let B=N+(this.i(P)&65535)+(k.i(P)&65535),V=(B>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);N=V>>>16,B&=65535,V&=65535,x[P]=V<<16|B}return new c(x,x[x.length-1]&-2147483648?-1:0)};function X(k,b){return k.add(H(b))}i.j=function(k){if(L(this)||L(k))return E;if(z(this))return z(k)?H(this).j(H(k)):H(H(this).j(k));if(z(k))return H(this.j(H(k)));if(this.l(M)<0&&k.l(M)<0)return g(this.m()*k.m());const b=this.g.length+k.g.length,x=[];for(var N=0;N<2*b;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(let P=0;P<k.g.length;P++){const B=this.i(N)>>>16,V=this.i(N)&65535,He=k.i(P)>>>16,ot=k.i(P)&65535;x[2*N+2*P]+=V*ot,j(x,2*N+2*P),x[2*N+2*P+1]+=B*ot,j(x,2*N+2*P+1),x[2*N+2*P+1]+=V*He,j(x,2*N+2*P+1),x[2*N+2*P+2]+=B*He,j(x,2*N+2*P+2)}for(k=0;k<b;k++)x[k]=x[2*k+1]<<16|x[2*k];for(k=b;k<2*b;k++)x[k]=0;return new c(x,0)};function j(k,b){for(;(k[b]&65535)!=k[b];)k[b+1]+=k[b]>>>16,k[b]&=65535,b++}function ne(k,b){this.g=k,this.h=b}function oe(k,b){if(L(b))throw Error("division by zero");if(L(k))return new ne(E,E);if(z(k))return b=oe(H(k),b),new ne(H(b.g),H(b.h));if(z(b))return b=oe(k,H(b)),new ne(H(b.g),b.h);if(k.g.length>30){if(z(k)||z(b))throw Error("slowDivide_ only works with positive integers.");for(var x=S,N=b;N.l(k)<=0;)x=te(x),N=te(N);var P=le(x,1),B=le(N,1);for(N=le(N,2),x=le(x,2);!L(N);){var V=B.add(N);V.l(k)<=0&&(P=P.add(x),B=V),N=le(N,1),x=le(x,1)}return b=X(k,P.j(b)),new ne(P,b)}for(P=E;k.l(b)>=0;){for(x=Math.max(1,Math.floor(k.m()/b.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),B=g(x),V=B.j(b);z(V)||V.l(k)>0;)x-=N,B=g(x),V=B.j(b);L(B)&&(B=S),P=P.add(B),k=X(k,V)}return new ne(P,k)}i.B=function(k){return oe(this,k).h},i.and=function(k){const b=Math.max(this.g.length,k.g.length),x=[];for(let N=0;N<b;N++)x[N]=this.i(N)&k.i(N);return new c(x,this.h&k.h)},i.or=function(k){const b=Math.max(this.g.length,k.g.length),x=[];for(let N=0;N<b;N++)x[N]=this.i(N)|k.i(N);return new c(x,this.h|k.h)},i.xor=function(k){const b=Math.max(this.g.length,k.g.length),x=[];for(let N=0;N<b;N++)x[N]=this.i(N)^k.i(N);return new c(x,this.h^k.h)};function te(k){const b=k.g.length+1,x=[];for(let N=0;N<b;N++)x[N]=k.i(N)<<1|k.i(N-1)>>>31;return new c(x,k.h)}function le(k,b){const x=b>>5;b%=32;const N=k.g.length-x,P=[];for(let B=0;B<N;B++)P[B]=b>0?k.i(B+x)>>>b|k.i(B+x+1)<<32-b:k.i(B+x);return new c(P,k.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,CE=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Ks=c}).apply(typeof PT<"u"?PT:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AE,ql,SE,Kc,xm,xE,wE,RE;(function(){var i,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var T=0;T<m.length;++T){var A=m[T];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var n=t(this);function r(m,T){if(T)e:{var A=n;m=m.split(".");for(var I=0;I<m.length-1;I++){var G=m[I];if(!(G in A))break e;A=A[G]}m=m[m.length-1],I=A[m],T=T(I),T!=I&&T!=null&&e(A,m,{configurable:!0,writable:!0,value:T})}}r("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(m){return m||function(T){var A=[],I;for(I in T)Object.prototype.hasOwnProperty.call(T,I)&&A.push([I,T[I]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function h(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function y(m,T,A){return m.call.apply(m.bind,arguments)}function g(m,T,A){return g=y,g.apply(null,arguments)}function _(m,T){var A=Array.prototype.slice.call(arguments,1);return function(){var I=A.slice();return I.push.apply(I,arguments),m.apply(this,I)}}function E(m,T){function A(){}A.prototype=T.prototype,m.Z=T.prototype,m.prototype=new A,m.prototype.constructor=m,m.Ob=function(I,G,K){for(var ae=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ae[Ne-2]=arguments[Ne];return T.prototype[G].apply(I,ae)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function M(m){const T=m.length;if(T>0){const A=Array(T);for(let I=0;I<T;I++)A[I]=m[I];return A}return[]}function L(m,T){for(let I=1;I<arguments.length;I++){const G=arguments[I];var A=typeof G;if(A=A!="object"?A:G?Array.isArray(G)?"array":A:"null",A=="array"||A=="object"&&typeof G.length=="number"){A=m.length||0;const K=G.length||0;m.length=A+K;for(let ae=0;ae<K;ae++)m[A+ae]=G[ae]}else m.push(G)}}class z{constructor(T,A){this.i=T,this.j=A,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function H(m){c.setTimeout(()=>{throw m},0)}function X(){var m=k;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class j{constructor(){this.h=this.g=null}add(T,A){const I=ne.get();I.set(T,A),this.h?this.h.next=I:this.g=I,this.h=I}}var ne=new z(()=>new oe,m=>m.reset());class oe{constructor(){this.next=this.g=this.h=null}set(T,A){this.h=T,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let te,le=!1,k=new j,b=()=>{const m=Promise.resolve(void 0);te=()=>{m.then(x)}};function x(){for(var m;m=X();){try{m.h.call(m.g)}catch(A){H(A)}var T=ne;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}le=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const A=()=>{};c.addEventListener("test",A,T),c.removeEventListener("test",A,T)}catch{}return m})();function V(m){return/^[\s\xa0]*$/.test(m)}function He(m,T){P.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}E(He,P),He.prototype.init=function(m,T){const A=this.type=m.type,I=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(A=="mouseover"?T=m.fromElement:A=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ot="closure_listenable_"+(Math.random()*1e6|0),ue=0;function Ie(m,T,A,I,G){this.listener=m,this.proxy=null,this.src=T,this.type=A,this.capture=!!I,this.ha=G,this.key=++ue,this.da=this.fa=!1}function Ee(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function je(m,T,A){for(const I in m)T.call(A,m[I],I,m)}function O(m,T){for(const A in m)T.call(void 0,m[A],A,m)}function se(m){const T={};for(const A in m)T[A]=m[A];return T}const Ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Te(m,T){let A,I;for(let G=1;G<arguments.length;G++){I=arguments[G];for(A in I)m[A]=I[A];for(let K=0;K<Ce.length;K++)A=Ce[K],Object.prototype.hasOwnProperty.call(I,A)&&(m[A]=I[A])}}function fe(m){this.src=m,this.g={},this.h=0}fe.prototype.add=function(m,T,A,I,G){const K=m.toString();m=this.g[K],m||(m=this.g[K]=[],this.h++);const ae=Ve(m,T,I,G);return ae>-1?(T=m[ae],A||(T.fa=!1)):(T=new Ie(T,this.src,K,!!I,G),T.fa=A,m.push(T)),T};function Oe(m,T){const A=T.type;if(A in m.g){var I=m.g[A],G=Array.prototype.indexOf.call(I,T,void 0),K;(K=G>=0)&&Array.prototype.splice.call(I,G,1),K&&(Ee(T),m.g[A].length==0&&(delete m.g[A],m.h--))}}function Ve(m,T,A,I){for(let G=0;G<m.length;++G){const K=m[G];if(!K.da&&K.listener==T&&K.capture==!!A&&K.ha==I)return G}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),$e={};function gt(m,T,A,I,G){if(Array.isArray(T)){for(let K=0;K<T.length;K++)gt(m,T[K],A,I,G);return null}return A=lr(A),m&&m[ot]?m.J(T,A,h(I)?!!I.capture:!1,G):at(m,T,A,!1,I,G)}function at(m,T,A,I,G,K){if(!T)throw Error("Invalid event type");const ae=h(G)?!!G.capture:!!G;let Ne=mi(m);if(Ne||(m[Ut]=Ne=new fe(m)),A=Ne.add(T,A,I,ae,K),A.proxy)return A;if(I=On(),A.proxy=I,I.src=m,I.listener=A,m.addEventListener)B||(G=ae),G===void 0&&(G=!1),m.addEventListener(T.toString(),I,G);else if(m.attachEvent)m.attachEvent(or(T.toString()),I);else if(m.addListener&&m.removeListener)m.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return A}function On(){function m(A){return T.call(m.src,m.listener,A)}const T=ro;return m}function us(m,T,A,I,G){if(Array.isArray(T))for(var K=0;K<T.length;K++)us(m,T[K],A,I,G);else I=h(I)?!!I.capture:!!I,A=lr(A),m&&m[ot]?(m=m.i,K=String(T).toString(),K in m.g&&(T=m.g[K],A=Ve(T,A,I,G),A>-1&&(Ee(T[A]),Array.prototype.splice.call(T,A,1),T.length==0&&(delete m.g[K],m.h--)))):m&&(m=mi(m))&&(T=m.g[T.toString()],m=-1,T&&(m=Ve(T,A,I,G)),(A=m>-1?T[m]:null)&&Un(A))}function Un(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[ot])Oe(T.i,m);else{var A=m.type,I=m.proxy;T.removeEventListener?T.removeEventListener(A,I,m.capture):T.detachEvent?T.detachEvent(or(A),I):T.addListener&&T.removeListener&&T.removeListener(I),(A=mi(T))?(Oe(A,m),A.h==0&&(A.src=null,T[Ut]=null)):Ee(m)}}}function or(m){return m in $e?$e[m]:$e[m]="on"+m}function ro(m,T){if(m.da)m=!0;else{T=new He(T,this);const A=m.listener,I=m.ha||m.src;m.fa&&Un(m),m=A.call(I,T)}return m}function mi(m){return m=m[Ut],m instanceof fe?m:null}var ar="__closure_events_fn_"+(Math.random()*1e9>>>0);function lr(m){return typeof m=="function"?m:(m[ar]||(m[ar]=function(T){return m.handleEvent(T)}),m[ar])}function bt(){N.call(this),this.i=new fe(this),this.M=this,this.G=null}E(bt,N),bt.prototype[ot]=!0,bt.prototype.removeEventListener=function(m,T,A,I){us(this,m,T,A,I)};function Ft(m,T){var A,I=m.G;if(I)for(A=[];I;I=I.G)A.push(I);if(m=m.M,I=T.type||T,typeof T=="string")T=new P(T,m);else if(T instanceof P)T.target=T.target||m;else{var G=T;T=new P(I,m),Te(T,G)}G=!0;let K,ae;if(A)for(ae=A.length-1;ae>=0;ae--)K=T.g=A[ae],G=cs(K,I,!0,T)&&G;if(K=T.g=m,G=cs(K,I,!0,T)&&G,G=cs(K,I,!1,T)&&G,A)for(ae=0;ae<A.length;ae++)K=T.g=A[ae],G=cs(K,I,!1,T)&&G}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const A=m.g[T];for(let I=0;I<A.length;I++)Ee(A[I]);delete m.g[T],m.h--}}this.G=null},bt.prototype.J=function(m,T,A,I){return this.i.add(String(m),T,!1,A,I)},bt.prototype.K=function(m,T,A,I){return this.i.add(String(m),T,!0,A,I)};function cs(m,T,A,I){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let G=!0;for(let K=0;K<T.length;++K){const ae=T[K];if(ae&&!ae.da&&ae.capture==A){const Ne=ae.listener,ht=ae.ha||ae.src;ae.fa&&Oe(m.i,ae),G=Ne.call(ht,I)!==!1&&G}}return G&&!I.defaultPrevented}function Gf(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=g(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:c.setTimeout(m,T||0)}function vu(m){m.g=Gf(()=>{m.g=null,m.i&&(m.i=!1,vu(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class Fn extends N{constructor(T,A){super(),this.m=T,this.l=A,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(m){N.call(this),this.h=m,this.g={}}E(ur,N);var wa=[];function Ra(m){je(m.g,function(T,A){this.g.hasOwnProperty(A)&&Un(T)},m),m.g={}}ur.prototype.N=function(){ur.Z.N.call(this),Ra(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=c.JSON.stringify,Hf=c.JSON.parse,_u=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Tu(){}function Eu(){}var ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){P.call(this,"d")}E(Xt,P);function ba(){P.call(this,"c")}E(ba,P);var on={},an=null;function oo(){return an=an||new bt}on.Ia="serverreachability";function Cu(m){P.call(this,on.Ia,m)}E(Cu,P);function cr(m){const T=oo();Ft(T,new Cu(T))}on.STAT_EVENT="statevent";function fr(m,T){P.call(this,on.STAT_EVENT,m),this.stat=T}E(fr,P);function It(m){const T=oo();Ft(T,new fr(T,m))}on.Ja="timingevent";function pi(m,T){P.call(this,on.Ja,m),this.size=T}E(pi,P);function gi(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},T)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function $f(m,T,A,I,G,K){m.info(function(){if(m.g)if(K){var ae="",Ne=K.split("&");for(let nt=0;nt<Ne.length;nt++){var ht=Ne[nt].split("=");if(ht.length>1){const St=ht[0];ht=ht[1];const Nn=St.split("_");ae=Nn.length>=2&&Nn[1]=="type"?ae+(St+"="+ht+"&"):ae+(St+"=redacted&")}}}else ae=null;else ae=K;return"XMLHTTP REQ ("+I+") [attempt "+G+"]: "+T+`
`+A+`
`+ae})}function Au(m,T,A,I,G,K,ae){m.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+G+"]: "+T+`
`+A+`
`+K+" "+ae})}function Fi(m,T,A,I){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+dr(m,A)+(I?" "+I:"")})}function Ia(m,T){m.info(function(){return"TIMEOUT: "+T})}ni.prototype.info=function(){};function dr(m,T){if(!m.g)return T;if(!T)return null;try{const K=JSON.parse(T);if(K){for(m=0;m<K.length;m++)if(Array.isArray(K[m])){var A=K[m];if(!(A.length<2)){var I=A[1];if(Array.isArray(I)&&!(I.length<1)){var G=I[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ae=1;ae<I.length;ae++)I[ae]=""}}}}return fs(K)}catch{return T}}var ao={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Na={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ma;function lo(){}E(lo,Tu),lo.prototype.g=function(){return new XMLHttpRequest},Ma=new lo;function ds(m){return encodeURIComponent(String(m))}function Yf(m){var T=1;m=m.split(":");const A=[];for(;T>0&&m.length;)A.push(m.shift()),T--;return m.length&&A.push(m.join(":")),A}function Jt(m,T,A,I){this.j=m,this.i=T,this.l=A,this.S=I||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bt}function Bt(){this.i=null,this.g="",this.h=!1}var jt={},yi={};function hr(m,T,A){m.M=1,m.A=pr(Nt(T)),m.u=A,m.R=!0,Su(m,null)}function Su(m,T){m.F=Date.now(),hs(m),m.B=Nt(m.A);var A=m.B,I=m.S;Array.isArray(I)||(I=[String(I)]),fo(A.i,"t",I),m.C=0,A=m.j.L,m.h=new Bt,m.g=_o(m.j,A?T:null,!m.u),m.P>0&&(m.O=new Fn(g(m.Y,m,m.g),m.P)),T=m.V,A=m.g,I=m.ba;var G="readystatechange";Array.isArray(G)||(G&&(wa[0]=G.toString()),G=wa);for(let K=0;K<G.length;K++){const ae=gt(A,G[K],I||T.handleEvent,!1,T.h||T);if(!ae)break;T.g[ae.key]=ae}T=m.J?se(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),cr(),$f(m.i,m.v,m.B,m.l,m.S,m.u)}Jt.prototype.ba=function(m){m=m.target;const T=this.O;T&&ln(m)==3?T.j():this.Y(m)},Jt.prototype.Y=function(m){try{if(m==this.g)e:{const Ne=ln(this.g),ht=this.g.ya(),nt=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||_r(this.g)))){this.K||Ne!=4||ht==7||(ht==8||nt<=0?cr(3):cr(2)),_i(this);var T=this.g.ca();this.X=T;var A=Kf(this);if(this.o=T==200,Au(this.i,this.v,this.B,this.l,this.S,Ne,T),this.o){if(this.U&&!this.L){t:{if(this.g){var I,G=this.g;if((I=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(I)){var K=I;break t}}K=null}if(m=K)Fi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Tt(this,m);else{this.o=!1,this.m=3,It(12),En(this),ii(this);break e}}if(this.R){m=!0;let St;for(;!this.K&&this.C<A.length;)if(St=mr(this,A),St==yi){Ne==4&&(this.m=4,It(14),m=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(St==jt){this.m=4,It(15),Fi(this.i,this.l,A,"[Invalid Chunk]"),m=!1;break}else Fi(this.i,this.l,St,null),Tt(this,St);if(Da(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||A.length!=0||this.h.h||(this.m=1,It(16),m=!1),this.o=this.o&&m,!m)Fi(this.i,this.l,A,"[Invalid Chunked Response]"),En(this),ii(this);else if(A.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Ya(ae),ae.P=!0,It(11))}}else Fi(this.i,this.l,A,null),Tt(this,A);Ne==4&&En(this),this.o&&!this.K&&(Ne==4?Ka(this.j,this):(this.o=!1,hs(this)))}else Tr(this.g),T==400&&A.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),En(this),ii(this)}}}catch{}finally{}};function Kf(m){if(!Da(m))return m.g.la();const T=_r(m.g);if(T==="")return"";let A="";const I=T.length,G=ln(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return En(m),ii(m),"";m.h.i=new c.TextDecoder}for(let K=0;K<I;K++)m.h.h=!0,A+=m.h.i.decode(T[K],{stream:!(G&&K==I-1)});return T.length=0,m.h.g+=A,m.C=0,m.h.g}function Da(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function mr(m,T){var A=m.C,I=T.indexOf(`
`,A);return I==-1?yi:(A=Number(T.substring(A,I)),isNaN(A)?jt:(I+=1,I+A>T.length?yi:(T=T.slice(I,I+A),m.C=I+A,T)))}Jt.prototype.cancel=function(){this.K=!0,En(this)};function hs(m){m.T=Date.now()+m.H,vi(m,m.H)}function vi(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=gi(g(m.aa,m),T)}function _i(m){m.D&&(c.clearTimeout(m.D),m.D=null)}Jt.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Ia(this.i,this.B),this.M!=2&&(cr(),It(17)),En(this),this.m=2,ii(this)):vi(this,this.T-m)};function ii(m){m.j.I==0||m.K||Ka(m.j,m)}function En(m){_i(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,Ra(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function Tt(m,T){try{var A=m.j;if(A.I!=0&&(A.g==m||bn(A.h,m))){if(!m.L&&bn(A.h,m)&&A.I==3){try{var I=A.Ba.g.parse(T)}catch{I=null}if(Array.isArray(I)&&I.length==3){var G=I;if(G[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<m.F)vo(A),Ci(A);else break e;$a(A),It(18)}}else A.xa=G[1],0<A.xa-A.K&&G[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=gi(g(A.Va,A),6e3));Bi(A.h)<=1&&A.ta&&(A.ta=void 0)}else zi(A,11)}else if((m.L||A.g==m)&&vo(A),!V(T))for(G=A.Ba.g.parse(T),T=0;T<G.length;T++){let nt=G[T];const St=nt[0];if(!(St<=A.K))if(A.K=St,nt=nt[1],A.I==2)if(nt[0]=="c"){A.M=nt[1],A.ba=nt[2];const Nn=nt[3];Nn!=null&&(A.ka=Nn,A.j.info("VER="+A.ka));const Ai=nt[4];Ai!=null&&(A.za=Ai,A.j.info("SVER="+A.za));const ri=nt[5];ri!=null&&typeof ri=="number"&&ri>0&&(I=1.5*ri,A.O=I,A.j.info("backChannelRequestTimeoutMs_="+I)),I=A;const oi=m.g;if(oi){const ai=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var K=I.h;K.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Pa(K,K.h),K.h=null))}if(I.G){const Za=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Za&&(I.wa=Za,We(I.J,I.G,Za))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-m.F,A.j.info("Handshake RTT: "+A.T+"ms")),I=A;var ae=m;if(I.na=Ou(I,I.L?I.ba:null,I.W),ae.L){ka(I.h,ae);var Ne=ae,ht=I.O;ht&&(Ne.H=ht),Ne.D&&(_i(Ne),hs(Ne)),I.g=ae}else Vu(I);A.i.length>0&&Sr(A)}else nt[0]!="stop"&&nt[0]!="close"||zi(A,7);else A.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?zi(A,7):Cr(A):nt[0]!="noop"&&A.l&&A.l.qa(nt),A.A=0)}}cr(4)}catch{}}var xu=class{constructor(m,T){this.g=m,this.map=T}};function Va(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ti(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Bi(m){return m.h?1:m.g?m.g.size:0}function bn(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Pa(m,T){m.g?m.g.add(T):m.h=T}function ka(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}Va.prototype.cancel=function(){if(this.i=La(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function La(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const A of m.g.values())T=T.concat(A.G);return T}return M(m.i)}var wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uo(m,T){if(m){m=m.split("&");for(let A=0;A<m.length;A++){const I=m[A].indexOf("=");let G,K=null;I>=0?(G=m[A].substring(0,I),K=m[A].substring(I+1)):G=m[A],T(G,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function In(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof In?(this.l=m.l,$t(this,m.j),this.o=m.o,this.g=m.g,ms(this,m.u),this.h=m.h,Oa(this,Nu(m.i)),this.m=m.m):m&&(T=String(m).match(wu))?(this.l=!1,$t(this,T[1]||"",!0),this.o=Ei(T[2]||""),this.g=Ei(T[3]||"",!0),ms(this,T[4]),this.h=Ei(T[5]||"",!0),Oa(this,T[6]||"",!0),this.m=Ei(T[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}In.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(gr(T,co,!0),":");var A=this.g;return(A||T=="file")&&(m.push("//"),(T=this.o)&&m.push(gr(T,co,!0),"@"),m.push(ds(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&m.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&m.push("/"),m.push(gr(A,A.charAt(0)=="/"?Ua:Ru,!0))),(A=this.i.toString())&&m.push("?",A),(A=this.m)&&m.push("#",gr(A,bu)),m.join("")},In.prototype.resolve=function(m){const T=Nt(this);let A=!!m.j;A?$t(T,m.j):A=!!m.o,A?T.o=m.o:A=!!m.g,A?T.g=m.g:A=m.u!=null;var I=m.h;if(A)ms(T,m.u);else if(A=!!m.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var G=T.h.lastIndexOf("/");G!=-1&&(I=T.h.slice(0,G+1)+I)}if(G=I,G==".."||G==".")I="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){I=G.lastIndexOf("/",0)==0,G=G.split("/");const K=[];for(let ae=0;ae<G.length;){const Ne=G[ae++];Ne=="."?I&&ae==G.length&&K.push(""):Ne==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),I&&ae==G.length&&K.push("")):(K.push(Ne),I=!0)}I=K.join("/")}else I=G}return A?T.h=I:A=m.i.toString()!=="",A?Oa(T,Nu(m.i)):A=!!m.m,A&&(T.m=m.m),T};function Nt(m){return new In(m)}function $t(m,T,A){m.j=A?Ei(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function ms(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function Oa(m,T,A){T instanceof gs?(m.i=T,ho(m.i,m.l)):(A||(T=gr(T,ps)),m.i=new gs(T,m.l))}function We(m,T,A){m.i.set(T,A)}function pr(m){return We(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Ei(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function gr(m,T,A){return typeof m=="string"?(m=encodeURI(m).replace(T,Cn),A&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Cn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var co=/[#\/\?@]/g,Ru=/[#\?:]/g,Ua=/[#\?]/g,ps=/[#\?@]/g,bu=/#/g;function gs(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function An(m){m.g||(m.g=new Map,m.h=0,m.i&&uo(m.i,function(T,A){m.add(decodeURIComponent(T.replace(/\+/g," ")),A)}))}i=gs.prototype,i.add=function(m,T){An(this),this.i=null,m=ys(this,m);let A=this.g.get(m);return A||this.g.set(m,A=[]),A.push(T),this.h+=1,this};function Iu(m,T){An(m),T=ys(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function Fa(m,T){return An(m),T=ys(m,T),m.g.has(T)}i.forEach=function(m,T){An(this),this.g.forEach(function(A,I){A.forEach(function(G){m.call(T,G,I,this)},this)},this)};function Ba(m,T){An(m);let A=[];if(typeof T=="string")Fa(m,T)&&(A=A.concat(m.g.get(ys(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)A=A.concat(m[T]);return A}i.set=function(m,T){return An(this),this.i=null,m=ys(this,m),Fa(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},i.get=function(m,T){return m?(m=Ba(this,m),m.length>0?String(m[0]):T):T};function fo(m,T,A){Iu(m,T),A.length>0&&(m.i=null,m.g.set(ys(m,T),M(A)),m.h+=A.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let I=0;I<T.length;I++){var A=T[I];const G=ds(A);A=Ba(this,A);for(let K=0;K<A.length;K++){let ae=G;A[K]!==""&&(ae+="="+ds(A[K])),m.push(ae)}}return this.i=m.join("&")};function Nu(m){const T=new gs;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function ys(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function ho(m,T){T&&!m.j&&(An(m),m.i=null,m.g.forEach(function(A,I){const G=I.toLowerCase();I!=G&&(Iu(this,I),fo(this,G,A))},m)),m.j=T}function qa(m,T){const A=new ni;if(c.Image){const I=new Image;I.onload=_(mn,A,"TestLoadImage: loaded",!0,T,I),I.onerror=_(mn,A,"TestLoadImage: error",!1,T,I),I.onabort=_(mn,A,"TestLoadImage: abort",!1,T,I),I.ontimeout=_(mn,A,"TestLoadImage: timeout",!1,T,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=m}else T(!1)}function za(m,T){const A=new ni,I=new AbortController,G=setTimeout(()=>{I.abort(),mn(A,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:I.signal}).then(K=>{clearTimeout(G),K.ok?mn(A,"TestPingServer: ok",!0,T):mn(A,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(G),mn(A,"TestPingServer: error",!1,T)})}function mn(m,T,A,I,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),I(A)}catch{}}function vs(){this.g=new _u}function mo(m){this.i=m.Sb||null,this.h=m.ab||!1}E(mo,Tu),mo.prototype.g=function(){return new _s(this.i,this.h)};function _s(m,T){bt.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(_s,bt),i=_s.prototype,i.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,qi(this)},i.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||c).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},i.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}i.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?si(this):qi(this),this.readyState==3&&Ga(this)}},i.Oa=function(m){this.g&&(this.response=this.responseText=m,si(this))},i.Na=function(m){this.g&&(this.response=m,si(this))},i.ga=function(){this.g&&si(this)};function si(m){m.readyState=4,m.l=null,m.j=null,m.B=null,qi(m)}i.setRequestHeader=function(m,T){this.A.append(m,T)},i.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var A=T.next();!A.done;)A=A.value,m.push(A[0]+": "+A[1]),A=T.next();return m.join(`\r
`)};function qi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(_s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ts(m){let T="";return je(m,function(A,I){T+=I,T+=":",T+=A,T+=`\r
`}),T}function Bn(m,T,A){e:{for(I in A){var I=!1;break e}I=!0}I||(A=Ts(A),typeof m=="string"?A!=null&&ds(A):We(m,T,A))}function lt(m){bt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(lt,bt);var po=/^https?$/i,Mu=["POST","PUT"];i=lt.prototype,i.Fa=function(m){this.H=m},i.ea=function(m,T,A,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ma.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(K){yr(this,K);return}if(m=A||"",A=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var G in I)A.set(G,I[G]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const K of I.keys())A.set(K,I.get(K));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(A.keys()).find(K=>K.toLowerCase()=="content-type"),G=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(Mu,T,void 0)>=0)||I||G||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of A)this.g.setRequestHeader(K,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(K){yr(this,K)}};function yr(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,vr(m),qt(m)}function vr(m){m.A||(m.A=!0,Ft(m,"complete"),Ft(m,"error"))}i.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Ft(this,"complete"),Ft(this,"abort"),qt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),lt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ha(this):this.Xa())},i.Xa=function(){Ha(this)};function Ha(m){if(m.h&&typeof a<"u"){if(m.v&&ln(m)==4)setTimeout(m.Ca.bind(m),0);else if(Ft(m,"readystatechange"),ln(m)==4){m.h=!1;try{const K=m.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var A;if(!(A=T)){var I;if(I=K===0){let ae=String(m.D).match(wu)[1]||null;!ae&&c.self&&c.self.location&&(ae=c.self.location.protocol.slice(0,-1)),I=!po.test(ae?ae.toLowerCase():"")}A=I}if(A)Ft(m,"complete"),Ft(m,"success");else{m.o=6;try{var G=ln(m)>2?m.g.statusText:""}catch{G=""}m.l=G+" ["+m.ca()+"]",vr(m)}}finally{qt(m)}}}}function qt(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const A=m.g;m.g=null,T||Ft(m,"ready");try{A.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ln(m){return m.g?m.g.readyState:0}i.ca=function(){try{return ln(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),Hf(T)}};function _r(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Tr(m){const T={};m=(m.g&&ln(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<m.length;I++){if(V(m[I]))continue;var A=Yf(m[I]);const G=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const K=T[G]||[];T[G]=K,K.push(A)}O(T,function(I){return I.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(m,T,A){return A&&A.internalChannelParams&&A.internalChannelParams[m]||T}function go(m){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Er("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Er("baseRetryDelayMs",5e3,m),this.Za=Er("retryDelaySeedMs",1e4,m),this.Ta=Er("forwardChannelMaxRetries",2,m),this.va=Er("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Va(m&&m.concurrentRequestLimit),this.Ba=new vs,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=go.prototype,i.ka=8,i.I=1,i.connect=function(m,T,A,I){It(0),this.W=m,this.H=T||{},A&&I!==void 0&&(this.H.OSID=A,this.H.OAID=I),this.F=this.X,this.J=Ou(this,null,this.W),Sr(this)};function Cr(m){if(Ar(m),m.I==3){var T=m.V++,A=Nt(m.J);if(We(A,"SID",m.M),We(A,"RID",T),We(A,"TYPE","terminate"),xr(m,A),T=new Jt(m,m.j,T),T.M=2,T.A=pr(Nt(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(T.A.toString(),"")}catch{}!A&&c.Image&&(new Image().src=T.A,A=!0),A||(T.g=_o(T.j,null),T.g.ea(T.A)),T.F=Date.now(),hs(T)}Lu(m)}function Ci(m){m.g&&(Ya(m),m.g.cancel(),m.g=null)}function Ar(m){Ci(m),m.v&&(c.clearTimeout(m.v),m.v=null),vo(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function Sr(m){if(!Ti(m.h)&&!m.m){m.m=!0;var T=m.Ea;te||b(),le||(te(),le=!0),k.add(T,m),m.D=0}}function Qf(m,T){return Bi(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=gi(g(m.Ea,m,T),ku(m,m.D)),m.D++,!0)}i.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const G=new Jt(this,this.j,m);let K=this.o;if(this.U&&(K?(K=se(K),Te(K,this.U)):K=this.U),this.u!==null||this.R||(G.J=K,K=null),this.S)e:{for(var T=0,A=0;A<this.i.length;A++){t:{var I=this.i[A];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(T+=I,T>4096){T=A;break e}if(T===4096||A===this.i.length-1){T=A+1;break e}}T=1e3}else T=1e3;T=yo(this,G,T),A=Nt(this.J),We(A,"RID",m),We(A,"CVER",22),this.G&&We(A,"X-HTTP-Session-Id",this.G),xr(this,A),K&&(this.R?T="headers="+ds(Ts(K))+"&"+T:this.u&&Bn(A,this.u,K)),Pa(this.h,G),this.Ra&&We(A,"TYPE","init"),this.S?(We(A,"$req",T),We(A,"SID","null"),G.U=!0,hr(G,A,null)):hr(G,A,T),this.I=2}}else this.I==3&&(m?Du(this,m):this.i.length==0||Ti(this.h)||Du(this))};function Du(m,T){var A;T?A=T.l:A=m.V++;const I=Nt(m.J);We(I,"SID",m.M),We(I,"RID",A),We(I,"AID",m.K),xr(m,I),m.u&&m.o&&Bn(I,m.u,m.o),A=new Jt(m,m.j,A,m.D+1),m.u===null&&(A.J=m.o),T&&(m.i=T.G.concat(m.i)),T=yo(m,A,1e3),A.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Pa(m.h,A),hr(A,I,T)}function xr(m,T){m.H&&je(m.H,function(A,I){We(T,I,A)}),m.l&&je({},function(A,I){We(T,I,A)})}function yo(m,T,A){A=Math.min(m.i.length,A);const I=m.l?g(m.l.Ka,m.l,m):null;e:{var G=m.i;let Ne=-1;for(;;){const ht=["count="+A];Ne==-1?A>0?(Ne=G[0].g,ht.push("ofs="+Ne)):Ne=0:ht.push("ofs="+Ne);let nt=!0;for(let St=0;St<A;St++){var K=G[St].g;const Nn=G[St].map;if(K-=Ne,K<0)Ne=Math.max(0,G[St].g-100),nt=!1;else try{K="req"+K+"_"||"";try{var ae=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ai,ri]of ae){let oi=ri;h(ri)&&(oi=fs(ri)),ht.push(K+Ai+"="+encodeURIComponent(oi))}}catch(Ai){throw ht.push(K+"type="+encodeURIComponent("_badmap")),Ai}}catch{I&&I(Nn)}}if(nt){ae=ht.join("&");break e}}ae=void 0}return m=m.i.splice(0,A),T.G=m,ae}function Vu(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;te||b(),le||(te(),le=!0),k.add(T,m),m.A=0}}function $a(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=gi(g(m.Da,m),ku(m,m.A)),m.A++,!0)}i.Da=function(){if(this.v=null,Pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=gi(g(this.Wa,this),m)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Ci(this),Pu(this))};function Ya(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function Pu(m){m.g=new Jt(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=Nt(m.na);We(T,"RID","rpc"),We(T,"SID",m.M),We(T,"AID",m.K),We(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&We(T,"TO",m.ia),We(T,"TYPE","xmlhttp"),xr(m,T),m.u&&m.o&&Bn(T,m.u,m.o),m.O&&(m.g.H=m.O);var A=m.g;m=m.ba,A.M=1,A.A=pr(Nt(T)),A.u=null,A.R=!0,Su(A,m)}i.Va=function(){this.C!=null&&(this.C=null,Ci(this),$a(this),It(19))};function vo(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Ka(m,T){var A=null;if(m.g==T){vo(m),Ya(m),m.g=null;var I=2}else if(bn(m.h,T))A=T.G,ka(m.h,T),I=1;else return;if(m.I!=0){if(T.o)if(I==1){A=T.u?T.u.length:0,T=Date.now()-T.F;var G=m.D;I=oo(),Ft(I,new pi(I,A)),Sr(m)}else Vu(m);else if(G=T.m,G==3||G==0&&T.X>0||!(I==1&&Qf(m,T)||I==2&&$a(m)))switch(A&&A.length>0&&(T=m.h,T.i=T.i.concat(A)),G){case 1:zi(m,5);break;case 4:zi(m,10);break;case 3:zi(m,6);break;default:zi(m,2)}}}function ku(m,T){let A=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(A*=2),A*T}function zi(m,T){if(m.j.info("Error code "+T),T==2){var A=g(m.bb,m),I=m.Ua;const G=!I;I=new In(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$t(I,"https"),pr(I),G?qa(I.toString(),A):za(I.toString(),A)}else It(2);m.I=0,m.l&&m.l.pa(T),Lu(m),Ar(m)}i.bb=function(m){m?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Lu(m){if(m.I=0,m.ja=[],m.l){const T=La(m.h);(T.length!=0||m.i.length!=0)&&(L(m.ja,T),L(m.ja,m.i),m.h.i.length=0,M(m.i),m.i.length=0),m.l.oa()}}function Ou(m,T,A){var I=A instanceof In?Nt(A):new In(A);if(I.g!="")T&&(I.g=T+"."+I.g),ms(I,I.u);else{var G=c.location;I=G.protocol,T=T?T+"."+G.hostname:G.hostname,G=+G.port;const K=new In(null);I&&$t(K,I),T&&(K.g=T),G&&ms(K,G),A&&(K.h=A),I=K}return A=m.G,T=m.wa,A&&T&&We(I,A,T),We(I,"VER",m.ka),xr(m,I),I}function _o(m,T,A){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new lt(new mo({ab:A})):new lt(m.ma),T.Fa(m.L),T}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}i=Uu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function To(){}To.prototype.g=function(m,T){return new pn(m,T)};function pn(m,T){bt.call(this),this.g=new go(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!V(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!V(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Es(this)}E(pn,bt),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Cr(this.g)},pn.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var A={};A.__data__=m,m=A}else this.v&&(A={},A.__data__=fs(m),m=A);T.i.push(new xu(T.Ya++,m)),T.I==3&&Sr(T)},pn.prototype.N=function(){this.g.l=null,delete this.j,Cr(this.g),delete this.g,pn.Z.N.call(this)};function Qa(m){Xt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const A in T){m=A;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}E(Qa,Xt);function Fu(){ba.call(this),this.status=1}E(Fu,ba);function Es(m){this.g=m}E(Es,Uu),Es.prototype.ra=function(){Ft(this.g,"a")},Es.prototype.qa=function(m){Ft(this.g,new Qa(m))},Es.prototype.pa=function(m){Ft(this.g,new Fu)},Es.prototype.oa=function(){Ft(this.g,"b")},To.prototype.createWebChannel=To.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,RE=function(){return new To},wE=function(){return oo()},xE=on,xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ao.NO_ERROR=0,ao.TIMEOUT=8,ao.HTTP_ERROR=6,Kc=ao,Na.COMPLETE="complete",SE=Na,Eu.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",bt.prototype.listen=bt.prototype.J,ql=Eu,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,AE=lt}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const kT="@firebase/firestore",LT="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new pE("@firebase/firestore");function Zo(){return Wr.logLevel}function he(i,...e){if(Wr.logLevel<=Qe.DEBUG){const t=e.map(Wm);Wr.debug(`Firestore (${Ea}): ${i}`,...t)}}function as(i,...e){if(Wr.logLevel<=Qe.ERROR){const t=e.map(Wm);Wr.error(`Firestore (${Ea}): ${i}`,...t)}}function da(i,...e){if(Wr.logLevel<=Qe.WARN){const t=e.map(Wm);Wr.warn(`Firestore (${Ea}): ${i}`,...t)}}function Wm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,bE(i,n,t)}function bE(i,e,t){let n=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw as(n),new Error(n)}function tt(i,e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,i||bE(e,r,n)}function De(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ta{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(dn.UNAUTHENTICATED)))}shutdown(){}}class fV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class dV{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0,42304);let n=this.i;const r=y=>this.i!==n?(n=this.i,t(y)):Promise.resolve();let a=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Qr,e.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const y=a;e.enqueueRetryable((async()=>{await y.promise,await r(this.currentUser)}))},h=y=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((y=>h(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?h(y):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(tt(typeof n.accessToken=="string",31837,{l:n}),new IE(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class hV{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mV{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new hV(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class OT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pV{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,KD(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tt(this.o===void 0,3512);const n=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const r=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>r(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new OT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new OT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<i;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const r=gV(40);for(let a=0;a<r.length;++a)n.length<20&&r[a]<t&&(n+=e.charAt(r[a]%62))}return n}}function Be(i,e){return i<e?-1:i>e?1:0}function wm(i,e){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++){const r=i.charAt(n),a=e.charAt(n);if(r!==a)return Xh(r)===Xh(a)?Be(r,a):Xh(r)?1:-1}return Be(i.length,e.length)}const yV=55296,vV=57343;function Xh(i){const e=i.charCodeAt(0);return e>=yV&&e<=vV}function ha(i,e,t){return i.length===e.length&&i.every(((n,r)=>t(n,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="__name__";class Ii{constructor(e,t,n){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Se(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const a=Ii.compareSegments(e.get(r),t.get(r));if(a!==0)return a}return Be(e.length,t.length)}static compareSegments(e,t){const n=Ii.isNumericId(e),r=Ii.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Ii.extractNumericId(e).compare(Ii.extractNumericId(t)):wm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ks.fromString(e.substring(4,e.length-2))}}class ft extends Ii{construct(e,t,n){return new ft(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((r=>r.length>0)))}return new ft(t)}static emptyPath(){return new ft([])}}const _V=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Ii{construct(e,t,n){return new sn(e,t,n)}static isValidIdentifier(e){return _V.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UT}static keyField(){return new sn([UT])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(n.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let c=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[r+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=y,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(n+=h,r++):(a(),r++)}if(a(),c)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(t)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ft.fromString(e))}static fromName(e){return new _e(ft.fromString(e).popFirst(5))}static empty(){return new _e(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(i,e,t){if(!t)throw new ce(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function TV(i,e,t,n){if(e===!0&&n===!0)throw new ce(J.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function FT(i){if(!_e.isDocumentKey(i))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function BT(i){if(_e.isDocumentKey(i))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ME(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function xf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function Di(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xf(i);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(i,e){const t={typeString:i};return e&&(t.value=e),t}function fu(i,e){if(!ME(i))throw new ce(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const r=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in i)){t=`JSON missing required field: '${n}'`;break}const c=i[n];if(r&&typeof c!==r){t=`JSON field '${n}' must be a ${r}.`;break}if(a!==void 0&&c!==a.value){t=`Expected '${n}' field to equal '${a.value}'`;break}}if(t)throw new ce(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=-62135596800,zT=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*zT);return new pt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qT)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zT}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Ot("string",pt._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new pt(0,0))}static max(){return new Re(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function EV(i,e){const t=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,r=Re.fromTimestamp(n===1e9?new pt(t+1,0):new pt(t,n));return new Xs(r,_e.empty(),e)}function CV(i){return new Xs(i.readTime,i.key,tu)}class Xs{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Xs(Re.min(),_e.empty(),tu)}static max(){return new Xs(Re.max(),_e.empty(),tu)}}function AV(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(i.documentKey,e.documentKey),t!==0?t:Be(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==SV)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee(((n,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ee.reject(t)}static resolve(e){return new ee(((t,n)=>{t(e)}))}static reject(e){return new ee(((t,n)=>{n(e)}))}static waitFor(e){return new ee(((t,n)=>{let r=0,a=0,c=!1;e.forEach((h=>{++r,h.next((()=>{++a,c&&a===r&&t()}),(y=>n(y)))})),c=!0,a===r&&t()}))}static or(e){let t=ee.resolve(!1);for(const n of e)t=t.next((r=>r?ee.resolve(r):n()));return t}static forEach(e,t){const n=[];return e.forEach(((r,a)=>{n.push(t.call(this,r,a))})),this.waitFor(n)}static mapArray(e,t){return new ee(((n,r)=>{const a=e.length,c=new Array(a);let h=0;for(let y=0;y<a;y++){const g=y;t(e[g]).next((_=>{c[g]=_,++h,h===a&&n(c)}),(_=>r(_)))}}))}static doWhile(e,t){return new ee(((n,r)=>{const a=()=>{e()===!0?t().next((()=>{a()}),r):n()};a()}))}}function wV(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Aa(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=-1;function Rf(i){return i==null}function df(i){return i===0&&1/i==-1/0}function RV(i){return typeof i=="number"&&Number.isInteger(i)&&!df(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="";function bV(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=GT(e)),e=IV(i.get(t),e);return GT(e)}function IV(i,e){let t=e;const n=i.length;for(let r=0;r<n;r++){const a=i.charAt(r);switch(a){case"\0":t+="";break;case DE:t+="";break;default:t+=a}}return t}function GT(i){return i+DE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function sr(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function VE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=n??nn.RED,this.left=r??nn.EMPTY,this.right=a??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new nn(e??this.key,t??this.value,n??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):a===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return nn.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,n,r,a){return this}insert(e,t,n){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $T(this.data.getIterator())}getIteratorFrom(e){return new $T(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=n.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class $T{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new Ht(sn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ha(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new PE("Invalid base64 string: "+a):a}})(e);return new rn(t)}static fromUint8Array(e){const t=(function(r){let a="";for(let c=0;c<r.length;++c)a+=String.fromCharCode(r[c]);return a})(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const NV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(i){if(tt(!!i,39018),typeof i=="string"){let e=0;const t=NV.exec(i);if(tt(!!t,46558,{timestamp:i}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:wt(i.seconds),nanos:wt(i.nanos)}}function wt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function js(i){return typeof i=="string"?rn.fromBase64String(i):rn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="server_timestamp",LE="__type__",OE="__previous_value__",UE="__local_write_time__";function np(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[LE])==null?void 0:n.stringValue)===kE}function bf(i){const e=i.mapValue.fields[OE];return np(e)?bf(e):e}function nu(i){const e=Js(i.mapValue.fields[UE].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,t,n,r,a,c,h,y,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=_}}const hf="(default)";class iu{constructor(e,t){this.projectId=e,this.database=t||hf}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===hf}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="__type__",DV="__max__",qc={mapValue:{}},BE="__vector__",mf="value";function Ws(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?np(i)?4:PV(i)?9007199254740991:VV(i)?10:11:Se(28295,{value:i})}function Ui(i,e){if(i===e)return!0;const t=Ws(i);if(t!==Ws(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return nu(i).isEqual(nu(e));case 3:return(function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const c=Js(r.timestampValue),h=Js(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(r,a){return js(r.bytesValue).isEqual(js(a.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(r,a){return wt(r.geoPointValue.latitude)===wt(a.geoPointValue.latitude)&&wt(r.geoPointValue.longitude)===wt(a.geoPointValue.longitude)})(i,e);case 2:return(function(r,a){if("integerValue"in r&&"integerValue"in a)return wt(r.integerValue)===wt(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const c=wt(r.doubleValue),h=wt(a.doubleValue);return c===h?df(c)===df(h):isNaN(c)&&isNaN(h)}return!1})(i,e);case 9:return ha(i.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(r,a){const c=r.mapValue.fields||{},h=a.mapValue.fields||{};if(HT(c)!==HT(h))return!1;for(const y in c)if(c.hasOwnProperty(y)&&(h[y]===void 0||!Ui(c[y],h[y])))return!1;return!0})(i,e);default:return Se(52216,{left:i})}}function su(i,e){return(i.values||[]).find((t=>Ui(t,e)))!==void 0}function ma(i,e){if(i===e)return 0;const t=Ws(i),n=Ws(e);if(t!==n)return Be(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(i.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=wt(a.integerValue||a.doubleValue),y=wt(c.integerValue||c.doubleValue);return h<y?-1:h>y?1:h===y?0:isNaN(h)?isNaN(y)?0:-1:1})(i,e);case 3:return YT(i.timestampValue,e.timestampValue);case 4:return YT(nu(i),nu(e));case 5:return wm(i.stringValue,e.stringValue);case 6:return(function(a,c){const h=js(a),y=js(c);return h.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),y=c.split("/");for(let g=0;g<h.length&&g<y.length;g++){const _=Be(h[g],y[g]);if(_!==0)return _}return Be(h.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=Be(wt(a.latitude),wt(c.latitude));return h!==0?h:Be(wt(a.longitude),wt(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return KT(i.arrayValue,e.arrayValue);case 10:return(function(a,c){var S,M,L,z;const h=a.fields||{},y=c.fields||{},g=(S=h[mf])==null?void 0:S.arrayValue,_=(M=y[mf])==null?void 0:M.arrayValue,E=Be(((L=g==null?void 0:g.values)==null?void 0:L.length)||0,((z=_==null?void 0:_.values)==null?void 0:z.length)||0);return E!==0?E:KT(g,_)})(i.mapValue,e.mapValue);case 11:return(function(a,c){if(a===qc.mapValue&&c===qc.mapValue)return 0;if(a===qc.mapValue)return 1;if(c===qc.mapValue)return-1;const h=a.fields||{},y=Object.keys(h),g=c.fields||{},_=Object.keys(g);y.sort(),_.sort();for(let E=0;E<y.length&&E<_.length;++E){const S=wm(y[E],_[E]);if(S!==0)return S;const M=ma(h[y[E]],g[_[E]]);if(M!==0)return M}return Be(y.length,_.length)})(i.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function YT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Be(i,e);const t=Js(i),n=Js(e),r=Be(t.seconds,n.seconds);return r!==0?r:Be(t.nanos,n.nanos)}function KT(i,e){const t=i.values||[],n=e.values||[];for(let r=0;r<t.length&&r<n.length;++r){const a=ma(t[r],n[r]);if(a)return a}return Be(t.length,n.length)}function pa(i){return Rm(i)}function Rm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const n=Js(t);return`time(${n.seconds},${n.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return js(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return _e.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let n="[",r=!0;for(const a of t.values||[])r?r=!1:n+=",",n+=Rm(a);return n+"]"})(i.arrayValue):"mapValue"in i?(function(t){const n=Object.keys(t.fields||{}).sort();let r="{",a=!0;for(const c of n)a?a=!1:r+=",",r+=`${c}:${Rm(t.fields[c])}`;return r+"}"})(i.mapValue):Se(61005,{value:i})}function Qc(i){switch(Ws(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bf(i);return e?16+Qc(e):16;case 5:return 2*i.stringValue.length;case 6:return js(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((r,a)=>r+Qc(a)),0)})(i.arrayValue);case 10:case 11:return(function(n){let r=0;return sr(n.fields,((a,c)=>{r+=a.length+Qc(c)})),r})(i.mapValue);default:throw Se(13486,{value:i})}}function QT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function bm(i){return!!i&&"integerValue"in i}function ip(i){return!!i&&"arrayValue"in i}function ZT(i){return!!i&&"nullValue"in i}function XT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Zc(i){return!!i&&"mapValue"in i}function VV(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[FE])==null?void 0:n.stringValue)===BE}function Kl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return sr(i.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Kl(n))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kl(i.arrayValue.values[t]);return e}return{...i}}function PV(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===DV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Zc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(t)}setAll(e){let t=sn.emptyPath(),n={},r=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const y=this.getFieldsMap(t);this.applyChanges(y,n,r),n={},r=[],t=h.popLast()}c?n[h.lastSegment()]=Kl(c):r.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());Zc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Zc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){sr(t,((r,a)=>e[r]=a));for(const r of n)delete e[r]}clone(){return new wn(Kl(this.value))}}function qE(i){const e=[];return sr(i.fields,((t,n)=>{const r=new sn([t]);if(Zc(n)){const a=qE(n.mapValue).fields;if(a.length===0)e.push(r);else for(const c of a)e.push(r.child(c))}else e.push(r)})),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t,n,r,a,c,h){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new hn(e,0,Re.min(),Re.min(),Re.min(),wn.empty(),0)}static newFoundDocument(e,t,n,r){return new hn(e,1,t,Re.min(),n,r,0)}static newNoDocument(e,t){return new hn(e,2,t,Re.min(),Re.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,Re.min(),Re.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t){this.position=e,this.inclusive=t}}function JT(i,e,t){let n=0;for(let r=0;r<i.position.length;r++){const a=e[r],c=i.position[r];if(a.field.isKeyField()?n=_e.comparator(_e.fromName(c.referenceValue),t.key):n=ma(c,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function jT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ui(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,t="asc"){this.field=e,this.dir=t}}function kV(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{}class Lt extends zE{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new OV(e,t,n):t==="array-contains"?new BV(e,n):t==="in"?new qV(e,n):t==="not-in"?new zV(e,n):t==="array-contains-any"?new GV(e,n):new Lt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new UV(e,n):new FV(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ma(t,this.value)):t!==null&&Ws(this.value)===Ws(t)&&this.matchesComparison(ma(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends zE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new hi(e,t)}matches(e){return GE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GE(i){return i.op==="and"}function HE(i){return LV(i)&&GE(i)}function LV(i){for(const e of i.filters)if(e instanceof hi)return!1;return!0}function Im(i){if(i instanceof Lt)return i.field.canonicalString()+i.op.toString()+pa(i.value);if(HE(i))return i.filters.map((e=>Im(e))).join(",");{const e=i.filters.map((t=>Im(t))).join(",");return`${i.op}(${e})`}}function $E(i,e){return i instanceof Lt?(function(n,r){return r instanceof Lt&&n.op===r.op&&n.field.isEqual(r.field)&&Ui(n.value,r.value)})(i,e):i instanceof hi?(function(n,r){return r instanceof hi&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce(((a,c,h)=>a&&$E(c,r.filters[h])),!0):!1})(i,e):void Se(19439)}function YE(i){return i instanceof Lt?(function(t){return`${t.field.canonicalString()} ${t.op} ${pa(t.value)}`})(i):i instanceof hi?(function(t){return t.op.toString()+" {"+t.getFilters().map(YE).join(" ,")+"}"})(i):"Filter"}class OV extends Lt{constructor(e,t,n){super(e,t,n),this.key=_e.fromName(n.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class UV extends Lt{constructor(e,t){super(e,"in",t),this.keys=KE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class FV extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=KE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function KE(i,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((n=>_e.fromName(n.referenceValue)))}class BV extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ip(t)&&su(t.arrayValue,this.value)}}class qV extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&su(this.value.arrayValue,t)}}class zV extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!su(this.value.arrayValue,t)}}class GV extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ip(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>su(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,t=null,n=[],r=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=c,this.endAt=h,this.Te=null}}function WT(i,e=null,t=[],n=[],r=null,a=null,c=null){return new HV(i,e,t,n,r,a,c)}function sp(i){const e=De(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Im(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),Rf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>pa(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>pa(n))).join(",")),e.Te=t}return e.Te}function rp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!kV(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!$E(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!jT(i.startAt,e.startAt)&&jT(i.endAt,e.endAt)}function Nm(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t=null,n=[],r=[],a=null,c="F",h=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $V(i,e,t,n,r,a,c,h){return new Sa(i,e,t,n,r,a,c,h)}function op(i){return new Sa(i)}function e0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function QE(i){return i.collectionGroup!==null}function Ql(i){const e=De(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ht(sn.comparator);return c.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new ru(a,n))})),t.has(sn.keyField().canonicalString())||e.Ie.push(new ru(sn.keyField(),n))}return e.Ie}function Vi(i){const e=De(i);return e.Ee||(e.Ee=YV(e,Ql(i))),e.Ee}function YV(i,e){if(i.limitType==="F")return WT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((r=>{const a=r.dir==="desc"?"asc":"desc";return new ru(r.field,a)}));const t=i.endAt?new pf(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new pf(i.startAt.position,i.startAt.inclusive):null;return WT(i.path,i.collectionGroup,e,i.filters,i.limit,t,n)}}function Mm(i,e){const t=i.filters.concat([e]);return new Sa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Dm(i,e,t){return new Sa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function If(i,e){return rp(Vi(i),Vi(e))&&i.limitType===e.limitType}function ZE(i){return`${sp(Vi(i))}|lt:${i.limitType}`}function Xo(i){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((r=>YE(r))).join(", ")}]`),Rf(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>pa(r))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>pa(r))).join(",")),`Target(${n})`})(Vi(i))}; limitType=${i.limitType})`}function Nf(i,e){return e.isFoundDocument()&&(function(n,r){const a=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):_e.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(i,e)&&(function(n,r){for(const a of Ql(n))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0})(i,e)&&(function(n,r){for(const a of n.filters)if(!a.matches(r))return!1;return!0})(i,e)&&(function(n,r){return!(n.startAt&&!(function(c,h,y){const g=JT(c,h,y);return c.inclusive?g<=0:g<0})(n.startAt,Ql(n),r)||n.endAt&&!(function(c,h,y){const g=JT(c,h,y);return c.inclusive?g>=0:g>0})(n.endAt,Ql(n),r))})(i,e)}function KV(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function XE(i){return(e,t)=>{let n=!1;for(const r of Ql(i)){const a=QV(r,e,t);if(a!==0)return a;n=n||r.field.isKeyField()}return 0}}function QV(i,e,t){const n=i.field.isKeyField()?_e.comparator(e.key,t.key):(function(a,c,h){const y=c.data.field(a),g=h.data.field(a);return y!==null&&g!==null?ma(y,g):Se(42886)})(i.field,e,t);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return Se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[r,a]of n)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){sr(this.inner,((t,n)=>{for(const[r,a]of n)e(r,a)}))}isEmpty(){return VE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=new _t(_e.comparator);function ls(){return ZV}const JE=new _t(_e.comparator);function zl(...i){let e=JE;for(const t of i)e=e.insert(t.key,t);return e}function jE(i){let e=JE;return i.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Yr(){return Zl()}function WE(){return Zl()}function Zl(){return new no((i=>i.toString()),((i,e)=>i.isEqual(e)))}const XV=new _t(_e.comparator),JV=new Ht(_e.comparator);function qe(...i){let e=JV;for(const t of i)e=e.add(t);return e}const jV=new Ht(Be);function WV(){return jV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:df(e)?"-0":e}}function eC(i){return{integerValue:""+i}}function e4(i,e){return RV(e)?eC(e):ap(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(){this._=void 0}}function t4(i,e,t){return i instanceof ou?(function(r,a){const c={fields:{[LE]:{stringValue:kE},[UE]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&np(a)&&(a=bf(a)),a&&(c.fields[OE]=a),{mapValue:c}})(t,e):i instanceof au?nC(i,e):i instanceof lu?iC(i,e):(function(r,a){const c=tC(r,a),h=t0(c)+t0(r.Ae);return bm(c)&&bm(r.Ae)?eC(h):ap(r.serializer,h)})(i,e)}function n4(i,e,t){return i instanceof au?nC(i,e):i instanceof lu?iC(i,e):t}function tC(i,e){return i instanceof gf?(function(n){return bm(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class ou extends Mf{}class au extends Mf{constructor(e){super(),this.elements=e}}function nC(i,e){const t=sC(e);for(const n of i.elements)t.some((r=>Ui(r,n)))||t.push(n);return{arrayValue:{values:t}}}class lu extends Mf{constructor(e){super(),this.elements=e}}function iC(i,e){let t=sC(e);for(const n of i.elements)t=t.filter((r=>!Ui(r,n)));return{arrayValue:{values:t}}}class gf extends Mf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function t0(i){return wt(i.integerValue||i.doubleValue)}function sC(i){return ip(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,t){this.field=e,this.transform=t}}function s4(i,e){return i.field.isEqual(e.field)&&(function(n,r){return n instanceof au&&r instanceof au||n instanceof lu&&r instanceof lu?ha(n.elements,r.elements,Ui):n instanceof gf&&r instanceof gf?Ui(n.Ae,r.Ae):n instanceof ou&&r instanceof ou})(i.transform,e.transform)}class r4{constructor(e,t){this.version=e,this.transformResults=t}}class Rn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Df{}function rC(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Vf(i.key,Rn.none()):new du(i.key,i.data,Rn.none());{const t=i.data,n=wn.empty();let r=new Ht(sn.comparator);for(let a of e.fields)if(!r.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?n.delete(a):n.set(a,c),r=r.add(a)}return new rr(i.key,n,new Ln(r.toArray()),Rn.none())}}function o4(i,e,t){i instanceof du?(function(r,a,c){const h=r.value.clone(),y=i0(r.fieldTransforms,a,c.transformResults);h.setAll(y),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(i,e,t):i instanceof rr?(function(r,a,c){if(!Xc(r.precondition,a))return void a.convertToUnknownDocument(c.version);const h=i0(r.fieldTransforms,a,c.transformResults),y=a.data;y.setAll(oC(r)),y.setAll(h),a.convertToFoundDocument(c.version,y).setHasCommittedMutations()})(i,e,t):(function(r,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Xl(i,e,t,n){return i instanceof du?(function(a,c,h,y){if(!Xc(a.precondition,c))return h;const g=a.value.clone(),_=s0(a.fieldTransforms,y,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,t,n):i instanceof rr?(function(a,c,h,y){if(!Xc(a.precondition,c))return h;const g=s0(a.fieldTransforms,y,c),_=c.data;return _.setAll(oC(a)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(i,e,t,n):(function(a,c,h){return Xc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(i,e,t)}function a4(i,e){let t=null;for(const n of i.fieldTransforms){const r=e.data.field(n.field),a=tC(n.transform,r||null);a!=null&&(t===null&&(t=wn.empty()),t.set(n.field,a))}return t||null}function n0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ha(n,r,((a,c)=>s4(a,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class du extends Df{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rr extends Df{constructor(e,t,n,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function oC(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=i.data.field(t);e.set(t,n)}})),e}function i0(i,e,t){const n=new Map;tt(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let r=0;r<t.length;r++){const a=i[r],c=a.transform,h=e.data.field(a.field);n.set(a.field,n4(c,h,t[r]))}return n}function s0(i,e,t){const n=new Map;for(const r of i){const a=r.transform,c=t.data.field(r.field);n.set(r.field,t4(a,c,e))}return n}class Vf extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l4 extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&o4(a,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Xl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Xl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=WE();return this.mutations.forEach((r=>{const a=e.get(r.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(r.key)?null:h;const y=rC(c,h);y!==null&&n.set(r.key,y),c.isValidDocument()||c.convertToNoDocument(Re.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),qe())}isEqual(e){return this.batchId===e.batchId&&ha(this.mutations,e.mutations,((t,n)=>n0(t,n)))&&ha(this.baseMutations,e.baseMutations,((t,n)=>n0(t,n)))}}class lp{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){tt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=(function(){return XV})();const a=e.mutations;for(let c=0;c<a.length;c++)r=r.insert(a[c].key,n[c].version);return new lp(e,t,n,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ke;function d4(i){switch(i){case J.OK:return Se(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function aC(i){if(i===void 0)return as("GRPC error has no .code"),J.UNKNOWN;switch(i){case Pt.OK:return J.OK;case Pt.CANCELLED:return J.CANCELLED;case Pt.UNKNOWN:return J.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return J.INTERNAL;case Pt.UNAVAILABLE:return J.UNAVAILABLE;case Pt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Pt.NOT_FOUND:return J.NOT_FOUND;case Pt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Pt.ABORTED:return J.ABORTED;case Pt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Pt.DATA_LOSS:return J.DATA_LOSS;default:return Se(39323,{code:i})}}(Ke=Pt||(Pt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=new Ks([4294967295,4294967295],0);function r0(i){const e=h4().encode(i),t=new CE;return t.update(e),new Uint8Array(t.digest())}function o0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ks([t,n],0),new Ks([r,a],0)]}class up{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Gl(`Invalid padding: ${t}`);if(n<0)throw new Gl(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ks.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Ks.fromNumber(n)));return r.compare(m4)===1&&(r=new Ks([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=r0(e),[n,r]=o0(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(n,r,a);if(!this.we(c))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new up(a,r,t);return n.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=r0(e),[n,r]=o0(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(n,r,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Pf(Re.min(),r,new _t(Be),ls(),qe())}}class hu{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new hu(n,t,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class lC{constructor(e,t){this.targetId=e,this.Ce=t}}class uC{constructor(e,t,n=rn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class a0{constructor(){this.ve=0,this.Fe=l0(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),t=qe(),n=qe();return this.Fe.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Se(38017,{changeType:a})}})),new hu(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=l0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class p4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ls(),this.Je=zc(),this.He=zc(),this.Ye=new _t(Be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(Nm(a))if(n===0){const c=new _e(a.path);this.et(t,c,hn.newNoDocument(c,Re.min()))}else tt(n===1,20013,{expectedCount:n});else{const c=this._t(t);if(c!==n){const h=this.ut(e),y=h?this.ct(h,e,c):1;if(y!==0){this.it(t);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=t;let c,h;try{c=js(n).toUint8Array()}catch(y){if(y instanceof PE)return da("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{h=new up(c,r,a)}catch(y){return da(y instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return h.ge===0?null:h}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach((a=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((a,c)=>{const h=this.ot(c);if(h){if(a.current&&Nm(h.target)){const y=new _e(h.target.path);this.It(y).has(c)||this.Et(c,y)||this.et(c,y,hn.newNoDocument(y,e))}a.Be&&(t.set(c,a.ke()),a.qe())}}));let n=qe();this.He.forEach(((a,c)=>{let h=!0;c.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(n=n.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const r=new Pf(e,t,this.Ye,this.je,n);return this.je=ls(),this.Je=zc(),this.He=zc(),this.Ye=new _t(Be),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new a0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ht(Be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ht(Be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new a0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function zc(){return new _t(_e.comparator)}function l0(){return new _t(_e.comparator)}const g4={asc:"ASCENDING",desc:"DESCENDING"},y4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v4={and:"AND",or:"OR"};class _4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vm(i,e){return i.useProto3Json||Rf(e)?e:{value:e}}function yf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cC(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function T4(i,e){return yf(i,e.toTimestamp())}function Pi(i){return tt(!!i,49232),Re.fromTimestamp((function(t){const n=Js(t);return new pt(n.seconds,n.nanos)})(i))}function cp(i,e){return Pm(i,e).canonicalString()}function Pm(i,e){const t=(function(r){return new ft(["projects",r.projectId,"databases",r.database])})(i).child("documents");return e===void 0?t:t.child(e)}function fC(i){const e=ft.fromString(i);return tt(gC(e),10190,{key:e.toString()}),e}function km(i,e){return cp(i.databaseId,e.path)}function Jh(i,e){const t=fC(e);if(t.get(1)!==i.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new _e(hC(t))}function dC(i,e){return cp(i.databaseId,e)}function E4(i){const e=fC(i);return e.length===4?ft.emptyPath():hC(e)}function Lm(i){return new ft(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function hC(i){return tt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function u0(i,e,t){return{name:km(i,e),fields:t.value.mapValue.fields}}function C4(i,e){let t;if("targetChange"in e){e.targetChange;const n=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=(function(g,_){return g.useProto3Json?(tt(_===void 0||typeof _=="string",58123),rn.fromBase64String(_||"")):(tt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),rn.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(g){const _=g.code===void 0?J.UNKNOWN:aC(g.code);return new ce(_,g.message||"")})(c);t=new uC(n,r,a,h||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=Jh(i,n.document.name),a=Pi(n.document.updateTime),c=n.document.createTime?Pi(n.document.createTime):Re.min(),h=new wn({mapValue:{fields:n.document.fields}}),y=hn.newFoundDocument(r,a,c,h),g=n.targetIds||[],_=n.removedTargetIds||[];t=new Jc(g,_,y.key,y)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=Jh(i,n.document),a=n.readTime?Pi(n.readTime):Re.min(),c=hn.newNoDocument(r,a),h=n.removedTargetIds||[];t=new Jc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=Jh(i,n.document),a=n.removedTargetIds||[];t=new Jc([],a,r,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:r=0,unchangedNames:a}=n,c=new f4(r,a),h=n.targetId;t=new lC(h,c)}}return t}function A4(i,e){let t;if(e instanceof du)t={update:u0(i,e.key,e.value)};else if(e instanceof Vf)t={delete:km(i,e.key)};else if(e instanceof rr)t={update:u0(i,e.key,e.data),updateMask:D4(e.fieldMask)};else{if(!(e instanceof l4))return Se(16599,{Vt:e.type});t={verify:km(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(a,c){const h=c.transform;if(h instanceof ou)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof au)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof lu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof gf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Se(20930,{transform:c.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(r,a){return a.updateTime!==void 0?{updateTime:T4(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se(27497)})(i,e.precondition)),t}function S4(i,e){return i&&i.length>0?(tt(e!==void 0,14353),i.map((t=>(function(r,a){let c=r.updateTime?Pi(r.updateTime):Pi(a);return c.isEqual(Re.min())&&(c=Pi(a)),new r4(c,r.transformResults||[])})(t,e)))):[]}function x4(i,e){return{documents:[dC(i,e.path)]}}function w4(i,e){const t={structuredQuery:{}},n=e.path;let r;e.collectionGroup!==null?(r=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=dC(i,r);const a=(function(g){if(g.length!==0)return pC(hi.create(g,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(g){if(g.length!==0)return g.map((_=>(function(S){return{field:Jo(S.field),direction:I4(S.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Vm(i,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:r}}function R4(i){let e=E4(i.parent);const t=i.structuredQuery,n=t.from?t.from.length:0;let r=null;if(n>0){tt(n===1,65062);const _=t.from[0];_.allDescendants?r=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=(function(E){const S=mC(E);return S instanceof hi&&HE(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((S=>(function(L){return new ru(jo(L.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(S)))})(t.orderBy));let h=null;t.limit&&(h=(function(E){let S;return S=typeof E=="object"?E.value:E,Rf(S)?null:S})(t.limit));let y=null;t.startAt&&(y=(function(E){const S=!!E.before,M=E.values||[];return new pf(M,S)})(t.startAt));let g=null;return t.endAt&&(g=(function(E){const S=!E.before,M=E.values||[];return new pf(M,S)})(t.endAt)),$V(e,r,c,a,h,"F",y,g)}function b4(i,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mC(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=jo(t.unaryFilter.field);return Lt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=jo(t.unaryFilter.field);return Lt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=jo(t.unaryFilter.field);return Lt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=jo(t.unaryFilter.field);return Lt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Lt.create(jo(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return hi.create(t.compositeFilter.filters.map((n=>mC(n))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(i):Se(30097,{filter:i})}function I4(i){return g4[i]}function N4(i){return y4[i]}function M4(i){return v4[i]}function Jo(i){return{fieldPath:i.canonicalString()}}function jo(i){return sn.fromServerFormat(i.fieldPath)}function pC(i){return i instanceof Lt?(function(t){if(t.op==="=="){if(XT(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NAN"}};if(ZT(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(XT(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NAN"}};if(ZT(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(t.field),op:N4(t.op),value:t.value}}})(i):i instanceof hi?(function(t){const n=t.getFilters().map((r=>pC(r)));return n.length===1?n[0]:{compositeFilter:{op:M4(t.op),filters:n}}})(i):Se(54877,{filter:i})}function D4(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function gC(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t,n,r,a=Re.min(),c=Re.min(),h=rn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=y}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.yt=e}}function P4(i){const e=R4({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.Cn=new L4}addToCollectionParentIndex(e,t){return this.Cn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Xs.min())}updateCollectionGroup(e,t,n){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class L4{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ht(ft.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ht(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yC=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(yC,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ga(0)}static cr(){return new ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="LruGarbageCollector",O4=1048576;function d0([i,e],[t,n]){const r=Be(i,t);return r===0?Be(e,n):r}class U4{constructor(e){this.Ir=e,this.buffer=new Ht(d0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();d0(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class F4{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(f0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Aa(t)?he(f0,"Ignoring IndexedDB error during garbage collection: ",t):await Ca(t)}await this.Vr(3e5)}))}}class B4{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(wf.ce);const n=new U4(t);return this.mr.forEachTarget(e,(r=>n.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>n.Ar(r))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(c0)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,a,c,h,y,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),r=this.params.maximumSequenceNumbersToCollect):r=E,c=Date.now(),this.nthSequenceNumber(e,r)))).next((E=>(n=E,h=Date.now(),this.removeTargets(e,n,t)))).next((E=>(a=E,y=Date.now(),this.removeOrphanedDocuments(e,n)))).next((E=>(g=Date.now(),Zo()<=Qe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${a} targets in `+(y-h)+`ms
	Removed ${E} documents in `+(g-y)+`ms
Total Duration: ${g-_}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:E}))))}}function q4(i,e){return new B4(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.changes=new no((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ee.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(n!==null&&Xl(n.mutation,r,Ln.empty(),pt.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,qe()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=qe()){const r=Yr();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((a=>{let c=zl();return a.forEach(((h,y)=>{c=c.insert(h,y.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const n=Yr();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,qe())))}populateOverlays(e,t,n){const r=[];return n.forEach((a=>{t.has(a)||r.push(a)})),this.documentOverlayCache.getOverlays(e,r).next((a=>{a.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,n,r){let a=ls();const c=Zl(),h=(function(){return Zl()})();return t.forEach(((y,g)=>{const _=n.get(g.key);r.has(g.key)&&(_===void 0||_.mutation instanceof rr)?a=a.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Xl(_.mutation,g,_.mutation.getFieldMask(),pt.now())):c.set(g.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,a).next((y=>(y.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>h.set(g,new G4(_,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,t){const n=Zl();let r=new _t(((c,h)=>c-h)),a=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((y=>{const g=t.get(y);if(g===null)return;let _=n.get(y)||Ln.empty();_=h.applyToLocalView(g,_),n.set(y,_);const E=(r.get(h.batchId)||qe()).add(y);r=r.insert(h.batchId,E)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const y=h.getNext(),g=y.key,_=y.value,E=WE();_.forEach((S=>{if(!a.has(S)){const M=rC(t.get(S),n.get(S));M!==null&&E.set(S,M),a=a.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return ee.waitFor(c)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,r){return(function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):QE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((a=>{const c=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ee.resolve(Yr());let h=tu,y=a;return c.next((g=>ee.forEach(g,((_,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(_)?ee.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{y=y.insert(_,S)}))))).next((()=>this.populateOverlays(e,g,a))).next((()=>this.computeViews(e,y,g,qe()))).next((_=>({batchId:h,changes:jE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((n=>{let r=zl();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const a=t.collectionGroup;let c=zl();return this.indexManager.getCollectionParents(e,a).next((h=>ee.forEach(h,(y=>{const g=(function(E,S){return new Sa(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,y.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,n,r).next((_=>{_.forEach(((E,S)=>{c=c.insert(E,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r)))).next((c=>{a.forEach(((y,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,hn.newInvalidDocument(_)))}));let h=zl();return c.forEach(((y,g)=>{const _=a.get(y);_!==void 0&&Xl(_.mutation,g,Ln.empty(),pt.now()),Nf(t,g)&&(h=h.insert(y,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ee.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:Pi(r.createTime)}})(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(r){return{name:r.name,query:P4(r.bundledQuery),readTime:Pi(r.readTime)}})(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.overlays=new _t(_e.comparator),this.qr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Yr();return ee.forEach(t,(r=>this.getOverlay(e,r).next((a=>{a!==null&&n.set(r,a)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((r,a)=>{this.St(e,t,a)})),ee.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return r!==void 0&&(r.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(n)),ee.resolve()}getOverlaysForCollection(e,t,n){const r=Yr(),a=t.length+1,c=new _e(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const y=h.getNext().value,g=y.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&y.largestBatchId>n&&r.set(y.getKey(),y)}return ee.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new _t(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>n){let _=a.get(g.largestBatchId);_===null&&(_=Yr(),a=a.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const h=Yr(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,_)=>h.set(g,_))),!(h.size()>=r)););return ee.resolve(h)}St(e,t,n){const r=this.overlays.get(n.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new c4(t,n));let a=this.qr.get(t);a===void 0&&(a=qe(),this.qr.set(t,a)),this.qr.set(t,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this.Qr=new Ht(Zt.$r),this.Ur=new Ht(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Zt(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new Zt(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new _e(new ft([])),n=new Zt(t,e),r=new Zt(t,e+1),a=[];return this.Ur.forEachInRange([n,r],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new ft([])),n=new Zt(t,e),r=new Zt(t,e+1);let a=qe();return this.Ur.forEachInRange([n,r],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new Zt(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Zt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||Be(e.Yr,t.Yr)}static Kr(e,t){return Be(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Zt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new u4(a,t,n,r);this.mutationQueue.push(c);for(const h of r)this.Zr=this.Zr.add(new Zt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,t){return ee.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),a=r<0?0:r;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?tp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Zt(t,0),r=new Zt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,r],(c=>{const h=this.Xr(c.Yr);a.push(h)})),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ht(Be);return t.forEach((r=>{const a=new Zt(r,0),c=new Zt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(h=>{n=n.add(h.Yr)}))})),ee.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;_e.isDocumentKey(a)||(a=a.child(""));const c=new Zt(new _e(a),0);let h=new Ht(Be);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!n.isPrefixOf(g)&&(g.length===r&&(h=h.add(y.Yr)),!0)}),c),ee.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((n=>{const r=this.Xr(n);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){tt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return ee.forEach(t.mutations,(r=>{const a=new Zt(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new Zt(t,0),r=this.Zr.firstAfterOrEqual(n);return ee.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.ri=e,this.docs=(function(){return new _t(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,c=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ee.resolve(n?n.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let n=ls();return t.forEach((r=>{const a=this.docs.get(r);n=n.insert(r,a?a.document.mutableCopy():hn.newInvalidDocument(r))})),ee.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=ls();const c=t.path,h=new _e(c.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(h);for(;y.hasNext();){const{key:g,value:{document:_}}=y.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||AV(CV(_),n)<=0||(r.has(_.key)||Nf(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,t,n,r){Se(9500)}ii(e,t){return ee.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new X4(this)}getSize(e){return ee.resolve(this.size)}}class X4 extends z4{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)})),ee.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.persistence=e,this.si=new no((t=>sp(t)),rp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new fp,this.targetCount=0,this.ai=ga.ur()}forEachTarget(e,t){return this.si.forEach(((n,r)=>t(r))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),ee.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ga(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Pr(t),ee.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=t&&n.get(h.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)})),ee.waitFor(a).next((()=>r))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return ee.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),ee.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((c=>{a.push(r.markPotentiallyOrphaned(e,c))})),ee.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return ee.resolve(n)}containsKey(e,t){return ee.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,t){this.ui={},this.overlays={},this.ci=new wf(0),this.li=!1,this.li=!0,this.hi=new K4,this.referenceDelegate=e(this),this.Pi=new J4(this),this.indexManager=new k4,this.remoteDocumentCache=(function(r){return new Z4(r)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new V4(t),this.Ii=new $4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Y4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Q4(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){he("MemoryPersistence","Starting transaction:",e);const r=new j4(this.ci.next());return this.referenceDelegate.Ei(),n(r).next((a=>this.referenceDelegate.di(r).next((()=>a)))).toPromise().then((a=>(r.raiseOnCommittedEvent(),a)))}Ai(e,t){return ee.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class j4 extends xV{constructor(e){super(),this.currentSequenceNumber=e}}class dp{constructor(e){this.persistence=e,this.Ri=new fp,this.Vi=null}static mi(e){return new dp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),ee.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((r=>this.fi.add(r.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((a=>this.fi.add(a.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(n=>{const r=_e.fromPath(n);return this.gi(e,r).next((a=>{a||t.removeEntry(r,Re.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ee.or([()=>ee.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class vf{constructor(e,t){this.persistence=e,this.pi=new no((n=>bV(n.path)),((n,r)=>n.isEqual(r))),this.garbageCollector=q4(this,t)}static mi(e,t){return new vf(e,t)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((r=>n+r))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return ee.forEach(this.pi,((n,r)=>this.br(e,n,r).next((a=>a?ee.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,(c=>this.br(e,c,t).next((h=>{h||(n++,a.removeEntry(c,Re.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ee.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qc(e.data.value)),t}br(e,t,n){return ee.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return ee.resolve(r!==void 0&&r>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=qe(),r=qe();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new hp(e,t.fromCache,n,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return H2()?8:wV(z2())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const a={result:null};return this.ys(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,t,r,n).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new W4;return this.Ss(e,t,c).next((h=>{if(a.result=h,this.Vs)return this.bs(e,t,c,h.size)}))})).next((()=>a.result))}bs(e,t,n,r){return n.documentReadCount<this.fs?(Zo()<=Qe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Zo()<=Qe.DEBUG&&he("QueryEngine","Query:",Xo(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Zo()<=Qe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(t))):ee.resolve())}ys(e,t){if(e0(t))return ee.resolve(null);let n=Vi(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=Dm(t,null,"F"),n=Vi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const c=qe(...a);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,n).next((y=>{const g=this.Ds(t,h);return this.Cs(t,g,c,y.readTime)?this.ys(e,Dm(t,null,"F")):this.vs(e,g,t,y)}))))})))))}ws(e,t,n,r){return e0(t)||r.isEqual(Re.min())?ee.resolve(null):this.ps.getDocuments(e,n).next((a=>{const c=this.Ds(t,a);return this.Cs(t,c,n,r)?ee.resolve(null):(Zo()<=Qe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xo(t)),this.vs(e,c,t,EV(r,tu)).next((h=>h)))}))}Ds(e,t){let n=new Ht(XE(e));return t.forEach(((r,a)=>{Nf(e,a)&&(n=n.add(a))})),n}Cs(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,t,n){return Zo()<=Qe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Xo(t)),this.ps.getDocumentsMatchingQuery(e,t,Xs.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="LocalStore",tP=3e8;class nP{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new _t(Be),this.xs=new no((a=>sp(a)),rp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function iP(i,e,t,n){return new nP(i,e,t,n)}async function _C(i,e){const t=De(i);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let r;return t.mutationQueue.getAllMutationBatches(n).next((a=>(r=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((a=>{const c=[],h=[];let y=qe();for(const g of r){c.push(g.batchId);for(const _ of g.mutations)y=y.add(_.key)}for(const g of a){h.push(g.batchId);for(const _ of g.mutations)y=y.add(_.key)}return t.localDocuments.getDocuments(n,y).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function sP(i,e){const t=De(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const r=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,y,g,_){const E=g.batch,S=E.keys();let M=ee.resolve();return S.forEach((L=>{M=M.next((()=>_.getEntry(y,L))).next((z=>{const H=g.docVersions.get(L);tt(H!==null,48541),z.version.compareTo(H)<0&&(E.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),_.addEntry(z)))}))})),M.next((()=>h.mutationQueue.removeMutationBatch(y,E)))})(t,n,e,a).next((()=>a.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(h){let y=qe();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(y=y.add(h.batch.mutations[g].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(n,r)))}))}function TC(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function rP(i,e){const t=De(i),n=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const h=[];e.targetChanges.forEach(((_,E)=>{const S=r.get(E);if(!S)return;h.push(t.Pi.removeMatchingKeys(a,_.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(a,_.addedDocuments,E))));let M=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?M=M.withResumeToken(rn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):_.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(_.resumeToken,n)),r=r.insert(E,M),(function(z,H,X){return z.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=tP?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(S,M,_)&&h.push(t.Pi.updateTargetData(a,M))}));let y=ls(),g=qe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))})),h.push(oP(a,c,e.documentUpdates).next((_=>{y=_.ks,g=_.qs}))),!n.isEqual(Re.min())){const _=t.Pi.getLastRemoteSnapshotVersion(a).next((E=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n)));h.push(_)}return ee.waitFor(h).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,y,g))).next((()=>y))})).then((a=>(t.Ms=r,a)))}function oP(i,e,t){let n=qe(),r=qe();return t.forEach((a=>n=n.add(a))),e.getEntries(i,n).next((a=>{let c=ls();return t.forEach(((h,y)=>{const g=a.get(h);y.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(h)),y.isNoDocument()&&y.version.isEqual(Re.min())?(e.removeEntry(h,y.readTime),c=c.insert(h,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),c=c.insert(h,y)):he(mp,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",y.version)})),{ks:c,qs:r}}))}function aP(i,e){const t=De(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=tp),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function lP(i,e){const t=De(i);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let r;return t.Pi.getTargetData(n,e).next((a=>a?(r=a,ee.resolve(r)):t.Pi.allocateTargetId(n).next((c=>(r=new Gs(e,c,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,r).next((()=>r)))))))})).then((n=>{const r=t.Ms.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function Om(i,e,t){const n=De(i),r=n.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,(c=>n.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Aa(c))throw c;he(mp,`Failed to update sequence numbers for target ${e}: ${c}`)}n.Ms=n.Ms.remove(e),n.xs.delete(r.target)}function h0(i,e,t){const n=De(i);let r=Re.min(),a=qe();return n.persistence.runTransaction("Execute query","readwrite",(c=>(function(y,g,_){const E=De(y),S=E.xs.get(_);return S!==void 0?ee.resolve(E.Ms.get(S)):E.Pi.getTargetData(g,_)})(n,c,Vi(e)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(c,h.targetId).next((y=>{a=y}))})).next((()=>n.Fs.getDocumentsMatchingQuery(c,e,t?r:Re.min(),t?a:qe()))).next((h=>(uP(n,KV(e),h),{documents:h,Qs:a})))))}function uP(i,e,t){let n=i.Os.get(e)||Re.min();t.forEach(((r,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),i.Os.set(e,n)}class m0{constructor(){this.activeTargetIds=WV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cP{constructor(){this.Mo=new m0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new m0,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="ConnectivityMonitor";class g0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(p0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(p0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc=null;function Um(){return Gc===null?Gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gc++,"0x"+Gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="RestConnection",dP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===hf?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,a){const c=Um(),h=this.zo(e,t.toUriEncodedString());he(jh,`Sending RPC '${e}' ${c}:`,h,n);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,r,a);const{host:g}=new URL(h),_=Jm(g);return this.Jo(e,h,y,n,_).then((E=>(he(jh,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw da(jh,`RPC '${e}' ${c} failed with error: `,E,"url: ",h,"request:",n),E}))}Ho(e,t,n,r,a,c){return this.Go(e,t,n,r,a)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ea})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,a)=>e[a]=r)),n&&n.headers.forEach(((r,a)=>e[a]=r))}zo(e,t){const n=dP[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class pP extends hP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,a){const c=Um();return new Promise(((h,y)=>{const g=new AE;g.setWithCredentials(!0),g.listenOnce(SE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Kc.NO_ERROR:const E=g.getResponseJson();he(fn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),h(E);break;case Kc.TIMEOUT:he(fn,`RPC '${e}' ${c} timed out`),y(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const S=g.getStatus();if(he(fn,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const L=M==null?void 0:M.error;if(L&&L.status&&L.message){const z=(function(X){const j=X.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(j)>=0?j:J.UNKNOWN})(L.status);y(new ce(z,L.message))}else y(new ce(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ce(J.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(fn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(r);he(fn,`RPC '${e}' ${c} sending request:`,r),g.send(t,"POST",_,n,15)}))}T_(e,t,n){const r=Um(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=RE(),h=wE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,t,n),y.encodeInitMessageHeaders=!0;const _=a.join("");he(fn,`Creating RPC '${e}' stream ${r}: ${_}`,y);const E=c.createWebChannel(_,y);this.I_(E);let S=!1,M=!1;const L=new mP({Yo:H=>{M?he(fn,`Not sending because RPC '${e}' stream ${r} is closed:`,H):(S||(he(fn,`Opening RPC '${e}' stream ${r} transport.`),E.open(),S=!0),he(fn,`RPC '${e}' stream ${r} sending:`,H),E.send(H))},Zo:()=>E.close()}),z=(H,X,j)=>{H.listen(X,(ne=>{try{j(ne)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return z(E,ql.EventType.OPEN,(()=>{M||(he(fn,`RPC '${e}' stream ${r} transport opened.`),L.o_())})),z(E,ql.EventType.CLOSE,(()=>{M||(M=!0,he(fn,`RPC '${e}' stream ${r} transport closed`),L.a_(),this.E_(E))})),z(E,ql.EventType.ERROR,(H=>{M||(M=!0,da(fn,`RPC '${e}' stream ${r} transport errored. Name:`,H.name,"Message:",H.message),L.a_(new ce(J.UNAVAILABLE,"The operation could not be completed")))})),z(E,ql.EventType.MESSAGE,(H=>{var X;if(!M){const j=H.data[0];tt(!!j,16349);const ne=j,oe=(ne==null?void 0:ne.error)||((X=ne[0])==null?void 0:X.error);if(oe){he(fn,`RPC '${e}' stream ${r} received error:`,oe);const te=oe.status;let le=(function(x){const N=Pt[x];if(N!==void 0)return aC(N)})(te),k=oe.message;le===void 0&&(le=J.INTERNAL,k="Unknown error status: "+te+" with message "+oe.message),M=!0,L.a_(new ce(le,k)),E.close()}else he(fn,`RPC '${e}' stream ${r} received:`,j),L.u_(j)}})),z(h,xE.STAT_EVENT,(H=>{H.stat===xm.PROXY?he(fn,`RPC '${e}' stream ${r} detected buffering proxy`):H.stat===xm.NOPROXY&&he(fn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Wh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(i){return new _4(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t,n=1e3,r=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&he("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="PersistentStream";class CC{constructor(e,t,n,r,a,c,h,y){this.Mi=e,this.S_=n,this.b_=r,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new EC(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(as(t.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,r])=>{this.D_===t&&this.G_(n,r)}),(n=>{e((()=>{const r=new ce(J.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(r)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{n((()=>this.z_(r)))})),this.stream.onMessage((r=>{n((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(y0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(he(y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gP extends CC{constructor(e,t,n,r,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,c),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=C4(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Re.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?Pi(c.readTime):Re.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Lm(this.serializer),t.addTarget=(function(a,c){let h;const y=c.target;if(h=Nm(y)?{documents:x4(a,y)}:{query:w4(a,y).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=cC(a,c.resumeToken);const g=Vm(a,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Re.min())>0){h.readTime=yf(a,c.snapshotVersion.toTimestamp());const g=Vm(a,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const n=b4(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Lm(this.serializer),t.removeTarget=e,this.q_(t)}}class yP extends CC{constructor(e,t,n,r,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=S4(e.writeResults,e.commitTime),n=Pi(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Lm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>A4(this.serializer,n)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{}class _P extends vP{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,Pm(t,n),r,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(J.UNKNOWN,a.toString())}))}Ho(e,t,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,Pm(t,n),r,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(J.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class TP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="RemoteStore";class EP{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{n.enqueueAndForget((async()=>{io(this)&&(he(eo,"Restarting streams for network reachability change."),await(async function(y){const g=De(y);g.Ea.add(4),await mu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Lf(g)})(this))}))})),this.Ra=new TP(n,r)}}async function Lf(i){if(io(i))for(const e of i.da)await e(!0)}async function mu(i){for(const e of i.da)await e(!1)}function AC(i,e){const t=De(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),vp(t)?yp(t):xa(t).O_()&&gp(t,e))}function pp(i,e){const t=De(i),n=xa(t);t.Ia.delete(e),n.O_()&&SC(t,e),t.Ia.size===0&&(n.O_()?n.L_():io(t)&&t.Ra.set("Unknown"))}function gp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xa(i).Y_(e)}function SC(i,e){i.Va.Ue(e),xa(i).Z_(e)}function yp(i){i.Va=new p4({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),xa(i).start(),i.Ra.ua()}function vp(i){return io(i)&&!xa(i).x_()&&i.Ia.size>0}function io(i){return De(i).Ea.size===0}function xC(i){i.Va=void 0}async function CP(i){i.Ra.set("Online")}async function AP(i){i.Ia.forEach(((e,t)=>{gp(i,e)}))}async function SP(i,e){xC(i),vp(i)?(i.Ra.ha(e),yp(i)):i.Ra.set("Unknown")}async function xP(i,e,t){if(i.Ra.set("Online"),e instanceof uC&&e.state===2&&e.cause)try{await(async function(r,a){const c=a.cause;for(const h of a.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.Va.removeTarget(h))})(i,e)}catch(n){he(eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await _f(i,n)}else if(e instanceof Jc?i.Va.Ze(e):e instanceof lC?i.Va.st(e):i.Va.tt(e),!t.isEqual(Re.min()))try{const n=await TC(i.localStore);t.compareTo(n)>=0&&await(function(a,c){const h=a.Va.Tt(c);return h.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const _=a.Ia.get(g);_&&a.Ia.set(g,_.withResumeToken(y.resumeToken,c))}})),h.targetMismatches.forEach(((y,g)=>{const _=a.Ia.get(y);if(!_)return;a.Ia.set(y,_.withResumeToken(rn.EMPTY_BYTE_STRING,_.snapshotVersion)),SC(a,y);const E=new Gs(_.target,y,g,_.sequenceNumber);gp(a,E)})),a.remoteSyncer.applyRemoteEvent(h)})(i,t)}catch(n){he(eo,"Failed to raise snapshot:",n),await _f(i,n)}}async function _f(i,e,t){if(!Aa(e))throw e;i.Ea.add(1),await mu(i),i.Ra.set("Offline"),t||(t=()=>TC(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{he(eo,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Lf(i)}))}function wC(i,e){return e().catch((t=>_f(i,t,e)))}async function Of(i){const e=De(i),t=er(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tp;for(;wP(e);)try{const r=await aP(e.localStore,n);if(r===null){e.Ta.length===0&&t.L_();break}n=r.batchId,RP(e,r)}catch(r){await _f(e,r)}RC(e)&&bC(e)}function wP(i){return io(i)&&i.Ta.length<10}function RP(i,e){i.Ta.push(e);const t=er(i);t.O_()&&t.X_&&t.ea(e.mutations)}function RC(i){return io(i)&&!er(i).x_()&&i.Ta.length>0}function bC(i){er(i).start()}async function bP(i){er(i).ra()}async function IP(i){const e=er(i);for(const t of i.Ta)e.ea(t.mutations)}async function NP(i,e,t){const n=i.Ta.shift(),r=lp.from(n,e,t);await wC(i,(()=>i.remoteSyncer.applySuccessfulWrite(r))),await Of(i)}async function MP(i,e){e&&er(i).X_&&await(async function(n,r){if((function(c){return d4(c)&&c!==J.ABORTED})(r.code)){const a=n.Ta.shift();er(n).B_(),await wC(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,r))),await Of(n)}})(i,e),RC(i)&&bC(i)}async function v0(i,e){const t=De(i);t.asyncQueue.verifyOperationInProgress(),he(eo,"RemoteStore received new credentials");const n=io(t);t.Ea.add(3),await mu(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Lf(t)}async function DP(i,e){const t=De(i);e?(t.Ea.delete(2),await Lf(t)):e||(t.Ea.add(2),await mu(t),t.Ra.set("Unknown"))}function xa(i){return i.ma||(i.ma=(function(t,n,r){const a=De(t);return a.sa(),new gP(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(i.datastore,i.asyncQueue,{Xo:CP.bind(null,i),t_:AP.bind(null,i),r_:SP.bind(null,i),H_:xP.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),vp(i)?yp(i):i.Ra.set("Unknown")):(await i.ma.stop(),xC(i))}))),i.ma}function er(i){return i.fa||(i.fa=(function(t,n,r){const a=De(t);return a.sa(),new yP(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:bP.bind(null,i),r_:MP.bind(null,i),ta:IP.bind(null,i),na:NP.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Of(i)):(await i.fa.stop(),i.Ta.length>0&&(he(eo,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,a){const c=Date.now()+n,h=new _p(e,t,c,r,a);return h.start(n),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tp(i,e){if(as("AsyncQueue",`${e}: ${i}`),Aa(i))return new ce(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{static emptySet(e){return new ia(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||_e.comparator(t.key,n.key):(t,n)=>_e.comparator(t.key,n.key),this.keyedMap=zl(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ia)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=n.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new ia;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.ga=new _t(_e.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ya{constructor(e,t,n,r,a,c,h,y,g){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,t,n,r,a){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new ya(e,t,ia.emptySet(t),c,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&If(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class PP{constructor(){this.queries=T0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const r=De(t),a=r.queries;r.queries=T0(),a.forEach(((c,h)=>{for(const y of h.Sa)y.onError(n)}))})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function T0(){return new no((i=>ZE(i)),If)}async function kP(i,e){const t=De(i);let n=3;const r=e.query;let a=t.queries.get(r);a?!a.ba()&&e.Da()&&(n=2):(a=new VP,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await t.onListen(r,!0);break;case 1:a.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(c){const h=Tp(c,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Ep(t)}async function LP(i,e){const t=De(i),n=e.query;let r=3;const a=t.queries.get(n);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?r=e.Da()?0:1:!a.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function OP(i,e){const t=De(i);let n=!1;for(const r of e){const a=r.query,c=t.queries.get(a);if(c){for(const h of c.Sa)h.Fa(r)&&(n=!0);c.wa=r}}n&&Ep(t)}function UP(i,e,t){const n=De(i),r=n.queries.get(e);if(r)for(const a of r.Sa)a.onError(t);n.queries.delete(e)}function Ep(i){i.Ca.forEach((e=>{e.next()}))}var Fm,E0;(E0=Fm||(Fm={})).Ma="default",E0.Cache="cache";class FP{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const r of e.docChanges)r.type!==3&&n.push(r);e=new ya(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.key=e}}class NC{constructor(e){this.key=e}}class BP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=XE(e),this.tu=new ia(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new _0,r=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const y=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,g=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((_,E)=>{const S=r.get(_),M=Nf(this.query,E)?E:null,L=!!S&&this.mutatedKeys.has(S.key),z=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let H=!1;S&&M?S.data.isEqual(M.data)?L!==z&&(n.track({type:3,doc:M}),H=!0):this.su(S,M)||(n.track({type:2,doc:M}),H=!0,(y&&this.eu(M,y)>0||g&&this.eu(M,g)<0)&&(h=!0)):!S&&M?(n.track({type:0,doc:M}),H=!0):S&&!M&&(n.track({type:1,doc:S}),H=!0,(y||g)&&(h=!0)),H&&(M?(c=c.add(M),a=z?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),n.track({type:1,doc:_})}return{tu:c,iu:n,Cs:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,E)=>(function(M,L){const z=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:H})}};return z(M)-z(L)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(n),r=r??!1;const h=t&&!r?this._u():[],y=this.Xa.size===0&&this.current&&!r?1:0,g=y!==this.Za;return this.Za=y,c.length!==0||g?{snapshot:new ya(this.query,e.tu,a,c,e.mutatedKeys,y===0,g,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new NC(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new IC(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=qe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ya.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cp="SyncEngine";class qP{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class zP{constructor(e){this.key=e,this.hu=!1}}class GP{constructor(e,t,n,r,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new no((h=>ZE(h)),If),this.Iu=new Map,this.Eu=new Set,this.du=new _t(_e.comparator),this.Au=new Map,this.Ru=new fp,this.Vu={},this.mu=new Map,this.fu=ga.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HP(i,e,t=!0){const n=LC(i);let r;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await MC(n,e,t,!0),r}async function $P(i,e){const t=LC(i);await MC(t,e,!0,!1)}async function MC(i,e,t,n){const r=await lP(i.localStore,Vi(e)),a=r.targetId,c=i.sharedClientState.addLocalQueryTarget(a,t);let h;return n&&(h=await YP(i,e,a,c==="current",r.resumeToken)),i.isPrimaryClient&&t&&AC(i.remoteStore,r),h}async function YP(i,e,t,n,r){i.pu=(E,S,M)=>(async function(z,H,X,j){let ne=H.view.ru(X);ne.Cs&&(ne=await h0(z.localStore,H.query,!1).then((({documents:k})=>H.view.ru(k,ne))));const oe=j&&j.targetChanges.get(H.targetId),te=j&&j.targetMismatches.get(H.targetId)!=null,le=H.view.applyChanges(ne,z.isPrimaryClient,oe,te);return A0(z,H.targetId,le.au),le.snapshot})(i,E,S,M);const a=await h0(i.localStore,e,!0),c=new BP(e,a.Qs),h=c.ru(a.documents),y=hu.createSynthesizedTargetChangeForCurrentChange(t,n&&i.onlineState!=="Offline",r),g=c.applyChanges(h,i.isPrimaryClient,y);A0(i,t,g.au);const _=new qP(e,t,c);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function KP(i,e,t){const n=De(i),r=n.Tu.get(e),a=n.Iu.get(r.targetId);if(a.length>1)return n.Iu.set(r.targetId,a.filter((c=>!If(c,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Om(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),t&&pp(n.remoteStore,r.targetId),Bm(n,r.targetId)})).catch(Ca)):(Bm(n,r.targetId),await Om(n.localStore,r.targetId,!0))}async function QP(i,e){const t=De(i),n=t.Tu.get(e),r=t.Iu.get(n.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),pp(t.remoteStore,n.targetId))}async function ZP(i,e,t){const n=nk(i);try{const r=await(function(c,h){const y=De(c),g=pt.now(),_=h.reduce(((M,L)=>M.add(L.key)),qe());let E,S;return y.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let L=ls(),z=qe();return y.Ns.getEntries(M,_).next((H=>{L=H,L.forEach(((X,j)=>{j.isValidDocument()||(z=z.add(X))}))})).next((()=>y.localDocuments.getOverlayedDocuments(M,L))).next((H=>{E=H;const X=[];for(const j of h){const ne=a4(j,E.get(j.key).overlayedDocument);ne!=null&&X.push(new rr(j.key,ne,qE(ne.value.mapValue),Rn.exists(!0)))}return y.mutationQueue.addMutationBatch(M,g,X,h)})).next((H=>{S=H;const X=H.applyToLocalDocumentSet(E,z);return y.documentOverlayCache.saveOverlays(M,H.batchId,X)}))})).then((()=>({batchId:S.batchId,changes:jE(E)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(r.batchId),(function(c,h,y){let g=c.Vu[c.currentUser.toKey()];g||(g=new _t(Be)),g=g.insert(h,y),c.Vu[c.currentUser.toKey()]=g})(n,r.batchId,t),await pu(n,r.changes),await Of(n.remoteStore)}catch(r){const a=Tp(r,"Failed to persist write");t.reject(a)}}async function DC(i,e){const t=De(i);try{const n=await rP(t.localStore,e);e.targetChanges.forEach(((r,a)=>{const c=t.Au.get(a);c&&(tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?tt(c.hu,14607):r.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await pu(t,n,e)}catch(n){await Ca(n)}}function C0(i,e,t){const n=De(i);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const r=[];n.Tu.forEach(((a,c)=>{const h=c.view.va(e);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const y=De(c);y.onlineState=h;let g=!1;y.queries.forEach(((_,E)=>{for(const S of E.Sa)S.va(h)&&(g=!0)})),g&&Ep(y)})(n.eventManager,e),r.length&&n.Pu.H_(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function XP(i,e,t){const n=De(i);n.sharedClientState.updateQueryState(e,"rejected",t);const r=n.Au.get(e),a=r&&r.key;if(a){let c=new _t(_e.comparator);c=c.insert(a,hn.newNoDocument(a,Re.min()));const h=qe().add(a),y=new Pf(Re.min(),new Map,new _t(Be),c,h);await DC(n,y),n.du=n.du.remove(a),n.Au.delete(e),Ap(n)}else await Om(n.localStore,e,!1).then((()=>Bm(n,e,t))).catch(Ca)}async function JP(i,e){const t=De(i),n=e.batch.batchId;try{const r=await sP(t.localStore,e);PC(t,n,null),VC(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await pu(t,r)}catch(r){await Ca(r)}}async function jP(i,e,t){const n=De(i);try{const r=await(function(c,h){const y=De(c);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return y.mutationQueue.lookupMutationBatch(g,h).next((E=>(tt(E!==null,37113),_=E.keys(),y.mutationQueue.removeMutationBatch(g,E)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,_,h))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>y.localDocuments.getDocuments(g,_)))}))})(n.localStore,e);PC(n,e,t),VC(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await pu(n,r)}catch(r){await Ca(r)}}function VC(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function PC(i,e,t){const n=De(i);let r=n.Vu[n.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),n.Vu[n.currentUser.toKey()]=r}}function Bm(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const n of i.Iu.get(e))i.Tu.delete(n),t&&i.Pu.yu(n,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((n=>{i.Ru.containsKey(n)||kC(i,n)}))}function kC(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(pp(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Ap(i))}function A0(i,e,t){for(const n of t)n instanceof IC?(i.Ru.addReference(n.key,e),WP(i,n)):n instanceof NC?(he(Cp,"Document no longer in limbo: "+n.key),i.Ru.removeReference(n.key,e),i.Ru.containsKey(n.key)||kC(i,n.key)):Se(19791,{wu:n})}function WP(i,e){const t=e.key,n=t.path.canonicalString();i.du.get(t)||i.Eu.has(n)||(he(Cp,"New document in limbo: "+t),i.Eu.add(n),Ap(i))}function Ap(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new _e(ft.fromString(e)),n=i.fu.next();i.Au.set(n,new zP(t)),i.du=i.du.insert(t,n),AC(i.remoteStore,new Gs(Vi(op(t.path)),n,"TargetPurposeLimboResolution",wf.ce))}}async function pu(i,e,t){const n=De(i),r=[],a=[],c=[];n.Tu.isEmpty()||(n.Tu.forEach(((h,y)=>{c.push(n.pu(y,e,t).then((g=>{var _;if((g||t)&&n.isPrimaryClient){const E=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(y.targetId))==null?void 0:_.current;n.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(g){r.push(g);const E=hp.As(y.targetId,g);a.push(E)}})))})),await Promise.all(c),n.Pu.H_(r),await(async function(y,g){const _=De(y);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ee.forEach(g,(S=>ee.forEach(S.Es,(M=>_.persistence.referenceDelegate.addReference(E,S.targetId,M))).next((()=>ee.forEach(S.ds,(M=>_.persistence.referenceDelegate.removeReference(E,S.targetId,M)))))))))}catch(E){if(!Aa(E))throw E;he(mp,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const M=_.Ms.get(S),L=M.snapshotVersion,z=M.withLastLimboFreeSnapshotVersion(L);_.Ms=_.Ms.insert(S,z)}}})(n.localStore,a))}async function ek(i,e){const t=De(i);if(!t.currentUser.isEqual(e)){he(Cp,"User change. New user:",e.toKey());const n=await _C(t.localStore,e);t.currentUser=e,(function(a,c){a.mu.forEach((h=>{h.forEach((y=>{y.reject(new ce(J.CANCELLED,c))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await pu(t,n.Ls)}}function tk(i,e){const t=De(i),n=t.Au.get(e);if(n&&n.hu)return qe().add(n.key);{let r=qe();const a=t.Iu.get(e);if(!a)return r;for(const c of a){const h=t.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function LC(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=DC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XP.bind(null,e),e.Pu.H_=OP.bind(null,e.eventManager),e.Pu.yu=UP.bind(null,e.eventManager),e}function nk(i){const e=De(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jP.bind(null,e),e}class Tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return iP(this.persistence,new eP,e.initialUser,this.serializer)}Cu(e){return new vC(dp.mi,this.serializer)}Du(e){return new cP}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tf.provider={build:()=>new Tf};class ik extends Tf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){tt(this.persistence.referenceDelegate instanceof vf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new F4(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new vC((n=>vf.mi(n,t)),this.serializer)}}class qm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>C0(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=ek.bind(null,this.syncEngine),await DP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PP})()}createDatastore(e){const t=kf(e.databaseInfo.databaseId),n=(function(a){return new pP(a)})(e.databaseInfo);return(function(a,c,h,y){return new _P(a,c,h,y)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,r,a,c,h){return new EP(n,r,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>C0(this.syncEngine,t,0)),(function(){return g0.v()?new g0:new fP})())}createSyncEngine(e,t){return(function(r,a,c,h,y,g,_){const E=new GP(r,a,c,h,y,g);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(r){const a=De(r);he(eo,"RemoteStore shutting down."),a.Ea.add(5),await mu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}qm.provider={build:()=>new qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="FirestoreClient";class rk{constructor(e,t,n,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=dn.UNAUTHENTICATED,this.clientId=ep.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async c=>{he(tr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(n,(c=>(he(tr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Tp(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function em(i,e){i.asyncQueue.verifyOperationInProgress(),he(tr,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let n=t.initialUser;i.setCredentialChangeListener((async r=>{n.isEqual(r)||(await _C(e.localStore,r),n=r)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function S0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await ok(i);he(tr,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((n=>v0(e.remoteStore,n))),i.setAppCheckTokenChangeListener(((n,r)=>v0(e.remoteStore,r))),i._onlineComponents=e}async function ok(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(tr,"Using user provided OfflineComponentProvider");try{await em(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===J.FAILED_PRECONDITION||r.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;da("Error using user provided cache. Falling back to memory cache: "+t),await em(i,new Tf)}}else he(tr,"Using default OfflineComponentProvider"),await em(i,new ik(void 0));return i._offlineComponents}async function OC(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(tr,"Using user provided OnlineComponentProvider"),await S0(i,i._uninitializedComponentsProvider._online)):(he(tr,"Using default OnlineComponentProvider"),await S0(i,new qm))),i._onlineComponents}function ak(i){return OC(i).then((e=>e.syncEngine))}async function x0(i){const e=await OC(i),t=e.eventManager;return t.onListen=HP.bind(null,e.syncEngine),t.onUnlisten=KP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$P.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QP.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="firestore.googleapis.com",R0=!0;class b0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FC,this.ssl=R0}else this.host=e.host,this.ssl=e.ssl??R0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<O4)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UC(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new cV;switch(n.type){case"firstParty":return new mV(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=w0.get(t);n&&(he("ComponentProvider","Removing Datastore"),w0.delete(t),n.terminate())})(this),Promise.resolve()}}function lk(i,e,t,n={}){var g;i=Di(i,Uf);const r=Jm(e),a=i._getSettings(),c={...a,emulatorOptions:i._getEmulatorOptions()},h=`${e}:${t}`;r&&(O2(`https://${h}`),q2("Firestore",!0)),a.host!==FC&&a.host!==h&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...a,host:h,ssl:r,emulatorOptions:n};if(!cf(y,c)&&(i._setSettings(y),n.mockUserToken)){let _,E;if(typeof n.mockUserToken=="string")_=n.mockUserToken,E=dn.MOCK_USER;else{_=U2(n.mockUserToken,(g=i._app)==null?void 0:g.options.projectId);const S=n.mockUserToken.sub||n.mockUserToken.user_id;if(!S)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new dn(S)}i._authCredentials=new fV(new IE(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new so(this.firestore,e,this._query)}}class Rt{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(fu(t,Rt._jsonSchema))return new Rt(e,n||null,new _e(ft.fromString(t.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Ot("string",Rt._jsonSchemaVersion),referencePath:Ot("string")};class Qs extends so{constructor(e,t,n){super(e,t,op(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new _e(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function BC(i,e,...t){if(i=Wn(i),NE("collection","path",e),i instanceof Uf){const n=ft.fromString(e,...t);return BT(n),new Qs(i,null,n)}{if(!(i instanceof Rt||i instanceof Qs))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(ft.fromString(e,...t));return BT(n),new Qs(i.firestore,null,n)}}function sa(i,e,...t){if(i=Wn(i),arguments.length===1&&(e=ep.newId()),NE("doc","path",e),i instanceof Uf){const n=ft.fromString(e,...t);return FT(n),new Rt(i,null,new _e(n))}{if(!(i instanceof Rt||i instanceof Qs))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(ft.fromString(e,...t));return FT(n),new Rt(i.firestore,i instanceof Qs?i.converter:null,new _e(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="AsyncQueue";class N0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new EC(this,"async_queue_retry"),this._c=()=>{const n=Wh();n&&he(I0,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=Wh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Wh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Aa(e))throw e;he(I0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",M0(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=_p.createAndSchedule(this,e,t,n,(a=>this.hc(a)));return this.tc.push(r),r}uc(){this.nc&&Se(47125,{Pc:M0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function M0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(i){return(function(t,n){if(typeof t!="object"||t===null)return!1;const r=t;for(const a of n)if(a in r&&typeof r[a]=="function")return!0;return!1})(i,["next","error","complete"])}class to extends Uf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new N0,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new N0(e),this._firestoreClient=void 0,await e}}}function uk(i,e){const t=typeof i=="object"?i:_E(),n=typeof i=="string"?i:hf,r=YD(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const a=k2("firestore");a&&lk(r,...a)}return r}function Sp(i){if(i._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ck(i),i._firestoreClient}function ck(i){var n,r,a;const e=i._freezeSettings(),t=(function(h,y,g,_){return new MV(h,y,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,UC(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(i._databaseId,((n=i._app)==null?void 0:n.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new rk(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(h){const y=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(y),_online:y}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(rn.fromBase64String(e))}catch(t){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ot("string",jn._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(fu(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Ot("string",ki._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,r){if(n.length!==r.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==r[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Li(e.vectorValues);throw new ce(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:Ot("string",Li._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=/^__.*__$/;class dk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new rr(e,this.data,this.fieldMask,t,this.fieldTransforms):new du(e,this.data,t,this.fieldTransforms)}}class qC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new rr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zC(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class xp{constructor(e,t,n,r,a,c){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ef(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zC(this.Ac)&&fk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hk{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||kf(e)}Cc(e,t,n,r=!1){return new xp({Ac:e,methodName:t,Dc:n,path:sn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bf(i){const e=i._freezeSettings(),t=kf(i._databaseId);return new hk(i._databaseId,!!e.ignoreUndefinedProperties,t)}function GC(i,e,t,n,r,a={}){const c=i.Cc(a.merge||a.mergeFields?2:0,e,t,r);Rp("Data must be an object, but it was:",c,n);const h=YC(n,c);let y,g;if(a.merge)y=new Ln(c.fieldMask),g=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const S=zm(e,E,t);if(!c.contains(S))throw new ce(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);QC(_,S)||_.push(S)}y=new Ln(_),g=c.fieldTransforms.filter((E=>y.covers(E.field)))}else y=null,g=c.fieldTransforms;return new dk(new wn(h),y,g)}class qf extends Ff{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qf}}class wp extends Ff{_toFieldTransform(e){return new i4(e.path,new ou)}isEqual(e){return e instanceof wp}}function HC(i,e,t,n){const r=i.Cc(1,e,t);Rp("Data must be an object, but it was:",r,n);const a=[],c=wn.empty();sr(n,((y,g)=>{const _=bp(e,y,t);g=Wn(g);const E=r.yc(_);if(g instanceof qf)a.push(_);else{const S=yu(g,E);S!=null&&(a.push(_),c.set(_,S))}}));const h=new Ln(a);return new qC(c,h,r.fieldTransforms)}function $C(i,e,t,n,r,a){const c=i.Cc(1,e,t),h=[zm(e,n,t)],y=[r];if(a.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)h.push(zm(e,a[S])),y.push(a[S+1]);const g=[],_=wn.empty();for(let S=h.length-1;S>=0;--S)if(!QC(g,h[S])){const M=h[S];let L=y[S];L=Wn(L);const z=c.yc(M);if(L instanceof qf)g.push(M);else{const H=yu(L,z);H!=null&&(g.push(M),_.set(M,H))}}const E=new Ln(g);return new qC(_,E,c.fieldTransforms)}function mk(i,e,t,n=!1){return yu(t,i.Cc(n?4:3,e))}function yu(i,e){if(KC(i=Wn(i)))return Rp("Unsupported field value:",e,i),YC(i,e);if(i instanceof Ff)return(function(n,r){if(!zC(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(r);a&&r.fieldTransforms.push(a)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,r){const a=[];let c=0;for(const h of n){let y=yu(h,r.wc(c));y==null&&(y={nullValue:"NULL_VALUE"}),a.push(y),c++}return{arrayValue:{values:a}}})(i,e)}return(function(n,r){if((n=Wn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return e4(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=pt.fromDate(n);return{timestampValue:yf(r.serializer,a)}}if(n instanceof pt){const a=new pt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:yf(r.serializer,a)}}if(n instanceof ki)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof jn)return{bytesValue:cC(r.serializer,n._byteString)};if(n instanceof Rt){const a=r.databaseId,c=n.firestore._databaseId;if(!c.isEqual(a))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:cp(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof Li)return(function(c,h){return{mapValue:{fields:{[FE]:{stringValue:BE},[mf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return ap(h.serializer,g)}))}}}}}})(n,r);throw r.Sc(`Unsupported field value: ${xf(n)}`)})(i,e)}function YC(i,e){const t={};return VE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sr(i,((n,r)=>{const a=yu(r,e.mc(n));a!=null&&(t[n]=a)})),{mapValue:{fields:t}}}function KC(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof pt||i instanceof ki||i instanceof jn||i instanceof Rt||i instanceof Ff||i instanceof Li)}function Rp(i,e,t){if(!KC(t)||!ME(t)){const n=xf(t);throw n==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+n)}}function zm(i,e,t){if((e=Wn(e))instanceof gu)return e._internalPath;if(typeof e=="string")return bp(i,e);throw Ef("Field path arguments must be of type string or ",i,!1,void 0,t)}const pk=new RegExp("[~\\*/\\[\\]]");function bp(i,e,t){if(e.search(pk)>=0)throw Ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new gu(...e.split("."))._internalPath}catch{throw Ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Ef(i,e,t,n,r){const a=n&&!n.isEmpty(),c=r!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let y="";return(a||c)&&(y+=" (found",a&&(y+=` in field ${n}`),c&&(y+=` in document ${r}`),y+=")"),new ce(J.INVALID_ARGUMENT,h+i+y)}function QC(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ip("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gk extends ZC{data(){return super.data()}}function Ip(i,e){return typeof e=="string"?bp(i,e):e instanceof gu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Np{}class XC extends Np{}function JC(i,e,...t){let n=[];e instanceof Np&&n.push(e),n=n.concat(t),(function(a){const c=a.filter((y=>y instanceof Dp)).length,h=a.filter((y=>y instanceof Mp)).length;if(c>1||c>0&&h>0)throw new ce(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const r of n)i=r._apply(i);return i}class Mp extends XC{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Mp(e,t,n)}_apply(e){const t=this._parse(e);return WC(e._query,t),new so(e.firestore,e.converter,Mm(e._query,t))}_parse(e){const t=Bf(e.firestore);return(function(a,c,h,y,g,_,E){let S;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){P0(E,_);const L=[];for(const z of E)L.push(V0(y,a,z));S={arrayValue:{values:L}}}else S=V0(y,a,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||P0(E,_),S=mk(h,c,E,_==="in"||_==="not-in");return Lt.create(g,_,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Dp extends Np{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dp(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:hi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,a){let c=r;const h=a.getFlattenedFilters();for(const y of h)WC(c,y),c=Mm(c,y)})(e._query,t),new so(e.firestore,e.converter,Mm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vp extends XC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Vp(e,t)}_apply(e){const t=(function(r,a,c){if(r.startAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(a,c)})(e._query,this._field,this._direction);return new so(e.firestore,e.converter,(function(r,a){const c=r.explicitOrderBy.concat([a]);return new Sa(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,t))}}function jC(i,e="asc"){const t=e,n=Ip("orderBy",i);return Vp._create(n,t)}function V0(i,e,t){if(typeof(t=Wn(t))=="string"){if(t==="")throw new ce(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QE(e)&&t.indexOf("/")!==-1)throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(ft.fromString(t));if(!_e.isDocumentKey(n))throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return QT(i,new _e(n))}if(t instanceof Rt)return QT(i,t._key);throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xf(t)}.`)}function P0(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WC(i,e){const t=(function(r,a){for(const c of r)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(i.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class vk{convertValue(e,t="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return sr(e,((r,a)=>{n[r]=this.convertValue(a,t)})),n}convertVectorValue(e){var n,r,a;const t=(a=(r=(n=e.fields)==null?void 0:n[mf].arrayValue)==null?void 0:r.values)==null?void 0:a.map((c=>wt(c.doubleValue)));return new Li(t)}convertGeoPoint(e){return new ki(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=bf(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const t=Js(e);return new pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ft.fromString(e);tt(gC(n),9688,{name:e});const r=new iu(n.get(1),n.get(3)),a=new _e(n.popFirst(5));return r.isEqual(t)||as(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(i,e,t){let n;return n=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,n}class Hl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zr extends ZC{constructor(e,t,n,r,a,c){super(e,t,n,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Ip("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Zr._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zr._jsonSchema={type:Ot("string",Zr._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class jc extends Zr{data(e={}){return super.data(e)}}class ra{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Hl(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new jc(this._firestore,this._userDataWriter,n.key,n,new Hl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,a){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const y=new jc(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Hl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:y,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const y=new jc(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Hl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,_=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:_k(h.type),doc:y,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ep.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _k(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:Ot("string",ra._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class tA extends vk{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}}function nA(i,e,t){i=Di(i,Rt);const n=Di(i.firestore,to),r=eA(i.converter,e,t);return zf(n,[GC(Bf(n),"setDoc",i._key,r,i.converter!==null,t).toMutation(i._key,Rn.none())])}function Tk(i,e,t,...n){i=Di(i,Rt);const r=Di(i.firestore,to),a=Bf(r);let c;return c=typeof(e=Wn(e))=="string"||e instanceof gu?$C(a,"updateDoc",i._key,e,t,n):HC(a,"updateDoc",i._key,e),zf(r,[c.toMutation(i._key,Rn.exists(!0))])}function iA(i){return zf(Di(i.firestore,to),[new Vf(i._key,Rn.none())])}function sA(i,...e){var y,g,_;i=Wn(i);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||D0(e[n])||(t=e[n++]);const r={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(D0(e[n])){const E=e[n];e[n]=(y=E.next)==null?void 0:y.bind(E),e[n+1]=(g=E.error)==null?void 0:g.bind(E),e[n+2]=(_=E.complete)==null?void 0:_.bind(E)}let a,c,h;if(i instanceof Rt)c=Di(i.firestore,to),h=op(i._key.path),a={next:E=>{e[n]&&e[n](Ek(c,i,E))},error:e[n+1],complete:e[n+2]};else{const E=Di(i,so);c=Di(E.firestore,to),h=E._query;const S=new tA(c);a={next:M=>{e[n]&&e[n](new ra(c,S,E,M))},error:e[n+1],complete:e[n+2]},yk(i._query)}return(function(S,M,L,z){const H=new sk(z),X=new FP(M,H,L);return S.asyncQueue.enqueueAndForget((async()=>kP(await x0(S),X))),()=>{H.Nu(),S.asyncQueue.enqueueAndForget((async()=>LP(await x0(S),X)))}})(Sp(c),h,r,a)}function zf(i,e){return(function(n,r){const a=new Qr;return n.asyncQueue.enqueueAndForget((async()=>ZP(await ak(n),r,a))),a.promise})(Sp(i),e)}function Ek(i,e,t){const n=t.docs.get(e._key),r=new tA(i);return new Zr(i,r,e._key,n,new Hl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bf(e)}set(e,t,n){this._verifyNotCommitted();const r=tm(e,this._firestore),a=eA(r.converter,t,n),c=GC(this._dataReader,"WriteBatch.set",r._key,a,r.converter!==null,n);return this._mutations.push(c.toMutation(r._key,Rn.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const a=tm(e,this._firestore);let c;return c=typeof(t=Wn(t))=="string"||t instanceof gu?$C(this._dataReader,"WriteBatch.update",a._key,t,n,r):HC(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Rn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=tm(e,this._firestore);return this._mutations=this._mutations.concat(new Vf(t._key,Rn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tm(i,e){if((i=Wn(i)).firestore!==e)throw new ce(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Ak(){return new wp("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(i){return Sp(i=Di(i,to)),new Ck(i,(e=>zf(i,e)))}(function(e,t=!0){(function(r){Ea=r})(XD),ff(new jl("firestore",((n,{instanceIdentifier:r,options:a})=>{const c=n.getProvider("app").getImmediate(),h=new to(new dV(n.getProvider("auth-internal")),new pV(c,n.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(g.options.projectId,_)})(c,r),c);return a={useFetchStreams:t,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),na(kT,LT,e),na(kT,LT,"esm2020")})();const xk={apiKey:"AIzaSyCKLlAvazzXt3WqkShSvzwf38kx8oJEduc",authDomain:"matellicongelados.firebaseapp.com",projectId:"matellicongelados",storageBucket:"matellicongelados.firebasestorage.app",messagingSenderId:"699548334518",appId:"1:699548334518:web:3925e0b2b76221e459e917",measurementId:"G-KTXSLES7W6"},wk=JD().length===0?vE(xk):_E(),ss=uk(wk),Pp="meals_data",Rk=i=>{try{console.log("[Firestore] Iniciando monitoramento do cardpio...");const e=JC(BC(ss,Pp),jC("name","asc"));return sA(e,t=>{const n=t.docs.map(r=>({...r.data()}));console.log(`[Firestore] Sync: ${n.length} pratos sincronizados do banco.`),i(n)},t=>{console.error("[Firestore] Erro na escuta em tempo real:",t)})}catch(e){return console.error("[Firestore] Falha crtica ao conectar:",e),()=>{}}},rA=async i=>{try{console.log(`[Firestore] Preparando gravao de: ${i.name}`);const e=JSON.parse(JSON.stringify(i)),t=new Promise((r,a)=>setTimeout(()=>a(new Error(`Timeout ao salvar ${i.name}. Verifique as regras de segurana do Firestore.`)),1e4)),n=nA(sa(ss,Pp,i.id),e);await Promise.race([n,t]),console.log(`[Firestore] OK: ${i.name} gravado com sucesso.`)}catch(e){throw console.error(`[Firestore] Falha ao salvar prato ${i.name}:`,e),e}},bk=async i=>{console.log(`[Firestore] Removendo prato do banco: ${i}`),await iA(sa(ss,Pp,i))},Ik=async i=>{if(!i||i.length===0){console.error("[Sync] Erro: Dados iniciais no encontrados.");return}console.log(`[Sync] Iniciando batch de ${i.length} itens.`);for(const[e,t]of i.entries())try{console.log(`[Sync] Gravando item ${e+1}/${i.length}...`),await rA(t)}catch(n){if(console.error(`[Sync] Erro no item ${t.id}:`,n.message),e===0)throw new Error("A conexo com o Firestore falhou. Verifique se as regras (Rules) permitem escrita.")}console.log("[Sync] Sincronizao inicial concluda com xito.")},Nk=[{id:"b1",name:"Tapioca de Ovos e Queijo",description:"Tapioca crocante recheada com ovos mexidos cremosos e queijo branco.",category:vn.BREAKFAST,image:"https://images.unsplash.com/photo-1550950158-d0d960dff51b?auto=format&fit=crop&q=80&w=400",tags:["Proteico","Sem Glten"],price:18.9,weight:"250g",ingredients:{"Goma de Tapioca":"80g",Ovos:"2 unid","Queijo Minas":"50g",Manteiga:"5g"}},{id:"b2",name:"Omelete de Espinafre",description:"Omelete leve com espinafre fresco e ricota temperada.",category:vn.BREAKFAST,image:"https://images.unsplash.com/photo-1510693206972-df098062cb71?auto=format&fit=crop&q=80&w=400",tags:["Low Carb","Vegetariano"],price:16.5,weight:"200g",ingredients:{Ovos:"3 unid",Espinafre:"40g",Ricota:"40g",Cebola:"10g"}},{id:"s1",name:"Vitamina de Morango e Chia",description:"Mix refrescante de morangos selecionados, leite vegetal e sementes de chia.",category:vn.SMOOTHIE,image:"https://images.unsplash.com/photo-1553530666-ba11a7da3888?auto=format&fit=crop&q=80&w=400",tags:["Fibras","Detox"],price:14.9,weight:"350ml",ingredients:{Morangos:"120g","Leite de Cco":"200ml",Chia:"15g",Mel:"10ml"}},{id:"l1",name:"Frango Grelhado com Legumes",description:"Peito de frango marinado em ervas finas com mix de legumes ao vapor.",category:vn.LUNCH,image:"https://images.unsplash.com/photo-1604908176997-125f25cc6f3d?auto=format&fit=crop&q=80&w=400",tags:["Proteico","Fitness"],price:28.9,weight:"400g",ingredients:{"Peito de Frango":"150g",Brcolis:"80g",Cenoura:"80g","Arroz Integral":"100g"}},{id:"l2",name:"Salmo ao Maracuj",description:"Fil de salmo grelhado servido com arroz integral e pur de batata doce.",category:vn.LUNCH,image:"https://images.unsplash.com/photo-1467003909585-2f8a72700288?auto=format&fit=crop&q=80&w=400",tags:["mega 3","Gourmet"],price:34.9,weight:"380g",ingredients:{"Fil de Salmo":"130g","Polpa de Maracuj":"30ml","Batata Doce":"120g","Arroz Integral":"100g"}},{id:"de1",name:"Mousse de Chocolate 70%",description:"Mousse aerada de chocolate amargo com nibs de cacau.",category:vn.DESSERT,image:"https://images.unsplash.com/photo-1541783245831-57d6fb0926d3?auto=format&fit=crop&q=80&w=400",tags:["Sem Acar","Fit"],price:12,weight:"100g",ingredients:{"Chocolate 70%":"60g","Claras de Ovo":"2 unid",Xilitol:"10g","Nibs de Cacau":"5g"}},{id:"d1",name:"Sopa de Abbora Caboti",description:"Creme aveludado de abbora com gengibre e sementes torradas.",category:vn.DINNER,image:"https://images.unsplash.com/photo-1476718406336-bb5a9690ee2a?auto=format&fit=crop&q=80&w=400",tags:["Leve","Conforto"],price:22.5,weight:"450ml",ingredients:{"Abbora Caboti":"300g",Gengibre:"10g",Cebola:"20g","Sementes de Girassol":"10g"}}],Mk={aprovado:"bg-emerald-100 text-emerald-700",compras:"bg-amber-100 text-amber-700",produzindo:"bg-blue-100 text-blue-700",entregues:"bg-slate-100 text-slate-700"},Dk=({meals:i,onLogout:e})=>{const[t,n]=et.useState(null),[r,a]=et.useState([]),[c,h]=et.useState("meals"),[y,g]=et.useState(!1),[_,E]=et.useState(!1),[S,M]=et.useState(!1);et.useEffect(()=>{g(!0);const b=JC(BC(ss,"orders"),jC("createdAt","desc")),x=sA(b,N=>{const P=N.docs.map(B=>{var V;return{...B.data(),firebaseId:B.id,date:((V=B.data().createdAt)==null?void 0:V.toDate())||new Date}});a(P),g(!1)},N=>{console.error("Erro ao carregar pedidos:",N),g(!1)});return()=>x()},[]);const L=b=>n(b),z=()=>n({id:"m"+Date.now(),name:"",description:"",category:vn.LUNCH,image:"",tags:[],price:0,weight:"",ingredients:{}}),H=async b=>{if(b.preventDefault(),t)try{await rA(t),n(null)}catch(x){alert(`Erro ao salvar prato: ${x.message}`)}},X=async b=>{if(window.confirm("Excluir este prato permanentemente do cardpio?"))try{await bk(b)}catch{alert("Erro ao excluir prato.")}},j=async()=>{if(window.confirm("Deseja popular o banco de dados com os pratos iniciais?")){E(!0);try{await Ik(Nk),alert("Processo finalizado. Verifique a lista!")}catch(b){alert(`Falha: ${b.message}`)}finally{E(!1)}}},ne=async b=>{if(window.confirm("Excluir este registro de pedido permanentemente?"))try{await iA(sa(ss,"orders",b))}catch{alert("Erro ao excluir pedido.")}},oe=async(b,x)=>{try{await Tk(sa(ss,"orders",b),{status:x})}catch{alert("Erro ao atualizar status.")}},te=et.useMemo(()=>{const b=r.filter(N=>N.status==="aprovado"||N.status==="compras"),x={};return b.forEach(N=>{const P=N.shoppingList||{};Object.entries(P).forEach(([B,V])=>{x[B]||(x[B]={measures:[],orderIds:[]}),x[B].measures.push(...V),x[B].orderIds.includes(N.id)||x[B].orderIds.push(N.id)})}),{items:x,orderIds:b.map(N=>N.id),firebaseIds:b.map(N=>N.firebaseId)}},[r]),le=()=>{if(Object.keys(te.items).length===0)return;let b=`* LISTA CONSOLIDADA DE COMPRAS - MATELLI*
`;b+=`*Pedidos:* ${te.orderIds.join(", ")}

`,Object.entries(te.items).forEach(([x,N])=>{b+=` *${x}*: ${N.measures.join(" + ")}
`}),window.open(`https://wa.me/559184503875?text=${encodeURIComponent(b)}`,"_blank")},k=async()=>{if(te.firebaseIds.length!==0&&window.confirm(`Deseja marcar as compras de ${te.orderIds.length} pedidos como realizadas? Eles mudaro para o status 'produzindo'.`)){M(!0);try{const b=Sk(ss);te.firebaseIds.forEach(x=>{b.update(sa(ss,"orders",x),{status:"produzindo"})}),await b.commit(),alert("Status atualizado para 'Produzindo' com sucesso!")}catch(b){console.error(b),alert("Erro ao atualizar status em massa.")}finally{M(!1)}}};return w.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 sm:p-12 border border-slate-100 shadow-2xl",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-12 gap-6",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-4xl font-bold text-[#A61919]",children:"Painel Matelli"}),w.jsxs("div",{className:"flex flex-wrap gap-4 mt-4",children:[w.jsxs("button",{onClick:()=>h("meals"),className:`text-[10px] font-black uppercase tracking-widest px-4 py-2 rounded-lg transition-all ${c==="meals"?"bg-[#A61919] text-white":"bg-slate-100 text-slate-400"}`,children:["Cardpio (",i.length,")"]}),w.jsxs("button",{onClick:()=>h("orders"),className:`text-[10px] font-black uppercase tracking-widest px-4 py-2 rounded-lg transition-all ${c==="orders"?"bg-[#A61919] text-white":"bg-slate-100 text-slate-400"}`,children:["Pedidos (",r.length,")"]}),w.jsx("button",{onClick:()=>h("shopping"),className:`text-[10px] font-black uppercase tracking-widest px-4 py-2 rounded-lg transition-all ${c==="shopping"?"bg-emerald-600 text-white shadow-lg":"bg-slate-100 text-slate-400"}`,children:" Lista de Compras"})]})]}),w.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[c==="meals"&&w.jsxs(w.Fragment,{children:[i.length===0&&w.jsx("button",{onClick:j,disabled:_,className:"bg-amber-500 text-white px-6 py-3 rounded-2xl font-bold text-[10px] tracking-widest uppercase shadow-xl hover:bg-amber-600 transition-all disabled:opacity-50 flex items-center gap-2",children:_?"Sincronizando...":"Sincronizar Inicial"}),w.jsx("button",{onClick:z,className:"bg-[#009246] text-white px-8 py-3 rounded-2xl font-bold shadow-xl shadow-[#009246]/20 hover:scale-105 transition-transform text-[10px] tracking-widest uppercase",children:"+ NOVO PRATO"})]}),w.jsx("button",{onClick:e,className:"text-slate-400 hover:text-[#A61919] font-black text-[10px] uppercase tracking-widest px-4",children:"SAIR"})]})]}),c==="meals"?w.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:w.jsxs("table",{className:"w-full text-left",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"border-b-2 border-[#F9F4ED]",children:[w.jsx("th",{className:"pb-6 font-black text-slate-300 text-[10px] uppercase tracking-[0.2em]",children:"Item"}),w.jsx("th",{className:"pb-6 font-black text-slate-300 text-[10px] uppercase tracking-[0.2em]",children:"Categoria"}),w.jsx("th",{className:"pb-6 font-black text-slate-300 text-[10px] uppercase tracking-[0.2em]",children:"Preo / Peso"}),w.jsx("th",{className:"pb-6 font-black text-slate-300 text-[10px] uppercase tracking-[0.2em] text-right",children:"Aes"})]})}),w.jsx("tbody",{className:"divide-y divide-[#F9F4ED]",children:i.map(b=>w.jsxs("tr",{className:"group hover:bg-[#F9F4ED]/50 transition-colors",children:[w.jsx("td",{className:"py-6",children:w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("img",{src:b.image,className:"w-14 h-14 rounded-2xl object-cover border-2 border-white shadow-md"}),w.jsx("span",{className:"font-bold text-slate-800 text-lg",children:b.name})]})}),w.jsx("td",{className:"py-6 font-bold text-slate-500 text-sm uppercase",children:b.category}),w.jsxs("td",{className:"py-6 text-sm font-black text-[#A61919]",children:["R$ ",b.price.toFixed(2)," / ",b.weight]}),w.jsx("td",{className:"py-6 text-right",children:w.jsxs("div",{className:"flex justify-end gap-3 opacity-0 group-hover:opacity-100 transition-opacity",children:[w.jsx("button",{onClick:()=>L(b),className:"bg-white p-3 rounded-xl shadow-sm text-[#009246] hover:bg-[#009246] hover:text-white transition-all",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:w.jsx("path",{d:"m5.433 13.917 1.262-3.155A4 4 0 0 1 7.58 9.42l6.92-6.918a2.121 2.121 0 0 1 3 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 0 1-.65-.65Z"})})}),w.jsx("button",{onClick:()=>X(b.id),className:"bg-white p-3 rounded-xl shadow-sm text-[#A61919] hover:bg-[#A61919] hover:text-white transition-all",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:w.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75V4H5a2 2 0 0 0-2 2v.041c0 .248.01.493.029.736L4.17 16.924a3 3 0 0 0 2.992 2.73h5.676a3 3 0 0 0 2.992-2.73l1.142-10.147c.018-.243.029-.488.029-.736V6a2 2 0 0 0-2-2h-1v-.25A2.75 2.75 0 0 0 11.25 1h-2.5ZM7.5 3.75a1.25 1.25 0 0 1 1.25-1.25h2.5a1.25 1.25 0 0 1 1.25 1.25V4h-5v-.25Z",clipRule:"evenodd"})})})]})})]},b.id))})]})}):c==="orders"?w.jsx("div",{className:"space-y-6",children:y?w.jsx("div",{className:"flex items-center justify-center py-20",children:w.jsx("div",{className:"w-10 h-10 border-4 border-[#A61919] border-t-transparent rounded-full animate-spin"})}):r.length===0?w.jsx("div",{className:"text-center py-20 bg-slate-50 rounded-3xl border-2 border-dashed border-slate-200",children:w.jsx("p",{className:"text-slate-400 font-bold uppercase text-xs tracking-widest",children:"Nenhum pedido no Firebase ainda."})}):r.map(b=>w.jsxs("div",{className:"bg-slate-50 rounded-3xl p-6 border border-slate-100 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 group transition-all hover:bg-white hover:shadow-lg",children:[w.jsxs("div",{className:"flex-grow",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("span",{className:"bg-slate-800 text-white text-[10px] font-black px-3 py-1 rounded-full uppercase",children:b.id}),w.jsx("span",{className:`text-[10px] font-black px-3 py-1 rounded-full uppercase ${Mk[b.status||"aprovado"]}`,children:b.status||"aprovado"}),w.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:b.date.toLocaleString()})]}),w.jsxs("h4",{className:"text-xl font-bold text-slate-800 mt-2",children:["Pedido ",b.type==="kit"?"de Kit Semanal":"Avulso"]}),w.jsx("div",{className:"flex gap-2 mt-2",children:w.jsx("select",{value:b.status||"aprovado",onChange:x=>oe(b.firebaseId,x.target.value),className:"text-[10px] font-black uppercase tracking-widest bg-white border border-slate-200 rounded-lg px-2 py-1 outline-none",children:["feito","aprovado","compras","esperando","produzindo","entregues","avaliados"].map(x=>w.jsx("option",{value:x,children:x},x))})})]}),w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx("div",{className:"text-right",children:w.jsxs("span",{className:"text-2xl font-black text-[#A61919]",children:["R$ ",b.total.toFixed(2)]})}),w.jsx("button",{onClick:()=>ne(b.firebaseId),className:"p-3 text-red-200 hover:text-red-600 transition-colors",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:w.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75V4H5a2 2 0 0 0-2 2v.041c0 .248.01.493.029.736L4.17 16.924a3 3 0 0 0 2.992 2.73h5.676a3 3 0 0 0 2.992-2.73l1.142-10.147c.018-.243.029-.488.029-.736V6a2 2 0 0 0-2-2h-1v-.25A2.75 2.75 0 0 0 11.25 1h-2.5ZM7.5 3.75a1.25 1.25 0 0 1 1.25-1.25h2.5a1.25 1.25 0 0 1 1.25 1.25V4h-5v-.25Z",clipRule:"evenodd"})})})]})]},b.firebaseId))}):w.jsxs("div",{className:"animate-fade-in",children:[w.jsxs("div",{className:"bg-emerald-50 rounded-3xl p-8 mb-8 border border-emerald-100 flex flex-col md:flex-row justify-between items-center gap-6",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-bold text-emerald-800",children:"Consolidado de Compras"}),w.jsxs("p",{className:"text-emerald-600 text-sm font-medium",children:["Agregando ingredientes de ",te.orderIds.length," pedidos pendentes."]}),w.jsx("div",{className:"flex gap-2 mt-3",children:te.orderIds.map(b=>w.jsx("span",{className:"text-[9px] font-black bg-emerald-200 text-emerald-800 px-2 py-0.5 rounded-full",children:b},b))})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:le,className:"bg-emerald-600 text-white px-6 py-4 rounded-2xl font-bold text-[10px] uppercase tracking-widest shadow-lg shadow-emerald-200 flex items-center gap-2 hover:bg-emerald-700 transition-all",children:" Enviar WhatsApp"}),w.jsx("button",{onClick:k,disabled:S||te.firebaseIds.length===0,className:"bg-amber-500 text-white px-6 py-4 rounded-2xl font-bold text-[10px] uppercase tracking-widest shadow-lg shadow-amber-200 flex items-center gap-2 hover:bg-amber-600 transition-all disabled:opacity-50",children:S?"Processando...":" Compra Realizada"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[Object.entries(te.items).map(([b,x])=>w.jsxs("div",{className:"bg-white border border-slate-100 p-5 rounded-3xl shadow-sm hover:shadow-md transition-shadow",children:[w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:b}),w.jsxs("span",{className:"text-[10px] font-black bg-slate-100 text-slate-400 px-2 py-0.5 rounded-full",children:[x.orderIds.length," Pedidos"]})]}),w.jsx("div",{className:"space-y-1",children:x.measures.map((N,P)=>w.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 font-medium",children:[w.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),N]},P))}),w.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-50",children:[w.jsx("p",{className:"text-[8px] font-black text-slate-300 uppercase tracking-widest",children:"Origens:"}),w.jsx("p",{className:"text-[9px] font-bold text-slate-400",children:x.orderIds.join(", ")})]})]},b)),Object.keys(te.items).length===0&&w.jsx("div",{className:"col-span-full py-20 text-center bg-slate-50 rounded-[3rem] border-2 border-dashed border-slate-100",children:w.jsx("p",{className:"text-slate-400 font-bold uppercase text-xs tracking-widest",children:"No h pedidos nos status 'aprovado' ou 'compras'."})})]})]}),t&&w.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-white rounded-[2.5rem] p-12 max-w-2xl w-full shadow-2xl animate-fade-in max-h-[90vh] overflow-y-auto",children:[w.jsx("h3",{className:"text-3xl font-bold mb-8 text-[#A61919]",children:t.name?"Editar Prato":"Novo Prato Matelli"}),w.jsxs("form",{onSubmit:H,className:"space-y-8",children:[w.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[w.jsxs("div",{className:"col-span-2",children:[w.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Nome da Refeio"}),w.jsx("input",{required:!0,value:t.name,onChange:b=>n({...t,name:b.target.value}),className:"w-full bg-[#F9F4ED] border-2 border-transparent focus:border-[#A61919] rounded-2xl px-6 py-4 outline-none transition-all font-bold"})]}),w.jsxs("div",{className:"col-span-2",children:[w.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Descrio Gourmet"}),w.jsx("textarea",{required:!0,value:t.description,onChange:b=>n({...t,description:b.target.value}),className:"w-full bg-[#F9F4ED] border-2 border-transparent focus:border-[#A61919] rounded-2xl px-6 py-4 outline-none h-32 transition-all font-medium"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Categoria"}),w.jsx("select",{value:t.category,onChange:b=>n({...t,category:b.target.value}),className:"w-full bg-[#F9F4ED] rounded-2xl px-6 py-4 outline-none font-bold",children:Object.values(vn).map(b=>w.jsx("option",{value:b,children:b},b))})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Preo (R$)"}),w.jsx("input",{type:"number",step:"0.01",required:!0,value:t.price,onChange:b=>n({...t,price:parseFloat(b.target.value)}),className:"w-full bg-[#F9F4ED] rounded-2xl px-6 py-4 outline-none font-bold"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Peso (ex: 400g)"}),w.jsx("input",{required:!0,value:t.weight,onChange:b=>n({...t,weight:b.target.value}),className:"w-full bg-[#F9F4ED] rounded-2xl px-6 py-4 outline-none font-bold"})]}),w.jsxs("div",{className:"col-span-2",children:[w.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Imagem do Prato (URL)"}),w.jsx("input",{value:t.image,onChange:b=>n({...t,image:b.target.value}),className:"w-full bg-[#F9F4ED] rounded-2xl px-6 py-4 outline-none font-mono text-xs"})]})]}),w.jsxs("div",{className:"flex gap-4 pt-6",children:[w.jsx("button",{type:"submit",className:"flex-grow bg-[#A61919] text-white py-5 rounded-2xl font-bold text-lg shadow-xl shadow-[#A61919]/20",children:"SALVAR NO FIREBASE"}),w.jsx("button",{type:"button",onClick:()=>n(null),className:"px-10 py-5 bg-slate-100 text-slate-500 rounded-2xl font-bold uppercase text-sm",children:"Cancelar"})]})]})]})})]})},Vk=({onLogin:i})=>{const[e,t]=et.useState(""),[n,r]=et.useState(!1),a=c=>{c.preventDefault(),e==="admin123"?i():(r(!0),setTimeout(()=>r(!1),2e3))};return w.jsxs("div",{className:"bg-white rounded-[2.5rem] p-12 border border-slate-100 shadow-2xl max-w-md mx-auto text-center",children:[w.jsx("div",{className:"w-20 h-20 bg-[#F9F4ED] rounded-3xl flex items-center justify-center mx-auto mb-8 text-[#A61919]",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-10 h-10",children:w.jsx("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"})})}),w.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Acesso Restrito"}),w.jsx("p",{className:"text-slate-400 text-sm font-medium mb-10",children:"Identificao administrativa Matelli"}),w.jsxs("form",{onSubmit:a,className:"space-y-6",children:[w.jsx("input",{type:"password",placeholder:"SENHA",value:e,onChange:c=>t(c.target.value),className:`w-full bg-[#F9F4ED] border-2 rounded-2xl px-6 py-5 outline-none transition-all text-center font-black tracking-[0.5em] ${n?"border-red-500 animate-shake":"border-transparent focus:border-[#A61919]"}`}),w.jsx("button",{type:"submit",className:"w-full bg-[#A61919] text-white py-5 rounded-2xl font-bold text-lg shadow-xl shadow-[#A61919]/20 hover:scale-105 transition-all",children:"ENTRAR NO PAINEL"})]})]})},Pk="https://api.aistudio.google.com/v1/files/file-01jkr0a3qf693jsc759n7708pt",kk=({isOpen:i,onClose:e,selection:t,cart:n,type:r})=>{const[a,c]=et.useState(null),[h,y]=et.useState(!1),[g,_]=et.useState(!1);if(!i)return null;const E="5511958877900",S="559184503875",M=()=>r==="kit"&&t?Object.values(t).reduce((X,j)=>X+Object.values(j).reduce((ne,oe)=>ne+((oe==null?void 0:oe.price)||0),0),0):r==="menu"&&n?Object.values(n).reduce((X,j)=>X+j.meal.price*j.quantity,0):0,L=()=>`MAT-${Math.floor(1e3+Math.random()*9e3)}`,z=()=>{const X={},j=(ne,oe=1)=>{Object.entries(ne.ingredients||{}).forEach(([te,le])=>{X[te]||(X[te]=[]);for(let k=0;k<oe;k++)X[te].push(le)})};return r==="kit"&&t?Object.values(t).forEach(ne=>{Object.values(ne).forEach(oe=>{oe&&j(oe)})}):r==="menu"&&n&&Object.values(n).forEach(ne=>{j(ne.meal,ne.quantity)}),X},H=async()=>{_(!0);const X=L(),j=M(),ne=z();try{const oe={id:X,createdAt:Ak(),type:r,total:j,status:"aprovado",items:JSON.parse(JSON.stringify(r==="kit"?t:n)),shoppingList:ne};await nA(sa(ss,"orders",X),oe);let te=`*PEDIDO #${X} - MATELLI CONGELADOS*

`;r==="kit"&&t?(te+=`* KIT SEMANAL (35 Marmitas)*
`,Kr.forEach(k=>{const b=t[k];b&&(te+=`
*${k.toUpperCase()}:*
`,Object.values(b).forEach(x=>{x&&(te+=`- ${x.name}
`)}))})):(te+=`* PEDIDO AVULSO*
`,Object.values(n).forEach(k=>{te+=`- ${k.meal.name} x${k.quantity}
`})),te+=`
*Valor Estimado: R$ ${j.toFixed(2)}*`;let le=`* LISTA DE COMPRAS - PEDIDO #${X}*

`;Object.entries(ne).forEach(([k,b])=>{le+=` *${k}*: ${b.join(" + ")}
`}),window.open(`https://wa.me/${E}?text=${encodeURIComponent(te)}`,"_blank"),setTimeout(()=>{window.open(`https://wa.me/${S}?text=${encodeURIComponent(le)}`,"_blank")},500),c(X),y(!0)}catch(oe){console.error("Erro ao salvar pedido:",oe),oe.code==="permission-denied"?alert("Erro de Permisso: Verifique as regras de segurana no console do Firebase (Firestore Rules)."):alert("Houve um erro ao salvar seu pedido. Tente novamente.")}finally{_(!1)}};return w.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[w.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md",onClick:e}),w.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-2xl shadow-2xl relative animate-fade-in flex flex-col h-[85vh]",children:[w.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold text-[#A61919]",children:h?"Pedido Processado":"Reviso do Pedido"}),w.jsx("p",{className:"text-slate-500 text-xs font-medium",children:h?`Identificador nico: ${a}`:"Revise seus itens antes do envio"})]}),w.jsx("img",{src:Pk,alt:"Matelli",className:"h-12 w-auto hidden sm:block"})]}),w.jsx("div",{className:"flex-grow overflow-y-auto p-6 custom-scrollbar bg-slate-50/30",children:h?w.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-6 animate-fade-in",children:[w.jsx("div",{className:"w-24 h-24 bg-[#009246]/10 rounded-full flex items-center justify-center text-[#009246]",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-12 h-12",children:w.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"})})}),w.jsxs("div",{children:[w.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:"Comprovante Digital"}),w.jsx("h3",{className:"text-4xl font-black text-[#A61919] tracking-tighter",children:a}),w.jsx("p",{className:"text-slate-500 font-medium mt-4 max-w-sm mx-auto leading-tight",children:"Seu pedido foi salvo no banco de dados e as conversas de WhatsApp foram iniciadas."})]}),w.jsx("button",{onClick:e,className:"bg-slate-800 text-white px-10 py-4 rounded-2xl font-bold uppercase tracking-widest text-[10px] shadow-xl hover:scale-105 transition-transform",children:"Concluir e Voltar"})]}):w.jsx("div",{className:"space-y-6",children:r==="kit"&&t?Kr.map(X=>w.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100",children:[w.jsx("h3",{className:"text-xs font-black text-slate-300 uppercase tracking-widest mb-3 border-b border-slate-50 pb-1",children:X}),w.jsx("ul",{className:"space-y-2",children:Object.values(t[X]||{}).map((j,ne)=>w.jsx("li",{className:"text-sm font-bold text-slate-700 flex justify-between items-center",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#009246]"}),j==null?void 0:j.name]})},ne))})]},X)):w.jsx("ul",{className:"space-y-3",children:Object.values(n||{}).map((X,j)=>w.jsxs("li",{className:"flex justify-between items-center bg-white p-4 rounded-2xl shadow-sm border border-slate-100",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-slate-700",children:X.meal.name}),w.jsxs("p",{className:"text-[10px] text-slate-400 font-medium",children:["Quantidade: ",X.quantity]})]}),w.jsxs("p",{className:"font-black text-[#A61919]",children:["R$ ",(X.meal.price*X.quantity).toFixed(2)]})]},j))})})}),!h&&w.jsxs("div",{className:"p-6 bg-white border-t border-slate-100 rounded-b-[2.5rem]",children:[w.jsxs("div",{className:"flex justify-between items-end mb-4",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Resumo Financeiro"}),w.jsxs("span",{className:"text-3xl font-black text-[#A61919]",children:["R$ ",M().toFixed(2)]})]}),w.jsx("p",{className:"text-[9px] text-[#A61919] font-bold italic leading-tight max-w-[140px] text-right",children:"ID gerado aps confirmao."})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsx("button",{onClick:e,disabled:g,className:"py-4 text-slate-400 bg-slate-50 border border-slate-100 rounded-2xl font-bold uppercase text-[10px] tracking-widest hover:bg-slate-100 transition-all",children:"Cancelar"}),w.jsx("button",{onClick:H,disabled:g,className:"bg-[#009246] text-white py-4 rounded-2xl font-bold text-xs shadow-xl shadow-[#009246]/20 text-center flex items-center justify-center gap-2 hover:scale-[1.02] transition-transform uppercase tracking-widest",children:g?w.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):w.jsx(w.Fragment,{children:" Confirmar Pedido"})})]})]})]})]})},Lk="https://api.aistudio.google.com/v1/files/file-01jkr0a3qf693jsc759n7708pt",nm=({className:i})=>w.jsxs("div",{className:`relative flex items-center justify-center ${i}`,children:[w.jsx("img",{src:Lk,alt:"Matelli Congelados",className:"h-full w-auto object-contain z-10",onError:e=>{var t;e.currentTarget.style.display="none",(t=e.currentTarget.parentElement)==null||t.classList.add("matelli-logo-fallback")}}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-0 matelli-logo-fallback-content",children:w.jsx("div",{className:"bg-[#A61919] px-4 py-2 rounded-full border-2 border-white shadow-lg",children:w.jsx("span",{className:"font-matelli text-white text-lg font-bold",children:"MATELLI"})})})]}),Ok=()=>{const[i,e]=et.useState("kit"),[t,n]=et.useState(Kr[0]),[r,a]=et.useState(!1),[c,h]=et.useState(!1),[y,g]=et.useState(!1),[_,E]=et.useState(!0),[S,M]=et.useState([]),[L,z]=et.useState(Kr.reduce((x,N)=>({...x,[N]:{}}),{})),[H,X]=et.useState({});et.useEffect(()=>{const x=Rk(N=>{M(N),E(!1)});return()=>x()},[]);const j=(x,N,P)=>{z(B=>({...B,[x]:{...B[x],[N]:P}}))},ne=x=>{X(N=>{var P;return{...N,[x.id]:{meal:x,quantity:(((P=N[x.id])==null?void 0:P.quantity)||0)+1}}})},oe=x=>{X(N=>{if(!N[x.id])return N;const P=N[x.id].quantity-1;if(P<=0){const{[x.id]:B,...V}=N;return V}return{...N,[x.id]:{...N[x.id],quantity:P}}})},te=et.useMemo(()=>Object.values(L).reduce((x,N)=>x+Object.keys(N).length,0),[L]),le=et.useMemo(()=>Object.values(H).reduce((x,N)=>x+N.quantity,0),[H]),k=et.useMemo(()=>Object.values(H).reduce((x,N)=>x+N.meal.price*N.quantity,0),[H]),b=[{name:"Caf da Manh",categories:[vn.BREAKFAST]},{name:"Vitamina de Frutas",categories:[vn.SMOOTHIE]},{name:"Refeies",categories:[vn.LUNCH,vn.DINNER]},{name:"Sobremesas",categories:[vn.DESSERT]}];return _&&S.length===0?w.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#F9F4ED]",children:[w.jsx(nm,{className:"h-24 mb-8 animate-pulse"}),w.jsx("div",{className:"w-12 h-12 border-4 border-[#A61919] border-t-transparent rounded-full animate-spin"}),w.jsx("p",{className:"mt-4 text-[#A61919] font-bold uppercase text-[10px] tracking-widest",children:"Carregando Cardpio Gourmet..."})]}):w.jsxs("div",{className:"min-h-screen flex flex-col bg-[#F9F4ED]",children:[w.jsx("header",{className:"bg-white border-b border-[#A61919]/10 sticky top-0 z-50 shadow-sm",children:w.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-20 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>{e("kit"),window.scrollTo(0,0)},children:[w.jsx(nm,{className:"h-14 sm:h-16"}),w.jsxs("div",{className:"hidden lg:block",children:[w.jsx("h1",{className:"text-lg font-bold text-[#A61919] leading-tight",children:"Congelados"}),w.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase tracking-widest",children:"Tradio & Sade"})]})]}),w.jsxs("div",{className:"flex bg-[#F9F4ED] p-1 rounded-2xl border border-[#A61919]/5",children:[w.jsx("button",{onClick:()=>e("kit"),className:`px-4 py-1.5 rounded-xl font-bold text-xs transition-all ${i==="kit"?"bg-[#A61919] text-white shadow-md":"text-slate-500 hover:text-[#A61919]"}`,children:" KIT"}),w.jsx("button",{onClick:()=>e("menu"),className:`px-4 py-1.5 rounded-xl font-bold text-xs transition-all ${i==="menu"?"bg-[#A61919] text-white shadow-md":"text-slate-500 hover:text-[#A61919]"}`,children:" MENU"})]}),w.jsxs("button",{onClick:()=>h(!c),className:`relative p-3 rounded-xl transition-all ${c?"bg-[#A61919] text-white shadow-lg":"bg-slate-100 text-slate-500 hover:text-[#A61919]"}`,children:[w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:[w.jsx("path",{d:"M2.25 2.25a.75.75 0 0 0 0 1.5h1.386l2.308 10.774a2.25 2.25 0 0 0 2.247 1.769h10.883a2.25 2.25 0 0 0 2.247-1.769l1.623-7.57a.75.75 0 0 0-.696-.897H5.34l-.441-2.057a.75.75 0 0 0-.736-.594H2.25Zm4.983 14.25a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5Zm7 0a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5Z"}),w.jsx("path",{d:"M10 18a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM18 18a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"})]}),(le>0||te>0)&&w.jsx("span",{className:"absolute -top-1 -right-1 bg-[#009246] text-white text-[10px] font-black w-5 h-5 rounded-full flex items-center justify-center border-2 border-white",children:i==="kit"?te:le})]})]})}),w.jsxs("div",{className:`fixed inset-0 z-[60] transition-opacity duration-300 ${c?"opacity-100":"opacity-0 pointer-events-none"}`,children:[w.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:()=>h(!1)}),w.jsxs("div",{className:`absolute right-0 top-0 bottom-0 w-full max-sm:w-full max-w-sm bg-white shadow-2xl transition-transform duration-500 ease-out p-6 overflow-y-auto no-scrollbar ${c?"translate-x-0":"translate-x-full"}`,children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("h2",{className:"text-2xl font-bold text-[#A61919]",children:"Resumo do Pedido"}),w.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-slate-100 rounded-full text-slate-400",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-6 h-6",children:w.jsx("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"})})})]}),i==="kit"?w.jsx(CT,{selection:L,onFinish:()=>g(!0)}):w.jsxs("div",{className:"space-y-6",children:[w.jsx("h3",{className:"text-lg font-bold text-slate-800 border-b pb-2",children:"Carrinho Avulso"}),le===0?w.jsx("p",{className:"text-slate-400 text-center py-10",children:"Carrinho vazio."}):w.jsxs("div",{className:"space-y-3",children:[Object.values(H).map(x=>w.jsxs("div",{className:"flex items-center justify-between bg-[#F9F4ED] p-3 rounded-2xl",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("img",{src:x.meal.image,className:"w-10 h-10 object-cover rounded-lg"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-bold text-slate-700",children:x.meal.name}),w.jsxs("p",{className:"text-[10px] font-black text-[#A61919]",children:["x",x.quantity," - R$ ",(x.meal.price*x.quantity).toFixed(2)]})]})]}),w.jsx("button",{onClick:()=>oe(x.meal),className:"text-red-400 p-2",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:w.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75V4H5a2 2 0 0 0-2 2v.041c0 .248.01.493.029.736L4.17 16.924a3 3 0 0 0 2.992 2.73h5.676a3 3 0 0 0 2.992-2.73l1.142-10.147c.018-.243.029-.488.029-.736V6a2 2 0 0 0-2-2h-1v-.25A2.75 2.75 0 0 0 11.25 1h-2.5ZM7.5 3.75a1.25 1.25 0 0 1 1.25-1.25h2.5a1.25 1.25 0 0 1 1.25 1.25V4h-5v-.25Z",clipRule:"evenodd"})})})]},x.meal.id)),w.jsxs("div",{className:"pt-4 border-t flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase",children:"Total do Pedido"}),w.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase",children:"(Sujeito a confirmao)"})]}),w.jsxs("span",{className:"text-2xl font-black text-[#A61919]",children:["R$ ",k.toFixed(2)]})]}),w.jsx("button",{onClick:()=>{g(!0),h(!1)},className:"w-full bg-[#A61919] text-white py-4 rounded-2xl font-bold shadow-xl",children:"FINALIZAR PEDIDO"})]})]})]})]}),w.jsx(kk,{isOpen:y,onClose:()=>g(!1),selection:L,cart:H,type:i}),w.jsxs("main",{className:"max-w-7xl mx-auto px-4 mt-6 flex-grow w-full",children:[i==="kit"&&w.jsxs("div",{className:"animate-fade-in",children:[w.jsxs("div",{className:"mb-6 text-center md:text-left",children:[w.jsx("h2",{className:"text-4xl font-bold text-[#A61919] mb-1",children:"Monte Seu Kit"}),w.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Qualidade Matelli em 35 pratos gourmet."})]}),w.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-4 no-scrollbar sticky top-20 z-40 py-4 bg-[#F9F4ED]/95 backdrop-blur-md border-b border-[#A61919]/5",children:Kr.map(x=>{const N=t===x,P=Object.keys(L[x]||{}).length;return w.jsxs("button",{onClick:()=>n(x),className:`flex flex-col items-center px-6 py-3 rounded-2xl transition-all duration-300 whitespace-nowrap border-2 min-w-[120px] ${N?"bg-[#A61919] border-[#A61919] text-white shadow-lg scale-105":"bg-white border-slate-100 text-slate-500 hover:border-[#A61919]/30"}`,children:[w.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest mb-0.5",children:x}),w.jsxs("span",{className:`text-base font-black ${N?"text-white/80":"text-[#A61919]"}`,children:[P,"/5"]})]},x)})}),w.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start mt-6 mb-12",children:[w.jsx("div",{className:"flex-grow w-full space-y-6",children:w.jsxs("div",{className:"bg-white rounded-[2rem] p-6 sm:p-10 shadow-sm border border-slate-100",children:[w.jsxs("h2",{className:"text-2xl font-bold text-slate-800 mb-8 flex items-center gap-3",children:[w.jsx("span",{className:"w-1.5 h-8 bg-[#009246] rounded-full"}),"Refeies de ",t]}),O0.map(x=>{var N;return w.jsx(A2,{category:x,selectedMeal:(N=L[t])==null?void 0:N[x],onSelect:P=>j(t,x,P),customCatalog:S},`${t}-${x}`)})]})}),w.jsx("div",{className:"hidden lg:block w-full lg:w-80 lg:sticky lg:top-48",children:w.jsx(CT,{selection:L,onFinish:()=>g(!0)})})]})]}),i==="menu"&&w.jsxs("div",{className:"animate-fade-in mb-12",children:[w.jsxs("div",{className:"mb-10 text-center md:text-left",children:[w.jsx("h2",{className:"text-4xl font-bold text-[#A61919] mb-2",children:"Cardpio Avulso"}),w.jsx("p",{className:"text-slate-500 font-medium",children:"Sabor italiano pronto para voc."})]}),w.jsx("div",{className:"flex flex-col lg:flex-row gap-8 items-start",children:w.jsxs("div",{className:"flex-grow w-full space-y-16",children:[b.map(x=>{const N=S.filter(P=>x.categories.includes(P.category));return N.length===0?null:w.jsxs("section",{children:[w.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[w.jsx("div",{className:"h-8 w-1.5 bg-[#009246] rounded-full"}),w.jsx("h3",{className:"text-3xl font-bold text-slate-800",children:x.name})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:N.map(P=>{var B;return w.jsx(S2,{meal:P,count:((B=H[P.id])==null?void 0:B.quantity)||0,onAdd:ne,onRemove:oe,isMaxed:!1},P.id)})})]},x.name)}),S.length===0&&!_&&w.jsx("div",{className:"text-center py-20 bg-white rounded-[3rem] border-2 border-dashed border-slate-100",children:w.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"O Cardpio est vazio. Acesse o Admin para cadastrar pratos."})})]})})]}),i==="admin"&&w.jsx("div",{className:"animate-fade-in max-w-5xl mx-auto py-10",children:r?w.jsx(Dk,{meals:S,onLogout:()=>{a(!1),e("kit")}}):w.jsx(Vk,{onLogin:()=>a(!0)})})]}),w.jsx("footer",{className:"mt-auto py-10 border-t border-[#A61919]/5 bg-white",children:w.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex flex-col items-center gap-4",children:[w.jsxs("div",{className:"flex items-center gap-3 grayscale opacity-30 hover:opacity-100 transition-opacity",children:[w.jsx(nm,{className:"h-10"}),w.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em]",children:" 2024 Matelli Congelados"})]}),w.jsx("button",{onClick:()=>{e("admin"),window.scrollTo(0,0)},className:`p-3 rounded-full transition-all border border-slate-100 ${i==="admin"?"bg-slate-800 text-white shadow-lg":"bg-white text-slate-300 hover:text-slate-600"}`,title:"Administrao",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:w.jsx("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"})})})]})})]})},oA=document.getElementById("root");if(!oA)throw new Error("Could not find root element to mount to");const Uk=HS.createRoot(oA);Uk.render(w.jsx(L0.StrictMode,{children:w.jsx(Ok,{})}));
